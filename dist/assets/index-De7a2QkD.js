(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function om(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function tw(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),n}var cp={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function nw(){if(__)return Pl;__=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var E_;function rw(){return E_||(E_=1,cp.exports=nw()),cp.exports}var z=rw(),hp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function iw(){if(T_)return De;T_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,G={};function j(A,K,Z){this.props=A,this.context=K,this.refs=G,this.updater=Z||N}j.prototype.isReactComponent={},j.prototype.setState=function(A,K){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,K,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function X(){}X.prototype=j.prototype;function ue(A,K,Z){this.props=A,this.context=K,this.refs=G,this.updater=Z||N}var ie=ue.prototype=new X;ie.constructor=ue,M(ie,j.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function k(A,K,Z,W,he,_e){return Z=_e.ref,{$$typeof:i,type:A,key:K,ref:Z!==void 0?Z:null,props:_e}}function D(A,K){return k(A.type,K,void 0,void 0,void 0,A.props)}function O(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function x(A){var K={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return K[Z]})}var I=/\/+/g;function C(A,K){return typeof A=="object"&&A!==null&&A.key!=null?x(""+A.key):K.toString(36)}function w(){}function te(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(w,w):(A.status="pending",A.then(function(K){A.status==="pending"&&(A.status="fulfilled",A.value=K)},function(K){A.status==="pending"&&(A.status="rejected",A.reason=K)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ee(A,K,Z,W,he){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var ge=!1;if(A===null)ge=!0;else switch(_e){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(A.$$typeof){case i:case e:ge=!0;break;case v:return ge=A._init,ee(ge(A._payload),K,Z,W,he)}}if(ge)return he=he(A),ge=W===""?"."+C(A,0):W,pe(he)?(Z="",ge!=null&&(Z=ge.replace(I,"$&/")+"/"),ee(he,K,Z,"",function(Yt){return Yt})):he!=null&&(O(he)&&(he=D(he,Z+(he.key==null||A&&A.key===he.key?"":(""+he.key).replace(I,"$&/")+"/")+ge)),K.push(he)),1;ge=0;var Fe=W===""?".":W+":";if(pe(A))for(var qe=0;qe<A.length;qe++)W=A[qe],_e=Fe+C(W,qe),ge+=ee(W,K,Z,_e,he);else if(qe=S(A),typeof qe=="function")for(A=qe.call(A),qe=0;!(W=A.next()).done;)W=W.value,_e=Fe+C(W,qe++),ge+=ee(W,K,Z,_e,he);else if(_e==="object"){if(typeof A.then=="function")return ee(te(A),K,Z,W,he);throw K=String(A),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(A,K,Z){if(A==null)return A;var W=[],he=0;return ee(A,W,"","",function(_e){return K.call(Z,_e,he++)}),W}function L(A){if(A._status===-1){var K=A._result;K=K(),K.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=K)}if(A._status===1)return A._result.default;throw A._result}var ne=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function se(){}return De.Children={map:q,forEach:function(A,K,Z){q(A,function(){K.apply(this,arguments)},Z)},count:function(A){var K=0;return q(A,function(){K++}),K},toArray:function(A){return q(A,function(K){return K})||[]},only:function(A){if(!O(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},De.Component=j,De.Fragment=n,De.Profiler=o,De.PureComponent=ue,De.StrictMode=a,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,De.__COMPILER_RUNTIME={__proto__:null,c:function(A){return de.H.useMemoCache(A)}},De.cache=function(A){return function(){return A.apply(null,arguments)}},De.cloneElement=function(A,K,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=M({},A.props),he=A.key,_e=void 0;if(K!=null)for(ge in K.ref!==void 0&&(_e=void 0),K.key!==void 0&&(he=""+K.key),K)!ve.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(W[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)W.children=Z;else if(1<ge){for(var Fe=Array(ge),qe=0;qe<ge;qe++)Fe[qe]=arguments[qe+2];W.children=Fe}return k(A.type,he,void 0,void 0,_e,W)},De.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},De.createElement=function(A,K,Z){var W,he={},_e=null;if(K!=null)for(W in K.key!==void 0&&(_e=""+K.key),K)ve.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=K[W]);var ge=arguments.length-2;if(ge===1)he.children=Z;else if(1<ge){for(var Fe=Array(ge),qe=0;qe<ge;qe++)Fe[qe]=arguments[qe+2];he.children=Fe}if(A&&A.defaultProps)for(W in ge=A.defaultProps,ge)he[W]===void 0&&(he[W]=ge[W]);return k(A,_e,void 0,void 0,null,he)},De.createRef=function(){return{current:null}},De.forwardRef=function(A){return{$$typeof:d,render:A}},De.isValidElement=O,De.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:L}},De.memo=function(A,K){return{$$typeof:g,type:A,compare:K===void 0?null:K}},De.startTransition=function(A){var K=de.T,Z={};de.T=Z;try{var W=A(),he=de.S;he!==null&&he(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(se,ne)}catch(_e){ne(_e)}finally{de.T=K}},De.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},De.use=function(A){return de.H.use(A)},De.useActionState=function(A,K,Z){return de.H.useActionState(A,K,Z)},De.useCallback=function(A,K){return de.H.useCallback(A,K)},De.useContext=function(A){return de.H.useContext(A)},De.useDebugValue=function(){},De.useDeferredValue=function(A,K){return de.H.useDeferredValue(A,K)},De.useEffect=function(A,K,Z){var W=de.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(A,K)},De.useId=function(){return de.H.useId()},De.useImperativeHandle=function(A,K,Z){return de.H.useImperativeHandle(A,K,Z)},De.useInsertionEffect=function(A,K){return de.H.useInsertionEffect(A,K)},De.useLayoutEffect=function(A,K){return de.H.useLayoutEffect(A,K)},De.useMemo=function(A,K){return de.H.useMemo(A,K)},De.useOptimistic=function(A,K){return de.H.useOptimistic(A,K)},De.useReducer=function(A,K,Z){return de.H.useReducer(A,K,Z)},De.useRef=function(A){return de.H.useRef(A)},De.useState=function(A){return de.H.useState(A)},De.useSyncExternalStore=function(A,K,Z){return de.H.useSyncExternalStore(A,K,Z)},De.useTransition=function(){return de.H.useTransition()},De.version="19.1.0",De}var b_;function po(){return b_||(b_=1,hp.exports=iw()),hp.exports}var Y=po();const $a=om(Y);var fp={exports:{}},Ml={},dp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function aw(){return S_||(S_=1,function(i){function e(q,L){var ne=q.length;q.push(L);e:for(;0<ne;){var se=ne-1>>>1,A=q[se];if(0<o(A,L))q[se]=L,q[ne]=A,ne=se;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var L=q[0],ne=q.pop();if(ne!==L){q[0]=ne;e:for(var se=0,A=q.length,K=A>>>1;se<K;){var Z=2*(se+1)-1,W=q[Z],he=Z+1,_e=q[he];if(0>o(W,ne))he<A&&0>o(_e,W)?(q[se]=_e,q[he]=ne,se=he):(q[se]=W,q[Z]=ne,se=Z);else if(he<A&&0>o(_e,ne))q[se]=_e,q[he]=ne,se=he;else break e}}return L}function o(q,L){var ne=q.sortIndex-L.sortIndex;return ne!==0?ne:q.id-L.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var m=[],g=[],v=1,T=null,S=3,N=!1,M=!1,G=!1,j=!1,X=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(q){for(var L=n(g);L!==null;){if(L.callback===null)a(g);else if(L.startTime<=q)a(g),L.sortIndex=L.expirationTime,e(m,L);else break;L=n(g)}}function de(q){if(G=!1,pe(q),!M)if(n(m)!==null)M=!0,ve||(ve=!0,C());else{var L=n(g);L!==null&&ee(de,L.startTime-q)}}var ve=!1,k=-1,D=5,O=-1;function x(){return j?!0:!(i.unstable_now()-O<D)}function I(){if(j=!1,ve){var q=i.unstable_now();O=q;var L=!0;try{e:{M=!1,G&&(G=!1,ue(k),k=-1),N=!0;var ne=S;try{t:{for(pe(q),T=n(m);T!==null&&!(T.expirationTime>q&&x());){var se=T.callback;if(typeof se=="function"){T.callback=null,S=T.priorityLevel;var A=se(T.expirationTime<=q);if(q=i.unstable_now(),typeof A=="function"){T.callback=A,pe(q),L=!0;break t}T===n(m)&&a(m),pe(q)}else a(m);T=n(m)}if(T!==null)L=!0;else{var K=n(g);K!==null&&ee(de,K.startTime-q),L=!1}}break e}finally{T=null,S=ne,N=!1}L=void 0}}finally{L?C():ve=!1}}}var C;if(typeof ie=="function")C=function(){ie(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=I,C=function(){te.postMessage(null)}}else C=function(){X(I,0)};function ee(q,L){k=X(function(){q(i.unstable_now())},L)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(q){switch(S){case 1:case 2:case 3:var L=3;break;default:L=S}var ne=S;S=L;try{return q()}finally{S=ne}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(q,L){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=S;S=q;try{return L()}finally{S=ne}},i.unstable_scheduleCallback=function(q,L,ne){var se=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?se+ne:se):ne=se,q){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ne+A,q={id:v++,callback:L,priorityLevel:q,startTime:ne,expirationTime:A,sortIndex:-1},ne>se?(q.sortIndex=ne,e(g,q),n(m)===null&&q===n(g)&&(G?(ue(k),k=-1):G=!0,ee(de,ne-se))):(q.sortIndex=A,e(m,q),M||N||(M=!0,ve||(ve=!0,C()))),q},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(q){var L=S;return function(){var ne=S;S=L;try{return q.apply(this,arguments)}finally{S=ne}}}}(pp)),pp}var A_;function sw(){return A_||(A_=1,dp.exports=aw()),dp.exports}var mp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function ow(){if(w_)return nn;w_=1;var i=po();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},nn.flushSync=function(m){var g=f.T,v=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=g,a.p=v,a.d.f()}},nn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},nn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},nn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:N}):v==="script"&&a.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},nn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);a.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},nn.requestFormReset=function(m){a.d.r(m)},nn.unstable_batchedUpdates=function(m,g){return m(g)},nn.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var R_;function C0(){if(R_)return mp.exports;R_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mp.exports=ow(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function lw(){if(C_)return Ml;C_=1;var i=sw(),e=po(),n=C0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(a(188))}function m(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return d(h),t;if(p===l)return d(h),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=p;else{for(var E=!1,b=h.child;b;){if(b===s){E=!0,s=h,l=p;break}if(b===l){E=!0,l=h,s=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===s){E=!0,s=p,l=h;break}if(b===l){E=!0,l=p,s=h;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case j:return"Profiler";case G:return"StrictMode";case de:return"Suspense";case ve:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case ue:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:te(t.type)||"Memo";case D:r=t._payload,t=t._init;try{return te(t(r))}catch{}}return null}var ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},se=[],A=-1;function K(t){return{current:t}}function Z(t){0>A||(t.current=se[A],se[A]=null,A--)}function W(t,r){A++,se[A]=t.current,t.current=r}var he=K(null),_e=K(null),ge=K(null),Fe=K(null);function qe(t,r){switch(W(ge,r),W(_e,t),W(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Qv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Qv(r),t=Yv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(he),W(he,t)}function Yt(){Z(he),Z(_e),Z(ge)}function $t(t){t.memoizedState!==null&&W(Fe,t);var r=he.current,s=Yv(r,t.type);r!==s&&(W(_e,t),W(he,s))}function ft(t){_e.current===t&&(Z(he),Z(_e)),Fe.current===t&&(Z(Fe),Il._currentValue=ne)}var Xt=Object.prototype.hasOwnProperty,Wt=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,tt=i.unstable_shouldYield,jt=i.unstable_requestPaint,rt=i.unstable_now,ut=i.unstable_getCurrentPriorityLevel,ar=i.unstable_ImmediatePriority,sr=i.unstable_UserBlockingPriority,Jt=i.unstable_NormalPriority,On=i.unstable_LowPriority,Hn=i.unstable_IdlePriority,ha=i.log,vu=i.unstable_setDisableYieldValue,dt=null,Ye=null;function vn(t){if(typeof ha=="function"&&vu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(dt,t)}catch{}}var en=Math.clz32?Math.clz32:fa,_u=Math.log,ff=Math.LN2;function fa(t){return t>>>=0,t===0?32:31-(_u(t)/ff|0)|0}var da=256,pa=4194304;function Fn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function is(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,p=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?h=Fn(l):(E&=b,E!==0?h=Fn(E):s||(s=b&~t,s!==0&&(h=Fn(s))))):(b=l&~p,b!==0?h=Fn(b):E!==0?h=Fn(E):s||(s=l&~t,s!==0&&(h=Fn(s)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:h}function ma(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Io(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=da;return da<<=1,(da&4194048)===0&&(da=256),t}function Do(){var t=pa;return pa<<=1,(pa&62914560)===0&&(pa=4194304),t}function Nr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function xr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,r,s,l,h,p){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,P=t.expirationTimes,F=t.hiddenUpdates;for(s=E&~s;0<s;){var re=31-en(s),oe=1<<re;b[re]=0,P[re]=-1;var Q=F[re];if(Q!==null)for(F[re]=null,re=0;re<Q.length;re++){var $=Q[re];$!==null&&($.lane&=-536870913)}s&=~oe}l!==0&&or(t,l,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(E&~r))}function or(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function xo(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function as(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pi(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:d_(t.type))}function Eu(t,r){var s=L.p;try{return L.p=t,r()}finally{L.p=s}}var at=Math.random().toString(36).slice(2),wt="__reactFiber$"+at,Et="__reactProps$"+at,Dn="__reactContainer$"+at,Po="__reactEvents$"+at,df="__reactListeners$"+at,mi="__reactHandles$"+at,Tu="__reactResources$"+at,ga="__reactMarker$"+at;function gi(t){delete t[wt],delete t[Et],delete t[Po],delete t[df],delete t[mi]}function Pr(t){var r=t[wt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Dn]||s[wt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Zv(t);t!==null;){if(s=t[wt])return s;t=Zv(t)}return r}t=s,s=t.parentNode}return null}function lr(t){if(t=t[wt]||t[Dn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ur(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function un(t){var r=t[Tu];return r||(r=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[ga]=!0}var Mo=new Set,ss={};function Gn(t,r){Mr(t,r),Mr(t+"Capture",r)}function Mr(t,r){for(ss[t]=r,t=0;t<r.length;t++)Mo.add(r[t])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},ya={};function Au(t){return Xt.call(ya,t)?!0:Xt.call(Su,t)?!1:bu.test(t)?ya[t]=!0:(Su[t]=!0,!1)}function yi(t,r,s){if(Au(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function cr(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function zt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var va,wu;function kr(t){if(va===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);va=r&&r[1]||"",wu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+t+wu}var os=!1;function ls(t,r){if(!t||os)return"";os=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch($){var Q=$}Reflect.construct(t,[],oe)}else{try{oe.call()}catch($){Q=$}t.call(oe.prototype)}}else{try{throw Error()}catch($){Q=$}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var P=E.split(`
`),F=b.split(`
`);for(h=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===P.length||h===F.length)for(l=P.length-1,h=F.length-1;1<=l&&0<=h&&P[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(P[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||P[l]!==F[h]){var re=`
`+P[l].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=l&&0<=h);break}}}finally{os=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?kr(s):""}function ko(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return ls(t.type,!1);case 11:return ls(t.type.render,!1);case 1:return ls(t.type,!0);case 31:return kr("Activity");default:return""}}function us(t){try{var r="";do r+=ko(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(t){var r=Lo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function cs(t){t._valueTracker||(t._valueTracker=pf(t))}function Vo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Lo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function _a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mf=/[\n"\\]/g;function Tt(t){return t.replace(mf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(t,r,s,l,h,p,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+cn(r)):t.value!==""+cn(r)&&(t.value=""+cn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?vi(t,E,cn(r)):s!=null?vi(t,E,cn(s)):l!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+cn(b):t.removeAttribute("name")}function Ea(t,r,s,l,h,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;s=s!=null?""+cn(s):"",r=r!=null?""+cn(r):s,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function vi(t,r,s){r==="number"&&_a(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Lr(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+cn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function We(t,r,s){if(r!=null&&(r=""+cn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+cn(s):""}function Ta(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ee(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=cn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Nn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ba.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Uo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Ru(t,h,l)}else for(var p in r)r.hasOwnProperty(p)&&Ru(t,p,r[p])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,jr=null;function zo(t){var r=lr(t);if(r&&(t=r.stateNode)){var s=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(_n(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(a(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Vo(l)}break e;case"textarea":We(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Lr(t,!!s.multiple,r,!1)}}}var hr=!1;function Cu(t,r,s){if(hr)return t(r,s);hr=!0;try{var l=t(r);return l}finally{if(hr=!1,(Ur!==null||jr!==null)&&(Ec(),Ur&&(r=Ur,t=jr,jr=Ur=null,zo(r),t)))for(r=0;r<t.length;r++)zo(t[r])}}function Sa(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Kn)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Pn=!1}var fr=null,_i=null,zr=null;function Bo(){if(zr)return zr;var t,r=_i,s=r.length,l,h="value"in fr?fr.value:fr.textContent,p=h.length;for(t=0;t<s&&r[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&r[s-l]===h[p-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function dr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pr(){return!0}function qo(){return!1}function Pt(t){function r(s,l,h,p,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pr:qo,this.isPropagationStopped=qo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Pt(Ke),wa=v({},Ke,{view:0,detail:0}),Iu=Pt(wa),ds,ps,mr,Ra=v({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mr&&(mr&&t.type==="mousemove"?(ds=t.screenX-mr.screenX,ps=t.screenY-mr.screenY):ps=ds=0,mr=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:ps}}),Mn=Pt(Ra),Ou=v({},Ra,{dataTransfer:0}),vf=Pt(Ou),Ca=v({},wa,{relatedTarget:0}),ms=Pt(Ca),Ho=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),gs=Pt(Ho),Du=v({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ys=Pt(Du),_f=v({},Ke,{data:0}),Fo=Pt(_f),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=xu[t])?!!r[t]:!1}function Oa(){return Go}var Pu=v({},wa,{key:function(t){if(t.key){var r=Ia[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vs=Pt(Pu),Mu=v({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Pt(Mu),Br=v({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),ku=Pt(Br),Lu=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Pt(Lu),Uu=v({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_s=Pt(Uu),hn=v({},Ke,{newState:0,oldState:0}),ju=Pt(hn),zu=[9,13,27,32],gr=Kn&&"CompositionEvent"in window,c=null;Kn&&"documentMode"in document&&(c=document.documentMode);var y=Kn&&"TextEvent"in window&&!c,_=Kn&&(!gr||c&&8<c&&11>=c),R=" ",B=!1;function J(t,r){switch(t){case"keyup":return zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Rt(t,r){switch(t){case"compositionend":return fe(r);case"keypress":return r.which!==32?null:(B=!0,R);case"textInput":return t=r.data,t===R&&B?null:t;default:return null}}function je(t,r){if(Ue)return t==="compositionend"||!gr&&J(t,r)?(t=Bo(),zr=_i=fr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function qr(t,r,s,l){Ur?jr?jr.push(l):jr=[l]:Ur=l,r=Rc(r,"onChange"),0<r.length&&(s=new fs("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Bt=null,yr=null;function Qo(t){qv(t,0)}function Bu(t){var r=ur(t);if(Vo(r))return t}function ug(t,r){if(t==="change")return r}var cg=!1;if(Kn){var Ef;if(Kn){var Tf="oninput"in document;if(!Tf){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Tf=typeof hg.oninput=="function"}Ef=Tf}else Ef=!1;cg=Ef&&(!document.documentMode||9<document.documentMode)}function fg(){Bt&&(Bt.detachEvent("onpropertychange",dg),yr=Bt=null)}function dg(t){if(t.propertyName==="value"&&Bu(yr)){var r=[];qr(r,yr,t,xn(t)),Cu(Qo,r)}}function NS(t,r,s){t==="focusin"?(fg(),Bt=r,yr=s,Bt.attachEvent("onpropertychange",dg)):t==="focusout"&&fg()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(yr)}function PS(t,r){if(t==="click")return Bu(r)}function MS(t,r){if(t==="input"||t==="change")return Bu(r)}function kS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:kS;function Yo(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Xt.call(r,h)||!En(t[h],r[h]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,r){var s=pg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pg(s)}}function gg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?gg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=_a(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=_a(t.document)}return r}function bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var LS=Kn&&"documentMode"in document&&11>=document.documentMode,Es=null,Sf=null,$o=null,Af=!1;function vg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Af||Es==null||Es!==_a(l)||(l=Es,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=Rc(Sf,"onSelect"),0<l.length&&(r=new fs("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Es)))}function Da(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ts={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},wf={},_g={};Kn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Na(t){if(wf[t])return wf[t];if(!Ts[t])return t;var r=Ts[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in _g)return wf[t]=r[s];return t}var Eg=Na("animationend"),Tg=Na("animationiteration"),bg=Na("animationstart"),VS=Na("transitionrun"),US=Na("transitionstart"),jS=Na("transitioncancel"),Sg=Na("transitionend"),Ag=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Qn(t,r){Ag.set(t,r),Gn(r,[t])}var wg=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var s=wg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:us(r)},wg.set(t,r),r)}return{value:t,source:r,stack:us(r)}}var Ln=[],bs=0,Cf=0;function qu(){for(var t=bs,r=Cf=bs=0;r<t;){var s=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var h=Ln[r];Ln[r++]=null;var p=Ln[r];if(Ln[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}p!==0&&Rg(s,h,p)}}function Hu(t,r,s,l){Ln[bs++]=t,Ln[bs++]=r,Ln[bs++]=s,Ln[bs++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,s,l){return Hu(t,r,s,l),Fu(t)}function Ss(t,r){return Hu(t,null,null,r),Fu(t)}function Rg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&r!==null&&(h=31-en(s),t=p.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),p):null}function Fu(t){if(50<El)throw El=0,Md=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var As={};function zS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,s,l){return new zS(t,r,s,l)}function Of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hr(t,r){var s=t.alternate;return s===null?(s=Tn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Gu(t,r,s,l,h,p){var E=0;if(l=t,typeof t=="function")Of(t)&&(E=1);else if(typeof t=="string")E=qA(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Tn(31,s,r,h),t.elementType=O,t.lanes=p,t;case M:return xa(s.children,h,p,r);case G:E=8,h|=24;break;case j:return t=Tn(12,s,r,h|2),t.elementType=j,t.lanes=p,t;case de:return t=Tn(13,s,r,h),t.elementType=de,t.lanes=p,t;case ve:return t=Tn(19,s,r,h),t.elementType=ve,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case ie:E=10;break e;case ue:E=9;break e;case pe:E=11;break e;case k:E=14;break e;case D:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Tn(E,s,r,h),r.elementType=t,r.type=l,r.lanes=p,r}function xa(t,r,s,l){return t=Tn(7,t,l,r),t.lanes=s,t}function Df(t,r,s){return t=Tn(6,t,null,r),t.lanes=s,t}function Nf(t,r,s){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ws=[],Rs=0,Ku=null,Qu=0,Vn=[],Un=0,Pa=null,Fr=1,Gr="";function Ma(t,r){ws[Rs++]=Qu,ws[Rs++]=Ku,Ku=t,Qu=r}function Ig(t,r,s){Vn[Un++]=Fr,Vn[Un++]=Gr,Vn[Un++]=Pa,Pa=t;var l=Fr;t=Gr;var h=32-en(l)-1;l&=~(1<<h),s+=1;var p=32-en(r)+h;if(30<p){var E=h-h%5;p=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Fr=1<<32-en(r)+h|s<<h|l,Gr=p+t}else Fr=1<<p|s<<h|l,Gr=t}function xf(t){t.return!==null&&(Ma(t,1),Ig(t,1,0))}function Pf(t){for(;t===Ku;)Ku=ws[--Rs],ws[Rs]=null,Qu=ws[--Rs],ws[Rs]=null;for(;t===Pa;)Pa=Vn[--Un],Vn[Un]=null,Gr=Vn[--Un],Vn[Un]=null,Fr=Vn[--Un],Vn[Un]=null}var fn=null,pt=null,Ge=!1,ka=null,vr=!1,Mf=Error(a(519));function La(t){var r=Error(a(418,""));throw Zo(kn(r,t)),Mf}function Og(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[wt]=t,r[Et]=l,s){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)ke(bl[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Ea(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),cs(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Ta(r,l.value,l.defaultValue,l.children),cs(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Kv(r.textContent,s)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Cc),r=!0):r=!1,r||La(t)}function Dg(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:fn=fn.return}}function Xo(t){if(t!==fn)return!1;if(!Ge)return Dg(t),Ge=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Xd(t.type,t.memoizedProps)),s=!s),s&&pt&&La(t),Dg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){pt=$n(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}pt=null}}else r===27?(r=pt,ki(t.type)?(t=ep,ep=null,pt=t):pt=r):pt=fn?$n(t.stateNode.nextSibling):null;return!0}function Wo(){pt=fn=null,Ge=!1}function Ng(){var t=ka;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),ka=null),t}function Zo(t){ka===null?ka=[t]:ka.push(t)}var kf=K(null),Va=null,Kr=null;function Ei(t,r,s){W(kf,r._currentValue),r._currentValue=s}function Qr(t){t._currentValue=kf.current,Z(kf)}function Lf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Vf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=h;for(var P=0;P<r.length;P++)if(b.context===r[P]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),Lf(p.return,s,t),l||(E=null);break e}p=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Lf(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Jo(t,r,s,l){t=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=h.type;En(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===Fe.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&Vf(r,t,s,l),r.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ua(t){Va=t,Kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return xg(Va,t)}function $u(t,r){return Va===null&&Ua(t),xg(t,r)}function xg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Kr===null){if(t===null)throw Error(a(308));Kr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Kr=Kr.next=r;return s}var BS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},qS=i.unstable_scheduleCallback,HS=i.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new BS,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&qS(HS,function(){t.controller.abort()})}var tl=null,jf=0,Cs=0,Is=null;function FS(t,r){if(tl===null){var s=tl=[];jf=0,Cs=Bd(),Is={status:"pending",value:void 0,then:function(l){s.push(l)}}}return jf++,r.then(Pg,Pg),r}function Pg(){if(--jf===0&&tl!==null){Is!==null&&(Is.status="fulfilled");var t=tl;tl=null,Cs=0,Is=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function GS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Mg=q.S;q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&FS(t,r),Mg!==null&&Mg(t,r)};var ja=K(null);function zf(){var t=ja.current;return t!==null?t:it.pooledCache}function Xu(t,r){r===null?W(ja,ja.current):W(ja,r.pool)}function kg(){var t=zf();return t===null?null:{parent:It._currentValue,pool:t}}var nl=Error(a(460)),Lg=Error(a(474)),Wu=Error(a(542)),Bf={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function Ug(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Zu,Zu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,zg(t),t;default:if(typeof r.status=="string")r.then(Zu,Zu);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,zg(t),t}throw rl=r,nl}}var rl=null;function jg(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}function zg(t){if(t===nl||t===Wu)throw Error(a(483))}var Ti=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Si(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Fu(t),Rg(t,null,s),r}return Hu(t,l,r,s),Fu(t)}function il(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,xo(t,s)}}function Ff(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?h=p=r:p=p.next=r}else h=p=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Gf=!1;function al(){if(Gf){var t=Is;if(t!==null)throw t}}function sl(t,r,s,l){Gf=!1;var h=t.updateQueue;Ti=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var P=b,F=P.next;P.next=null,E===null?p=F:E.next=F,E=P;var re=t.alternate;re!==null&&(re=re.updateQueue,b=re.lastBaseUpdate,b!==E&&(b===null?re.firstBaseUpdate=F:b.next=F,re.lastBaseUpdate=P))}if(p!==null){var oe=h.baseState;E=0,re=F=P=null,b=p;do{var Q=b.lane&-536870913,$=Q!==b.lane;if($?(ze&Q)===Q:(l&Q)===Q){Q!==0&&Q===Cs&&(Gf=!0),re!==null&&(re=re.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Re=t,Se=b;Q=r;var et=s;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){oe=Re.call(et,oe,Q);break e}oe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,Q=typeof Re=="function"?Re.call(et,oe,Q):Re,Q==null)break e;oe=v({},oe,Q);break e;case 2:Ti=!0}}Q=b.callback,Q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},re===null?(F=re=$,P=oe):re=re.next=$,E|=Q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;$=b,b=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);re===null&&(P=oe),h.baseState=P,h.firstBaseUpdate=F,h.lastBaseUpdate=re,p===null&&(h.shared.lanes=0),Ni|=E,t.lanes=E,t.memoizedState=oe}}function Bg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function qg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Bg(s[t],r)}var Os=K(null),Ju=K(0);function Hg(t,r){t=ei,W(Ju,t),W(Os,r),ei=t|r.baseLanes}function Kf(){W(Ju,ei),W(Os,Os.current)}function Qf(){ei=Ju.current,Z(Os),Z(Ju)}var Ai=0,Ne=null,Ze=null,bt=null,ec=!1,Ds=!1,za=!1,tc=0,ol=0,Ns=null,KS=0;function yt(){throw Error(a(321))}function Yf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!En(t[s],r[s]))return!1;return!0}function $f(t,r,s,l,h,p){return Ai=p,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=t===null||t.memoizedState===null?Ry:Cy,za=!1,p=s(l,h),za=!1,Ds&&(p=Gg(r,s,l,h)),Fg(t),p}function Fg(t){q.H=oc;var r=Ze!==null&&Ze.next!==null;if(Ai=0,bt=Ze=Ne=null,ec=!1,ol=0,Ns=null,r)throw Error(a(300));t===null||kt||(t=t.dependencies,t!==null&&Yu(t)&&(kt=!0))}function Gg(t,r,s,l){Ne=t;var h=0;do{if(Ds&&(Ns=null),ol=0,Ds=!1,25<=h)throw Error(a(301));if(h+=1,bt=Ze=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=JS,p=r(s,l)}while(Ds);return p}function QS(){var t=q.H,r=t.useState()[0];return r=typeof r.then=="function"?ll(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Xf(){var t=tc!==0;return tc=0,t}function Wf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Zf(t){if(ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ec=!1}Ai=0,bt=Ze=Ne=null,Ds=!1,ol=tc=0,Ns=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ne.memoizedState=bt=t:bt=bt.next=t,bt}function St(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=bt===null?Ne.memoizedState:bt.next;if(r!==null)bt=r,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Ne.memoizedState=bt=t:bt=bt.next=t}return bt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var r=ol;return ol+=1,Ns===null&&(Ns=[]),t=Ug(Ns,t,r),r=Ne,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Ry:Cy),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ie)return tn(t)}throw Error(a(438,String(t)))}function ed(t){var r=null,s=Ne.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Jf(),Ne.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=x;return r.index++,s}function Yr(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=St();return td(r,Ze,t)}function td(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,p=l.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}r.baseQueue=h=p,l.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{r=h.next;var b=E=null,P=null,F=r,re=!1;do{var oe=F.lane&-536870913;if(oe!==F.lane?(ze&oe)===oe:(Ai&oe)===oe){var Q=F.revertLane;if(Q===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),oe===Cs&&(re=!0);else if((Ai&Q)===Q){F=F.next,Q===Cs&&(re=!0);continue}else oe={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(b=P=oe,E=p):P=P.next=oe,Ne.lanes|=Q,Ni|=Q;oe=F.action,za&&s(p,oe),p=F.hasEagerState?F.eagerState:s(p,oe)}else Q={lane:oe,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(b=P=Q,E=p):P=P.next=Q,Ne.lanes|=oe,Ni|=oe;F=F.next}while(F!==null&&F!==r);if(P===null?E=p:P.next=b,!En(p,t.memoizedState)&&(kt=!0,re&&(s=Is,s!==null)))throw s;t.memoizedState=p,t.baseState=E,t.baseQueue=P,l.lastRenderedState=p}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var r=St(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,p=r.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do p=t(p,E.action),E=E.next;while(E!==h);En(p,r.memoizedState)||(kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function Kg(t,r,s){var l=Ne,h=St(),p=Ge;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!En((Ze||h).memoizedState,s);E&&(h.memoizedState=s,kt=!0),h=h.queue;var b=$g.bind(null,l,h,t);if(ul(2048,8,b,[t]),h.getSnapshot!==r||E||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,xs(9,ic(),Yg.bind(null,l,h,s,r),null),it===null)throw Error(a(349));p||(Ai&124)!==0||Qg(l,r,s)}return s}function Qg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ne.updateQueue,r===null?(r=Jf(),Ne.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Yg(t,r,s,l){r.value=s,r.getSnapshot=l,Xg(r)&&Wg(t)}function $g(t,r,s){return s(function(){Xg(r)&&Wg(t)})}function Xg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!En(t,s)}catch{return!0}}function Wg(t){var r=Ss(t,2);r!==null&&Rn(r,t,2)}function rd(t){var r=dn();if(typeof t=="function"){var s=t;if(t=s(),za){vn(!0);try{s()}finally{vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},r}function Zg(t,r,s,l){return t.baseState=s,td(t,Ze,typeof l=="function"?l:Yr)}function YS(t,r,s,l,h){if(sc(t))throw Error(a(485));if(t=r.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};q.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Jg(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Jg(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var p=q.T,E={};q.T=E;try{var b=s(h,l),P=q.S;P!==null&&P(E,b),ey(t,r,b)}catch(F){id(t,r,F)}finally{q.T=p}}else try{p=s(h,l),ey(t,r,p)}catch(F){id(t,r,F)}}function ey(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ty(t,r,l)},function(l){return id(t,r,l)}):ty(t,r,s)}function ty(t,r,s){r.status="fulfilled",r.value=s,ny(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Jg(t,s)))}function id(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,ny(r),r=r.next;while(r!==l)}t.action=null}function ny(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ry(t,r){return r}function iy(t,r){if(Ge){var s=it.formState;if(s!==null){e:{var l=Ne;if(Ge){if(pt){t:{for(var h=pt,p=vr;h.nodeType!==8;){if(!p){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){pt=$n(h.nextSibling),l=h.data==="F!";break e}}La(l)}l=!1}l&&(r=s[0])}}return s=dn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:r},s.queue=l,s=Sy.bind(null,Ne,l),l.dispatch=s,l=rd(!1),p=ud.bind(null,Ne,!1,l.queue),l=dn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=YS.bind(null,Ne,h,p,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function ay(t){var r=St();return sy(r,Ze,t)}function sy(t,r,s){if(r=td(t,r,ry)[0],t=rc(Yr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(E){throw E===nl?Wu:E}else l=r;r=St();var h=r.queue,p=h.dispatch;return s!==r.memoizedState&&(Ne.flags|=2048,xs(9,ic(),$S.bind(null,h,s),null)),[l,p,t]}function $S(t,r){t.action=r}function oy(t){var r=St(),s=Ze;if(s!==null)return sy(r,s,t);St(),r=r.memoizedState,s=St();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function xs(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Jf(),Ne.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function ly(){return St().memoizedState}function ac(t,r,s,l){var h=dn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=xs(1|r,ic(),s,l)}function ul(t,r,s,l){var h=St();l=l===void 0?null:l;var p=h.memoizedState.inst;Ze!==null&&l!==null&&Yf(l,Ze.memoizedState.deps)?h.memoizedState=xs(r,p,s,l):(Ne.flags|=t,h.memoizedState=xs(1|r,p,s,l))}function uy(t,r){ac(8390656,8,t,r)}function cy(t,r){ul(2048,8,t,r)}function hy(t,r){return ul(4,2,t,r)}function fy(t,r){return ul(4,4,t,r)}function dy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function py(t,r,s){s=s!=null?s.concat([t]):null,ul(4,4,dy.bind(null,r,t),s)}function ad(){}function my(t,r){var s=St();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function gy(t,r){var s=St();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),za){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,r],l}function sd(t,r,s){return s===void 0||(Ai&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=_v(),Ne.lanes|=t,Ni|=t,s)}function yy(t,r,s,l){return En(s,r)?s:Os.current!==null?(t=sd(t,s,l),En(t,r)||(kt=!0),t):(Ai&42)===0?(kt=!0,t.memoizedState=s):(t=_v(),Ne.lanes|=t,Ni|=t,r)}function vy(t,r,s,l,h){var p=L.p;L.p=p!==0&&8>p?p:8;var E=q.T,b={};q.T=b,ud(t,!1,r,s);try{var P=h(),F=q.S;if(F!==null&&F(b,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var re=GS(P,l);cl(t,r,re,wn(t))}else cl(t,r,l,wn(t))}catch(oe){cl(t,r,{then:function(){},status:"rejected",reason:oe},wn())}finally{L.p=p,q.T=E}}function XS(){}function od(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=_y(t).queue;vy(t,h,r,ne,s===null?XS:function(){return Ey(t),s(l)})}function _y(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ne},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ey(t){var r=_y(t).next.queue;cl(t,r,{},wn())}function ld(){return tn(Il)}function Ty(){return St().memoizedState}function by(){return St().memoizedState}function WS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=wn();t=bi(s);var l=Si(r,t,s);l!==null&&(Rn(l,r,s),il(l,r,s)),r={cache:Uf()},t.payload=r;return}r=r.return}}function ZS(t,r,s){var l=wn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},sc(t)?Ay(r,s):(s=If(t,r,s,l),s!==null&&(Rn(s,t,l),wy(s,r,l)))}function Sy(t,r,s){var l=wn();cl(t,r,s,l)}function cl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(t))Ay(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,s);if(h.hasEagerState=!0,h.eagerState=b,En(b,E))return Hu(t,r,h,0),it===null&&qu(),!1}catch{}finally{}if(s=If(t,r,h,l),s!==null)return Rn(s,t,l),wy(s,r,l),!0}return!1}function ud(t,r,s,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(r)throw Error(a(479))}else r=If(t,s,l,2),r!==null&&Rn(r,t,2)}function sc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Ay(t,r){Ds=ec=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function wy(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,xo(t,s)}}var oc={readContext:tn,use:nc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Ry={readContext:tn,use:nc,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:tn,useEffect:uy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,ac(4194308,4,dy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ac(4194308,4,t,r)},useInsertionEffect:function(t,r){ac(4,2,t,r)},useMemo:function(t,r){var s=dn();r=r===void 0?null:r;var l=t();if(za){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=dn();if(s!==void 0){var h=s(r);if(za){vn(!0);try{s(r)}finally{vn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ZS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=rd(t);var r=t.queue,s=Sy.bind(null,Ne,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:ad,useDeferredValue:function(t,r){var s=dn();return sd(s,t,r)},useTransition:function(){var t=rd(!1);return t=vy.bind(null,Ne,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Ne,h=dn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),it===null)throw Error(a(349));(ze&124)!==0||Qg(l,r,s)}h.memoizedState=s;var p={value:s,getSnapshot:r};return h.queue=p,uy($g.bind(null,l,p,t),[t]),l.flags|=2048,xs(9,ic(),Yg.bind(null,l,p,s,r),null),s},useId:function(){var t=dn(),r=it.identifierPrefix;if(Ge){var s=Gr,l=Fr;s=(l&~(1<<32-en(l)-1)).toString(32)+s,r=""+r+"R"+s,s=tc++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=KS++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:iy,useActionState:iy,useOptimistic:function(t){var r=dn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=ud.bind(null,Ne,!0,s),s.dispatch=r,[t,r]},useMemoCache:ed,useCacheRefresh:function(){return dn().memoizedState=WS.bind(null,Ne)}},Cy={readContext:tn,use:nc,useCallback:my,useContext:tn,useEffect:cy,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:rc,useRef:ly,useState:function(){return rc(Yr)},useDebugValue:ad,useDeferredValue:function(t,r){var s=St();return yy(s,Ze.memoizedState,t,r)},useTransition:function(){var t=rc(Yr)[0],r=St().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:ld,useFormState:ay,useActionState:ay,useOptimistic:function(t,r){var s=St();return Zg(s,Ze,t,r)},useMemoCache:ed,useCacheRefresh:by},JS={readContext:tn,use:nc,useCallback:my,useContext:tn,useEffect:cy,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:nd,useRef:ly,useState:function(){return nd(Yr)},useDebugValue:ad,useDeferredValue:function(t,r){var s=St();return Ze===null?sd(s,t,r):yy(s,Ze.memoizedState,t,r)},useTransition:function(){var t=nd(Yr)[0],r=St().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:ld,useFormState:oy,useActionState:oy,useOptimistic:function(t,r){var s=St();return Ze!==null?Zg(s,Ze,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ed,useCacheRefresh:by},Ps=null,hl=0;function lc(t){var r=hl;return hl+=1,Ps===null&&(Ps=[]),Ug(Ps,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function uc(t,r){throw r.$$typeof===T?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Iy(t){var r=t._init;return r(t._payload)}function Oy(t){function r(U,V){if(t){var H=U.deletions;H===null?(U.deletions=[V],U.flags|=16):H.push(V)}}function s(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Hr(U,V),U.index=0,U.sibling=null,U}function p(U,V,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<V?(U.flags|=67108866,V):H):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,H,ae){return V===null||V.tag!==6?(V=Df(H,U.mode,ae),V.return=U,V):(V=h(V,H),V.return=U,V)}function P(U,V,H,ae){var ye=H.type;return ye===M?re(U,V,H.props.children,ae,H.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===D&&Iy(ye)===V.type)?(V=h(V,H.props),fl(V,H),V.return=U,V):(V=Gu(H.type,H.key,H.props,null,U.mode,ae),fl(V,H),V.return=U,V)}function F(U,V,H,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Nf(H,U.mode,ae),V.return=U,V):(V=h(V,H.children||[]),V.return=U,V)}function re(U,V,H,ae,ye){return V===null||V.tag!==7?(V=xa(H,U.mode,ae,ye),V.return=U,V):(V=h(V,H),V.return=U,V)}function oe(U,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Df(""+V,U.mode,H),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return H=Gu(V.type,V.key,V.props,null,U.mode,H),fl(H,V),H.return=U,H;case N:return V=Nf(V,U.mode,H),V.return=U,V;case D:var ae=V._init;return V=ae(V._payload),oe(U,V,H)}if(ee(V)||C(V))return V=xa(V,U.mode,H,null),V.return=U,V;if(typeof V.then=="function")return oe(U,lc(V),H);if(V.$$typeof===ie)return oe(U,$u(U,V),H);uc(U,V)}return null}function Q(U,V,H,ae){var ye=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:b(U,V,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===ye?P(U,V,H,ae):null;case N:return H.key===ye?F(U,V,H,ae):null;case D:return ye=H._init,H=ye(H._payload),Q(U,V,H,ae)}if(ee(H)||C(H))return ye!==null?null:re(U,V,H,ae,null);if(typeof H.then=="function")return Q(U,V,lc(H),ae);if(H.$$typeof===ie)return Q(U,V,$u(U,H),ae);uc(U,H)}return null}function $(U,V,H,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return U=U.get(H)||null,b(V,U,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return U=U.get(ae.key===null?H:ae.key)||null,P(V,U,ae,ye);case N:return U=U.get(ae.key===null?H:ae.key)||null,F(V,U,ae,ye);case D:var Pe=ae._init;return ae=Pe(ae._payload),$(U,V,H,ae,ye)}if(ee(ae)||C(ae))return U=U.get(H)||null,re(V,U,ae,ye,null);if(typeof ae.then=="function")return $(U,V,H,lc(ae),ye);if(ae.$$typeof===ie)return $(U,V,H,$u(V,ae),ye);uc(V,ae)}return null}function Re(U,V,H,ae){for(var ye=null,Pe=null,Ee=V,Ae=V=0,Vt=null;Ee!==null&&Ae<H.length;Ae++){Ee.index>Ae?(Vt=Ee,Ee=null):Vt=Ee.sibling;var He=Q(U,Ee,H[Ae],ae);if(He===null){Ee===null&&(Ee=Vt);break}t&&Ee&&He.alternate===null&&r(U,Ee),V=p(He,V,Ae),Pe===null?ye=He:Pe.sibling=He,Pe=He,Ee=Vt}if(Ae===H.length)return s(U,Ee),Ge&&Ma(U,Ae),ye;if(Ee===null){for(;Ae<H.length;Ae++)Ee=oe(U,H[Ae],ae),Ee!==null&&(V=p(Ee,V,Ae),Pe===null?ye=Ee:Pe.sibling=Ee,Pe=Ee);return Ge&&Ma(U,Ae),ye}for(Ee=l(Ee);Ae<H.length;Ae++)Vt=$(Ee,U,Ae,H[Ae],ae),Vt!==null&&(t&&Vt.alternate!==null&&Ee.delete(Vt.key===null?Ae:Vt.key),V=p(Vt,V,Ae),Pe===null?ye=Vt:Pe.sibling=Vt,Pe=Vt);return t&&Ee.forEach(function(zi){return r(U,zi)}),Ge&&Ma(U,Ae),ye}function Se(U,V,H,ae){if(H==null)throw Error(a(151));for(var ye=null,Pe=null,Ee=V,Ae=V=0,Vt=null,He=H.next();Ee!==null&&!He.done;Ae++,He=H.next()){Ee.index>Ae?(Vt=Ee,Ee=null):Vt=Ee.sibling;var zi=Q(U,Ee,He.value,ae);if(zi===null){Ee===null&&(Ee=Vt);break}t&&Ee&&zi.alternate===null&&r(U,Ee),V=p(zi,V,Ae),Pe===null?ye=zi:Pe.sibling=zi,Pe=zi,Ee=Vt}if(He.done)return s(U,Ee),Ge&&Ma(U,Ae),ye;if(Ee===null){for(;!He.done;Ae++,He=H.next())He=oe(U,He.value,ae),He!==null&&(V=p(He,V,Ae),Pe===null?ye=He:Pe.sibling=He,Pe=He);return Ge&&Ma(U,Ae),ye}for(Ee=l(Ee);!He.done;Ae++,He=H.next())He=$(Ee,U,Ae,He.value,ae),He!==null&&(t&&He.alternate!==null&&Ee.delete(He.key===null?Ae:He.key),V=p(He,V,Ae),Pe===null?ye=He:Pe.sibling=He,Pe=He);return t&&Ee.forEach(function(ew){return r(U,ew)}),Ge&&Ma(U,Ae),ye}function et(U,V,H,ae){if(typeof H=="object"&&H!==null&&H.type===M&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var ye=H.key;V!==null;){if(V.key===ye){if(ye=H.type,ye===M){if(V.tag===7){s(U,V.sibling),ae=h(V,H.props.children),ae.return=U,U=ae;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===D&&Iy(ye)===V.type){s(U,V.sibling),ae=h(V,H.props),fl(ae,H),ae.return=U,U=ae;break e}s(U,V);break}else r(U,V);V=V.sibling}H.type===M?(ae=xa(H.props.children,U.mode,ae,H.key),ae.return=U,U=ae):(ae=Gu(H.type,H.key,H.props,null,U.mode,ae),fl(ae,H),ae.return=U,U=ae)}return E(U);case N:e:{for(ye=H.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){s(U,V.sibling),ae=h(V,H.children||[]),ae.return=U,U=ae;break e}else{s(U,V);break}else r(U,V);V=V.sibling}ae=Nf(H,U.mode,ae),ae.return=U,U=ae}return E(U);case D:return ye=H._init,H=ye(H._payload),et(U,V,H,ae)}if(ee(H))return Re(U,V,H,ae);if(C(H)){if(ye=C(H),typeof ye!="function")throw Error(a(150));return H=ye.call(H),Se(U,V,H,ae)}if(typeof H.then=="function")return et(U,V,lc(H),ae);if(H.$$typeof===ie)return et(U,V,$u(U,H),ae);uc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(s(U,V.sibling),ae=h(V,H),ae.return=U,U=ae):(s(U,V),ae=Df(H,U.mode,ae),ae.return=U,U=ae),E(U)):s(U,V)}return function(U,V,H,ae){try{hl=0;var ye=et(U,V,H,ae);return Ps=null,ye}catch(Ee){if(Ee===nl||Ee===Wu)throw Ee;var Pe=Tn(29,Ee,null,U.mode);return Pe.lanes=ae,Pe.return=U,Pe}finally{}}}var Ms=Oy(!0),Dy=Oy(!1),jn=K(null),_r=null;function wi(t){var r=t.alternate;W(Ot,Ot.current&1),W(jn,t),_r===null&&(r===null||Os.current!==null||r.memoizedState!==null)&&(_r=t)}function Ny(t){if(t.tag===22){if(W(Ot,Ot.current),W(jn,t),_r===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(_r=t)}}else Ri()}function Ri(){W(Ot,Ot.current),W(jn,jn.current)}function $r(t){Z(jn),_r===t&&(_r=null),Z(Ot)}var Ot=K(0);function cc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Jd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var hd={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=wn(),h=bi(l);h.payload=r,s!=null&&(h.callback=s),r=Si(t,h,l),r!==null&&(Rn(r,t,l),il(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=wn(),h=bi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Si(t,h,l),r!==null&&(Rn(r,t,l),il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wn(),l=bi(s);l.tag=2,r!=null&&(l.callback=r),r=Si(t,l,s),r!==null&&(Rn(r,t,s),il(r,t,s))}};function xy(t,r,s,l,h,p,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!Yo(s,l)||!Yo(h,p):!0}function Py(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&hd.enqueueReplaceState(r,r.state,null)}function Ba(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function My(t){hc(t)}function ky(t){console.error(t)}function Ly(t){hc(t)}function fc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,r,s){return s=bi(s),s.tag=3,s.payload={element:null},s.callback=function(){fc(t,r)},s}function Uy(t){return t=bi(t),t.tag=3,t}function jy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;t.payload=function(){return h(p)},t.callback=function(){Vy(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Vy(r,s,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function eA(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Jo(r,s,h,!0),s=jn.current,s!==null){switch(s.tag){case 13:return _r===null?Ld():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Bf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Ud(t,l,h)),!1;case 22:return s.flags|=65536,l===Bf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Ud(t,l,h)),!1}throw Error(a(435,s.tag))}return Ud(t,l,h),Ld(),!1}if(Ge)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Mf&&(t=Error(a(422),{cause:l}),Zo(kn(t,s)))):(l!==Mf&&(r=Error(a(423),{cause:l}),Zo(kn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,s),h=fd(t.stateNode,l,h),Ff(t,h),mt!==4&&(mt=2)),!1;var p=Error(a(520),{cause:l});if(p=kn(p,s),_l===null?_l=[p]:_l.push(p),mt!==4&&(mt=2),r===null)return!0;l=kn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=fd(s.stateNode,l,t),Ff(s,t),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(xi===null||!xi.has(p))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Uy(h),jy(h,t,s,l),Ff(s,h),!1}s=s.return}while(s!==null);return!1}var zy=Error(a(461)),kt=!1;function qt(t,r,s,l){r.child=t===null?Dy(r,null,s,l):Ms(r,t.child,s,l)}function By(t,r,s,l,h){s=s.render;var p=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Ua(r),l=$f(t,r,s,E,p,h),b=Xf(),t!==null&&!kt?(Wf(t,r,h),Xr(t,r,h)):(Ge&&b&&xf(r),r.flags|=1,qt(t,r,l,h),r.child)}function qy(t,r,s,l,h){if(t===null){var p=s.type;return typeof p=="function"&&!Of(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,Hy(t,r,p,l,h)):(t=Gu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!Ed(t,h)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:Yo,s(E,l)&&t.ref===r.ref)return Xr(t,r,h)}return r.flags|=1,t=Hr(p,l),t.ref=r.ref,t.return=r,r.child=t}function Hy(t,r,s,l,h){if(t!==null){var p=t.memoizedProps;if(Yo(p,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=p,Ed(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Xr(t,r,h)}return dd(t,r,s,l,h)}function Fy(t,r,s){var l=r.pendingProps,h=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,t!==null){for(h=r.child=t.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return Gy(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(r,p!==null?p.cachePool:null),p!==null?Hg(r,p):Kf(),Ny(r);else return r.lanes=r.childLanes=536870912,Gy(t,r,p!==null?p.baseLanes|s:s,s)}else p!==null?(Xu(r,p.cachePool),Hg(r,p),Ri(),r.memoizedState=null):(t!==null&&Xu(r,null),Kf(),Ri());return qt(t,r,h,s),r.child}function Gy(t,r,s,l){var h=zf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Xu(r,null),Kf(),Ny(r),t!==null&&Jo(t,r,l,!0),null}function dc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function dd(t,r,s,l,h){return Ua(r),s=$f(t,r,s,l,void 0,h),l=Xf(),t!==null&&!kt?(Wf(t,r,h),Xr(t,r,h)):(Ge&&l&&xf(r),r.flags|=1,qt(t,r,s,h),r.child)}function Ky(t,r,s,l,h,p){return Ua(r),r.updateQueue=null,s=Gg(r,l,s,h),Fg(t),l=Xf(),t!==null&&!kt?(Wf(t,r,p),Xr(t,r,p)):(Ge&&l&&xf(r),r.flags|=1,qt(t,r,s,p),r.child)}function Qy(t,r,s,l,h){if(Ua(r),r.stateNode===null){var p=As,E=s.contextType;typeof E=="object"&&E!==null&&(p=tn(E)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},qf(r),E=s.contextType,p.context=typeof E=="object"&&E!==null?tn(E):As,p.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(cd(r,s,E,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&hd.enqueueReplaceState(p,p.state,null),sl(r,l,p,h),al(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){p=r.stateNode;var b=r.memoizedProps,P=Ba(s,b);p.props=P;var F=p.context,re=s.contextType;E=As,typeof re=="object"&&re!==null&&(E=tn(re));var oe=s.getDerivedStateFromProps;re=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||F!==E)&&Py(r,p,l,E),Ti=!1;var Q=r.memoizedState;p.state=Q,sl(r,l,p,h),al(),F=r.memoizedState,b||Q!==F||Ti?(typeof oe=="function"&&(cd(r,s,oe,l),F=r.memoizedState),(P=Ti||xy(r,s,P,l,Q,F,E))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=E,l=P):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Hf(t,r),E=r.memoizedProps,re=Ba(s,E),p.props=re,oe=r.pendingProps,Q=p.context,F=s.contextType,P=As,typeof F=="object"&&F!==null&&(P=tn(F)),b=s.getDerivedStateFromProps,(F=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==oe||Q!==P)&&Py(r,p,l,P),Ti=!1,Q=r.memoizedState,p.state=Q,sl(r,l,p,h),al();var $=r.memoizedState;E!==oe||Q!==$||Ti||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof b=="function"&&(cd(r,s,b,l),$=r.memoizedState),(re=Ti||xy(r,s,re,l,Q,$,P)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,$,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,$,P)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),p.props=l,p.state=$,p.context=P,l=re):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return p=l,dc(t,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,t!==null&&l?(r.child=Ms(r,t.child,null,h),r.child=Ms(r,null,s,h)):qt(t,r,s,h),r.memoizedState=p.state,t=r.child):t=Xr(t,r,h),t}function Yy(t,r,s,l){return Wo(),r.flags|=256,qt(t,r,s,l),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:kg()}}function gd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=zn),t}function $y(t,r,s){var l=r.pendingProps,h=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(h?wi(r):Ri(),Ge){var b=pt,P;if(P=b){e:{for(P=b,b=vr;P.nodeType!==8;){if(!b){b=null;break e}if(P=$n(P.nextSibling),P===null){b=null;break e}}b=P}b!==null?(r.memoizedState={dehydrated:b,treeContext:Pa!==null?{id:Fr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},P=Tn(18,null,null,0),P.stateNode=b,P.return=r,r.child=P,fn=r,pt=null,P=!0):P=!1}P||La(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Jd(b)?r.lanes=32:r.lanes=536870912,null;$r(r)}return b=l.children,l=l.fallback,h?(Ri(),h=r.mode,b=pc({mode:"hidden",children:b},h),l=xa(l,h,s,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=md(s),h.childLanes=gd(t,E,s),r.memoizedState=pd,l):(wi(r),yd(r,b))}if(P=t.memoizedState,P!==null&&(b=P.dehydrated,b!==null)){if(p)r.flags&256?(wi(r),r.flags&=-257,r=vd(t,r,s)):r.memoizedState!==null?(Ri(),r.child=t.child,r.flags|=128,r=null):(Ri(),h=l.fallback,b=r.mode,l=pc({mode:"visible",children:l.children},b),h=xa(h,b,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ms(r,t.child,null,s),l=r.child,l.memoizedState=md(s),l.childLanes=gd(t,E,s),r.memoizedState=pd,r=h);else if(wi(r),Jd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,Zo({value:l,source:null,stack:null}),r=vd(t,r,s)}else if(kt||Jo(t,r,s,!1),E=(s&t.childLanes)!==0,kt||E){if(E=it,E!==null&&(l=s&-s,l=(l&42)!==0?1:di(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==P.retryLane))throw P.retryLane=l,Ss(t,l),Rn(E,t,l),zy;b.data==="$?"||Ld(),r=vd(t,r,s)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=P.treeContext,pt=$n(b.nextSibling),fn=r,Ge=!0,ka=null,vr=!1,t!==null&&(Vn[Un++]=Fr,Vn[Un++]=Gr,Vn[Un++]=Pa,Fr=t.id,Gr=t.overflow,Pa=r),r=yd(r,l.children),r.flags|=4096);return r}return h?(Ri(),h=l.fallback,b=r.mode,P=t.child,F=P.sibling,l=Hr(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,F!==null?h=Hr(F,h):(h=xa(h,b,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=md(s):(P=b.cachePool,P!==null?(F=It._currentValue,P=P.parent!==F?{parent:F,pool:F}:P):P=kg(),b={baseLanes:b.baseLanes|s,cachePool:P}),h.memoizedState=b,h.childLanes=gd(t,E,s),r.memoizedState=pd,l):(wi(r),s=t.child,t=s.sibling,s=Hr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=s,r.memoizedState=null,s)}function yd(t,r){return r=pc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function pc(t,r){return t=Tn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vd(t,r,s){return Ms(r,t.child,null,s),t=yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Xy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Lf(t.return,r,s)}function _d(t,r,s,l,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h)}function Wy(t,r,s){var l=r.pendingProps,h=l.revealOrder,p=l.tail;if(qt(t,r,l.children,s),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,s,r);else if(t.tag===19)Xy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ot,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&cc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),_d(r,!1,h,s,p);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}_d(r,!0,s,null,p);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ni|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Jo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=Hr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Hr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Ed(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function tA(t,r,s){switch(r.tag){case 3:qe(r,r.stateNode.containerInfo),Ei(r,It,t.memoizedState.cache),Wo();break;case 27:case 5:$t(r);break;case 4:qe(r,r.stateNode.containerInfo);break;case 10:Ei(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?$y(t,r,s):(wi(r),t=Xr(t,r,s),t!==null?t.sibling:null);wi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Jo(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Wy(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,Fy(t,r,s);case 24:Ei(r,It,t.memoizedState.cache)}return Xr(t,r,s)}function Zy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!Ed(t,s)&&(r.flags&128)===0)return kt=!1,tA(t,r,s);kt=(t.flags&131072)!==0}else kt=!1,Ge&&(r.flags&1048576)!==0&&Ig(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Of(l)?(t=Ba(l,t),r.tag=1,r=Qy(null,r,l,t,s)):(r.tag=0,r=dd(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===pe){r.tag=11,r=By(null,r,l,t,s);break e}else if(h===k){r.tag=14,r=qy(null,r,l,t,s);break e}}throw r=te(l)||l,Error(a(306,r,""))}}return r;case 0:return dd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=Ba(l,r.pendingProps),Qy(t,r,l,h,s);case 3:e:{if(qe(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;h=p.element,Hf(t,r),sl(r,l,null,s);var E=r.memoizedState;if(l=E.cache,Ei(r,It,l),l!==p.cache&&Vf(r,[It],s,!0),al(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Yy(t,r,l,s);break e}else if(l!==h){h=kn(Error(a(424)),r),Zo(h),r=Yy(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=$n(t.firstChild),fn=r,Ge=!0,ka=null,vr=!0,s=Dy(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Wo(),l===h){r=Xr(t,r,s);break e}qt(t,r,l,s)}r=r.child}return r;case 26:return dc(t,r),t===null?(s=n_(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ge||(s=r.type,t=r.pendingProps,l=Ic(ge.current).createElement(s),l[wt]=r,l[Et]=t,Ft(l,s,t),gt(l),r.stateNode=l):r.memoizedState=n_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return $t(r),t===null&&Ge&&(l=r.stateNode=Jv(r.type,r.pendingProps,ge.current),fn=r,vr=!0,h=pt,ki(r.type)?(ep=h,pt=$n(l.firstChild)):pt=h),qt(t,r,r.pendingProps.children,s),dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((h=l=pt)&&(l=OA(l,r.type,r.pendingProps,vr),l!==null?(r.stateNode=l,fn=r,pt=$n(l.firstChild),vr=!1,h=!0):h=!1),h||La(r)),$t(r),h=r.type,p=r.pendingProps,E=t!==null?t.memoizedProps:null,l=p.children,Xd(h,p)?l=null:E!==null&&Xd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=$f(t,r,QS,null,null,s),Il._currentValue=h),dc(t,r),qt(t,r,l,s),r.child;case 6:return t===null&&Ge&&((t=s=pt)&&(s=DA(s,r.pendingProps,vr),s!==null?(r.stateNode=s,fn=r,pt=null,t=!0):t=!1),t||La(r)),null;case 13:return $y(t,r,s);case 4:return qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ms(r,null,l,s):qt(t,r,l,s),r.child;case 11:return By(t,r,r.type,r.pendingProps,s);case 7:return qt(t,r,r.pendingProps,s),r.child;case 8:return qt(t,r,r.pendingProps.children,s),r.child;case 12:return qt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ei(r,r.type,l.value),qt(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ua(r),h=tn(h),l=l(h),r.flags|=1,qt(t,r,l,s),r.child;case 14:return qy(t,r,r.type,r.pendingProps,s);case 15:return Hy(t,r,r.type,r.pendingProps,s);case 19:return Wy(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=pc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Hr(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Fy(t,r,s);case 24:return Ua(r),l=tn(It),t===null?(h=zf(),h===null&&(h=it,p=Uf(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=s),h=p),r.memoizedState={parent:l,cache:h},qf(r),Ei(r,It,h)):((t.lanes&s)!==0&&(Hf(t,r),sl(r,null,null,s),al()),h=t.memoizedState,p=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ei(r,It,l)):(l=p.cache,Ei(r,It,l),l!==h.cache&&Vf(r,[It],s,!0))),qt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Wr(t){t.flags|=4}function Jy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!o_(r)){if(r=jn.current,r!==null&&((ze&4194048)===ze?_r!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==_r))throw rl=Bf,Lg;t.flags|=8192}}function mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Do():536870912,t.lanes|=r,Us|=r)}function dl(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function nA(t,r,s){var l=r.pendingProps;switch(Pf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qr(It),Yt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(r)?Wr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ng())),ct(r),null;case 26:return s=r.memoizedState,t===null?(Wr(r),s!==null?(ct(r),Jy(r,s)):(ct(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Wr(r),ct(r),Jy(r,s)):(ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&Wr(r),ct(r),r.flags&=-16777217),null;case 27:ft(r),s=ge.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Wr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ct(r),null}t=he.current,Xo(r)?Og(r):(t=Jv(h,l,s),r.stateNode=t,Wr(r))}return ct(r),null;case 5:if(ft(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Wr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ct(r),null}if(t=he.current,Xo(r))Og(r);else{switch(h=Ic(ge.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[wt]=r,t[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Wr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=ge.current,Xo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Kv(t.nodeValue,s)),t||La(r)}else t=Ic(t).createTextNode(l),t[wt]=r,r.stateNode=t}return ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[wt]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),h=!1}else h=Ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?($r(r),r):($r(r),null)}if($r(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),mc(r,r.updateQueue),ct(r),null;case 4:return Yt(),t===null&&Gd(r.stateNode.containerInfo),ct(r),null;case 10:return Qr(r.type),ct(r),null;case 19:if(Z(Ot),h=r.memoizedState,h===null)return ct(r),null;if(l=(r.flags&128)!==0,p=h.rendering,p===null)if(l)dl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=cc(t),p!==null){for(r.flags|=128,dl(h,!1),t=p.updateQueue,r.updateQueue=t,mc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Cg(s,t),s=s.sibling;return W(Ot,Ot.current&1|2),r.child}t=t.sibling}h.tail!==null&&rt()>vc&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(t=cc(p),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,mc(r,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Ge)return ct(r),null}else 2*rt()-h.renderingStartTime>vc&&s!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(t=h.last,t!==null?t.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=rt(),r.sibling=null,t=Ot.current,W(Ot,l?t&1|2:t&1),r):(ct(r),null);case 22:case 23:return $r(r),Qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),s=r.updateQueue,s!==null&&mc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&Z(ja),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Qr(It),ct(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function rA(t,r){switch(Pf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(It),Yt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ft(r),null;case 13:if($r(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(Ot),null;case 4:return Yt(),null;case 10:return Qr(r.type),null;case 22:case 23:return $r(r),Qf(),t!==null&&Z(ja),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(It),null;case 25:return null;default:return null}}function ev(t,r){switch(Pf(r),r.tag){case 3:Qr(It),Yt();break;case 26:case 27:case 5:ft(r);break;case 4:Yt();break;case 13:$r(r);break;case 19:Z(Ot);break;case 10:Qr(r.type);break;case 22:case 23:$r(r),Qf(),t!==null&&Z(ja);break;case 24:Qr(It)}}function pl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==h)}}catch(b){nt(r,r.return,b)}}function Ci(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=r;var P=s,F=b;try{F()}catch(re){nt(h,P,re)}}}l=l.next}while(l!==p)}}catch(re){nt(r,r.return,re)}}function tv(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{qg(r,s)}catch(l){nt(t,t.return,l)}}}function nv(t,r,s){s.props=Ba(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,r,l)}}function ml(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,r,h)}}function Er(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,r,h)}else s.current=null}function rv(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function Td(t,r,s){try{var l=t.stateNode;AA(l,t.type,s,r),l[Et]=r}catch(h){nt(t,t.return,h)}}function iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Cc));else if(l!==4&&(l===27&&ki(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Sd(t,r,s),t=t.sibling;t!==null;)Sd(t,r,s),t=t.sibling}function gc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gc(t,r,s),t=t.sibling;t!==null;)gc(t,r,s),t=t.sibling}function av(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,s),r[wt]=t,r[Et]=s}catch(p){nt(t,t.return,p)}}var Zr=!1,vt=!1,Ad=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function iA(t,r){if(t=t.containerInfo,Yd=Mc,t=yg(t),bf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var E=0,b=-1,P=-1,F=0,re=0,oe=t,Q=null;t:for(;;){for(var $;oe!==s||h!==0&&oe.nodeType!==3||(b=E+h),oe!==p||l!==0&&oe.nodeType!==3||(P=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),($=oe.firstChild)!==null;)Q=oe,oe=$;for(;;){if(oe===t)break t;if(Q===s&&++F===h&&(b=E),Q===p&&++re===l&&(P=E),($=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=$}s=b===-1||P===-1?null:{start:b,end:P}}else s=null}s=s||{start:0,end:0}}else s=null;for($d={focusedElem:t,selectionRange:s},Mc=!1,Lt=r;Lt!==null;)if(r=Lt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Lt=t;else for(;Lt!==null;){switch(r=Lt,p=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=r,h=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Re=Ba(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Re,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){nt(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Zd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Lt=t;break}Lt=r.return}}function ov(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(t,s),l&4&&pl(5,s);break;case 1:if(Ii(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(E){nt(s,s.return,E)}else{var h=Ba(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(s,s.return,E)}}l&64&&tv(s),l&512&&ml(s,s.return);break;case 3:if(Ii(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{qg(t,r)}catch(E){nt(s,s.return,E)}}break;case 27:r===null&&l&4&&av(s);case 26:case 5:Ii(t,s),r===null&&l&4&&rv(s),l&512&&ml(s,s.return);break;case 12:Ii(t,s);break;case 13:Ii(t,s),l&4&&cv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=dA.bind(null,s),NA(t,s))));break;case 22:if(l=s.memoizedState!==null||Zr,!l){r=r!==null&&r.memoizedState!==null||vt,h=Zr;var p=vt;Zr=l,(vt=r)&&!p?Oi(t,s,(s.subtreeFlags&8772)!==0):Ii(t,s),Zr=h,vt=p}break;case 30:break;default:Ii(t,s)}}function lv(t){var r=t.alternate;r!==null&&(t.alternate=null,lv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,pn=!1;function Jr(t,r,s){for(s=s.child;s!==null;)uv(t,r,s),s=s.sibling}function uv(t,r,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(dt,s)}catch{}switch(s.tag){case 26:vt||Er(s,r),Jr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||Er(s,r);var l=st,h=pn;ki(s.type)&&(st=s.stateNode,pn=!1),Jr(t,r,s),Al(s.stateNode),st=l,pn=h;break;case 5:vt||Er(s,r);case 6:if(l=st,h=pn,st=null,Jr(t,r,s),st=l,pn=h,st!==null)if(pn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(p){nt(s,r,p)}else try{st.removeChild(s.stateNode)}catch(p){nt(s,r,p)}break;case 18:st!==null&&(pn?(t=st,Wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),xl(t)):Wv(st,s.stateNode));break;case 4:l=st,h=pn,st=s.stateNode.containerInfo,pn=!0,Jr(t,r,s),st=l,pn=h;break;case 0:case 11:case 14:case 15:vt||Ci(2,s,r),vt||Ci(4,s,r),Jr(t,r,s);break;case 1:vt||(Er(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&nv(s,r,l)),Jr(t,r,s);break;case 21:Jr(t,r,s);break;case 22:vt=(l=vt)||s.memoizedState!==null,Jr(t,r,s),vt=l;break;default:Jr(t,r,s)}}function cv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(s){nt(r,r.return,s)}}function aA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new sv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new sv),r;default:throw Error(a(435,t.tag))}}function wd(t,r){var s=aA(t);r.forEach(function(l){var h=pA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function bn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],p=t,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ki(b.type)){st=b.stateNode,pn=!1;break e}break;case 5:st=b.stateNode,pn=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(st===null)throw Error(a(160));uv(p,E,h),st=null,pn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)hv(r,t),r=r.sibling}var Yn=null;function hv(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(r,t),Sn(t),l&4&&(Ci(3,t,t.return),pl(3,t),Ci(5,t,t.return));break;case 1:bn(r,t),Sn(t),l&512&&(vt||s===null||Er(s,s.return)),l&64&&Zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Yn;if(bn(r,t),Sn(t),l&512&&(vt||s===null||Er(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ga]||p[wt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),Ft(p,l,s),p[wt]=t,gt(p),l=p;break e;case"link":var E=a_("link","href",h).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break t}}p=h.createElement(l),Ft(p,l,s),h.head.appendChild(p);break;case"meta":if(E=a_("meta","content",h).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break t}}p=h.createElement(l),Ft(p,l,s),h.head.appendChild(p);break;default:throw Error(a(468,l))}p[wt]=t,gt(p),l=p}t.stateNode=l}else s_(h,t.type,t.stateNode);else t.stateNode=i_(h,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?s_(h,t.type,t.stateNode):i_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Td(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(r,t),Sn(t),l&512&&(vt||s===null||Er(s,s.return)),s!==null&&l&4&&Td(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(r,t),Sn(t),l&512&&(vt||s===null||Er(s,s.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch($){nt(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(bn(r,t),Sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch($){nt(t,t.return,$)}}break;case 3:if(Nc=null,h=Yn,Yn=Oc(r.containerInfo),bn(r,t),Yn=h,Sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch($){nt(t,t.return,$)}Ad&&(Ad=!1,fv(t));break;case 4:l=Yn,Yn=Oc(t.stateNode.containerInfo),bn(r,t),Sn(t),Yn=l;break;case 12:bn(r,t),Sn(t);break;case 13:bn(r,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Nd=rt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 22:h=t.memoizedState!==null;var P=s!==null&&s.memoizedState!==null,F=Zr,re=vt;if(Zr=F||h,vt=re||P,bn(r,t),vt=re,Zr=F,Sn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||P||Zr||vt||qa(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){P=s=r;try{if(p=P.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=P.stateNode;var oe=P.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){nt(P,P.return,$)}}}else if(r.tag===6){if(s===null){P=r;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch($){nt(P,P.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,wd(t,s))));break;case 19:bn(r,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 30:break;case 21:break;default:bn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(iv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,p=bd(t);gc(t,p,h);break;case 5:var E=s.stateNode;s.flags&32&&(Nn(E,""),s.flags&=-33);var b=bd(t);gc(t,b,E);break;case 3:case 4:var P=s.stateNode.containerInfo,F=bd(t);Sd(t,F,P);break;default:throw Error(a(161))}}catch(re){nt(t,t.return,re)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;fv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ii(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ov(t,r.alternate,r),r=r.sibling}function qa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),qa(r);break;case 1:Er(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&nv(r,r.return,s),qa(r);break;case 27:Al(r.stateNode);case 26:case 5:Er(r,r.return),qa(r);break;case 22:r.memoizedState===null&&qa(r);break;case 30:qa(r);break;default:qa(r)}t=t.sibling}}function Oi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Oi(h,p,s),pl(4,p);break;case 1:if(Oi(h,p,s),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){nt(l,l.return,F)}if(l=p,h=l.updateQueue,h!==null){var b=l.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)Bg(P[h],b)}catch(F){nt(l,l.return,F)}}s&&E&64&&tv(p),ml(p,p.return);break;case 27:av(p);case 26:case 5:Oi(h,p,s),s&&l===null&&E&4&&rv(p),ml(p,p.return);break;case 12:Oi(h,p,s);break;case 13:Oi(h,p,s),s&&E&4&&cv(h,p);break;case 22:p.memoizedState===null&&Oi(h,p,s),ml(p,p.return);break;case 30:break;default:Oi(h,p,s)}r=r.sibling}}function Rd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&el(s))}function Cd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function Tr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dv(t,r,s,l),r=r.sibling}function dv(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Tr(t,r,s,l),h&2048&&pl(9,r);break;case 1:Tr(t,r,s,l);break;case 3:Tr(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Tr(t,r,s,l),t=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){nt(r,r.return,P)}}else Tr(t,r,s,l);break;case 13:Tr(t,r,s,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Tr(t,r,s,l):gl(t,r):p._visibility&2?Tr(t,r,s,l):(p._visibility|=2,ks(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&Rd(E,r);break;case 24:Tr(t,r,s,l),h&2048&&Cd(r.alternate,r);break;default:Tr(t,r,s,l)}}function ks(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=t,E=r,b=s,P=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:ks(p,E,b,P,h),pl(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?ks(p,E,b,P,h):gl(p,E):(re._visibility|=2,ks(p,E,b,P,h)),h&&F&2048&&Rd(E.alternate,E);break;case 24:ks(p,E,b,P,h),h&&F&2048&&Cd(E.alternate,E);break;default:ks(p,E,b,P,h)}r=r.sibling}}function gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:gl(s,l),h&2048&&Rd(l.alternate,l);break;case 24:gl(s,l),h&2048&&Cd(l.alternate,l);break;default:gl(s,l)}r=r.sibling}}var yl=8192;function Ls(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)pv(t),t=t.sibling}function pv(t){switch(t.tag){case 26:Ls(t),t.flags&yl&&t.memoizedState!==null&&FA(Yn,t.memoizedState,t.memoizedProps);break;case 5:Ls(t);break;case 3:case 4:var r=Yn;Yn=Oc(t.stateNode.containerInfo),Ls(t),Yn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,Ls(t),yl=r):Ls(t));break;default:Ls(t)}}function mv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Lt=l,yv(l,t)}mv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,yc(t)):vl(t);break;default:vl(t)}}function yc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Lt=l,yv(l,t)}mv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),yc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,yc(r));break;default:yc(r)}t=t.sibling}}function yv(t,r){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Ci(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Lt=l;else e:for(s=t;Lt!==null;){l=Lt;var h=l.sibling,p=l.return;if(lv(l),l===s){Lt=null;break e}if(h!==null){h.return=p,Lt=h;break e}Lt=p}}}var sA={getCacheForType:function(t){var r=tn(It),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},oA=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Me=null,ze=0,Xe=0,An=null,Di=!1,Vs=!1,Id=!1,ei=0,mt=0,Ni=0,Ha=0,Od=0,zn=0,Us=0,_l=null,mn=null,Dd=!1,Nd=0,vc=1/0,_c=null,xi=null,Ht=0,Pi=null,js=null,zs=0,xd=0,Pd=null,vv=null,El=0,Md=null;function wn(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(q.T!==null){var t=Cs;return t!==0?t:Bd()}return pi()}function _v(){zn===0&&(zn=(ze&536870912)===0||Ge?Oo():536870912);var t=jn.current;return t!==null&&(t.flags|=32),zn}function Rn(t,r,s){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),Mi(t,ze,zn,!1)),xr(t,s),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(Ha|=s),mt===4&&Mi(t,ze,zn,!1)),br(t))}function Ev(t,r,s){if(($e&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ma(t,r),h=l?cA(t,r):Vd(t,r,!0),p=l;do{if(h===0){Vs&&!l&&Mi(t,r,0,!1);break}else{if(s=t.current.alternate,p&&!lA(s)){h=Vd(t,r,!1),p=!1;continue}if(h===2){if(p=r,t.errorRecoveryDisabledLanes&p)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=t;h=_l;var P=b.current.memoizedState.isDehydrated;if(P&&(Bs(b,E).flags|=256),E=Vd(b,E,!1),E!==2){if(Id&&!P){b.errorRecoveryDisabledLanes|=p,Ha|=p,h=4;break e}p=mn,mn=h,p!==null&&(mn===null?mn=p:mn.push.apply(mn,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){Bs(t,0),Mi(t,r,0,!0);break}e:{switch(l=t,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Mi(l,r,zn,!Di);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=Nd+300-rt(),10<h)){if(Mi(l,r,zn,!Di),is(l,0,!0)!==0)break e;l.timeoutHandle=$v(Tv.bind(null,l,s,mn,_c,Dd,r,zn,Ha,Us,Di,p,2,-0,0),h);break e}Tv(l,s,mn,_c,Dd,r,zn,Ha,Us,Di,p,0,-0,0)}}break}while(!0);br(t)}function Tv(t,r,s,l,h,p,E,b,P,F,re,oe,Q,$){if(t.timeoutHandle=-1,oe=r.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:HA},pv(r),oe=GA(),oe!==null)){t.cancelPendingCommit=oe(Iv.bind(null,t,r,p,s,l,h,E,b,P,re,1,Q,$)),Mi(t,p,E,!F);return}Iv(t,r,p,s,l,h,E,b,P)}function lA(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],p=h.getSnapshot;h=h.value;try{if(!En(p(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mi(t,r,s,l){r&=~Od,r&=~Ha,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var p=31-en(h),E=1<<p;l[p]=-1,h&=~E}s!==0&&or(t,s,r)}function Ec(){return($e&6)===0?(Tl(0),!1):!0}function kd(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Kr=Va=null,Zf(t),Ps=null,hl=0,t=Me;for(;t!==null;)ev(t.alternate,t),t=t.return;Me=null}}function Bs(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,RA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),kd(),it=t,Me=s=Hr(t.current,null),ze=r,Xe=0,An=null,Di=!1,Vs=ma(t,r),Id=!1,Us=zn=Od=Ha=Ni=mt=0,mn=_l=null,Dd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),p=1<<h;r|=t[h],l&=~p}return ei=r,qu(),s}function bv(t,r){Ne=null,q.H=oc,r===nl||r===Wu?(r=jg(),Xe=3):r===Lg?(r=jg(),Xe=4):Xe=r===zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Me===null&&(mt=1,fc(t,kn(r,t.current)))}function Sv(){var t=q.H;return q.H=oc,t===null?oc:t}function Av(){var t=q.A;return q.A=sA,t}function Ld(){mt=4,Di||(ze&4194048)!==ze&&jn.current!==null||(Vs=!0),(Ni&134217727)===0&&(Ha&134217727)===0||it===null||Mi(it,ze,zn,!1)}function Vd(t,r,s){var l=$e;$e|=2;var h=Sv(),p=Av();(it!==t||ze!==r)&&(_c=null,Bs(t,r)),r=!1;var E=mt;e:do try{if(Xe!==0&&Me!==null){var b=Me,P=An;switch(Xe){case 8:kd(),E=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var F=Xe;if(Xe=0,An=null,qs(t,b,P,F),s&&Vs){E=0;break e}break;default:F=Xe,Xe=0,An=null,qs(t,b,P,F)}}uA(),E=mt;break}catch(re){bv(t,re)}while(!0);return r&&t.shellSuspendCounter++,Kr=Va=null,$e=l,q.H=h,q.A=p,Me===null&&(it=null,ze=0,qu()),E}function uA(){for(;Me!==null;)wv(Me)}function cA(t,r){var s=$e;$e|=2;var l=Sv(),h=Av();it!==t||ze!==r?(_c=null,vc=rt()+500,Bs(t,r)):Vs=ma(t,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var p=An;t:switch(Xe){case 1:Xe=0,An=null,qs(t,r,p,1);break;case 2:case 9:if(Vg(p)){Xe=0,An=null,Rv(r);break}r=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),br(t)},p.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Vg(p)?(Xe=0,An=null,Rv(r)):(Xe=0,An=null,qs(t,r,p,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var b=Me;if(!E||o_(E)){Xe=0,An=null;var P=b.sibling;if(P!==null)Me=P;else{var F=b.return;F!==null?(Me=F,Tc(F)):Me=null}break t}}Xe=0,An=null,qs(t,r,p,5);break;case 6:Xe=0,An=null,qs(t,r,p,6);break;case 8:kd(),mt=6;break e;default:throw Error(a(462))}}hA();break}catch(re){bv(t,re)}while(!0);return Kr=Va=null,q.H=l,q.A=h,$e=s,Me!==null?0:(it=null,ze=0,qu(),mt)}function hA(){for(;Me!==null&&!tt();)wv(Me)}function wv(t){var r=Zy(t.alternate,t,ei);t.memoizedProps=t.pendingProps,r===null?Tc(t):Me=r}function Rv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Ky(s,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Ky(s,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Zf(r);default:ev(s,r),r=Me=Cg(r,ei),r=Zy(s,r,ei)}t.memoizedProps=t.pendingProps,r===null?Tc(t):Me=r}function qs(t,r,s,l){Kr=Va=null,Zf(r),Ps=null,hl=0;var h=r.return;try{if(eA(t,h,r,s,ze)){mt=1,fc(t,kn(s,t.current)),Me=null;return}}catch(p){if(h!==null)throw Me=h,p;mt=1,fc(t,kn(s,t.current)),Me=null;return}r.flags&32768?(Ge||l===1?t=!0:Vs||(ze&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cv(r,t)):Tc(r)}function Tc(t){var r=t;do{if((r.flags&32768)!==0){Cv(r,Di);return}t=r.return;var s=nA(r.alternate,r,ei);if(s!==null){Me=s;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);mt===0&&(mt=5)}function Cv(t,r){do{var s=rA(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);mt=6,Me=null}function Iv(t,r,s,l,h,p,E,b,P){t.cancelPendingCommit=null;do bc();while(Ht!==0);if(($e&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=Cf,No(t,s,p,E,b,P),t===it&&(Me=it=null,ze=0),js=r,Pi=t,zs=s,xd=p,Pd=h,vv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mA(Jt,function(){return Pv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=L.p,L.p=2,E=$e,$e|=4;try{iA(t,r,s)}finally{$e=E,L.p=h,q.T=l}}Ht=1,Ov(),Dv(),Nv()}}function Ov(){if(Ht===1){Ht=0;var t=Pi,r=js,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=L.p;L.p=2;var h=$e;$e|=4;try{hv(r,t);var p=$d,E=yg(t.containerInfo),b=p.focusedElem,P=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&gg(b.ownerDocument.documentElement,b)){if(P!==null&&bf(b)){var F=P.start,re=P.end;if(re===void 0&&(re=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(re,b.value.length);else{var oe=b.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Re=b.textContent.length,Se=Math.min(P.start,Re),et=P.end===void 0?Se:Math.min(P.end,Re);!$.extend&&Se>et&&(E=et,et=Se,Se=E);var U=mg(b,Se),V=mg(b,et);if(U&&V&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var H=oe.createRange();H.setStart(U.node,U.offset),$.removeAllRanges(),Se>et?($.addRange(H),$.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),$.addRange(H))}}}}for(oe=[],$=b;$=$.parentNode;)$.nodeType===1&&oe.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<oe.length;b++){var ae=oe[b];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Mc=!!Yd,$d=Yd=null}finally{$e=h,L.p=l,q.T=s}}t.current=r,Ht=2}}function Dv(){if(Ht===2){Ht=0;var t=Pi,r=js,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=L.p;L.p=2;var h=$e;$e|=4;try{ov(t,r.alternate,r)}finally{$e=h,L.p=l,q.T=s}}Ht=3}}function Nv(){if(Ht===4||Ht===3){Ht=0,jt();var t=Pi,r=js,s=zs,l=vv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,js=Pi=null,xv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),as(s),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=q.T,h=L.p,L.p=2,q.T=null;try{for(var p=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{q.T=r,L.p=h}}(zs&3)!==0&&bc(),br(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Md?El++:(El=0,Md=t):El=0,Tl(0)}}function xv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function bc(t){return Ov(),Dv(),Nv(),Pv()}function Pv(){if(Ht!==5)return!1;var t=Pi,r=xd;xd=0;var s=as(zs),l=q.T,h=L.p;try{L.p=32>s?32:s,q.T=null,s=Pd,Pd=null;var p=Pi,E=zs;if(Ht=0,js=Pi=null,zs=0,($e&6)!==0)throw Error(a(331));var b=$e;if($e|=4,gv(p.current),dv(p,p.current,E,s),$e=b,Tl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(dt,p)}catch{}return!0}finally{L.p=h,q.T=l,xv(t,r)}}function Mv(t,r,s){r=kn(s,r),r=fd(t.stateNode,r,2),t=Si(t,r,2),t!==null&&(xr(t,2),br(t))}function nt(t,r,s){if(t.tag===3)Mv(t,t,s);else for(;r!==null;){if(r.tag===3){Mv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=kn(s,t),s=Uy(2),l=Si(r,s,2),l!==null&&(jy(s,l,r,t),xr(l,2),br(l));break}}r=r.return}}function Ud(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new oA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(Id=!0,h.add(s),t=fA.bind(null,t,r,s),r.then(t,t))}function fA(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,it===t&&(ze&s)===s&&(mt===4||mt===3&&(ze&62914560)===ze&&300>rt()-Nd?($e&2)===0&&Bs(t,0):Od|=s,Us===ze&&(Us=0)),br(t)}function kv(t,r){r===0&&(r=Do()),t=Ss(t,r),t!==null&&(xr(t,r),br(t))}function dA(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),kv(t,s)}function pA(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),kv(t,s)}function mA(t,r){return Wt(t,r)}var Sc=null,Hs=null,jd=!1,Ac=!1,zd=!1,Fa=0;function br(t){t!==Hs&&t.next===null&&(Hs===null?Sc=Hs=t:Hs=Hs.next=t),Ac=!0,jd||(jd=!0,yA())}function Tl(t,r){if(!zd&&Ac){zd=!0;do for(var s=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-en(42|t)+1)-1,p&=h&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,jv(l,p))}else p=ze,p=is(l,l===it?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ma(l,p)||(s=!0,jv(l,p));l=l.next}while(s);zd=!1}}function gA(){Lv()}function Lv(){Ac=jd=!1;var t=0;Fa!==0&&(wA()&&(t=Fa),Fa=0);for(var r=rt(),s=null,l=Sc;l!==null;){var h=l.next,p=Vv(l,r);p===0?(l.next=null,s===null?Sc=h:s.next=h,h===null&&(Hs=s)):(s=l,(t!==0||(p&3)!==0)&&(Ac=!0)),l=h}Tl(t)}function Vv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var E=31-en(p),b=1<<E,P=h[E];P===-1?((b&s)===0||(b&l)!==0)&&(h[E]=Io(b,r)):P<=r&&(t.expiredLanes|=b),p&=~b}if(r=it,s=ze,s=is(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ma(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Zt(l),as(s)){case 2:case 8:s=sr;break;case 32:s=Jt;break;case 268435456:s=Hn;break;default:s=Jt}return l=Uv.bind(null,t),s=Wt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Zt(l),t.callbackPriority=2,t.callbackNode=null,2}function Uv(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(bc()&&t.callbackNode!==s)return null;var l=ze;return l=is(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ev(t,l,r),Vv(t,rt()),t.callbackNode!=null&&t.callbackNode===s?Uv.bind(null,t):null)}function jv(t,r){if(bc())return null;Ev(t,r,!0)}function yA(){CA(function(){($e&6)!==0?Wt(ar,gA):Lv()})}function Bd(){return Fa===0&&(Fa=Oo()),Fa}function zv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function Bv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function vA(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var p=zv((h[Et]||null).action),E=l.submitter;E&&(r=(r=E[Et]||null)?zv(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new fs("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fa!==0){var P=E?Bv(h,E):new FormData(h);od(s,{pending:!0,data:P,method:h.method,action:p},null,P)}}else typeof p=="function"&&(b.preventDefault(),P=E?Bv(h,E):new FormData(h),od(s,{pending:!0,data:P,method:h.method,action:p},p,P))},currentTarget:h}]})}}for(var qd=0;qd<Rf.length;qd++){var Hd=Rf[qd],_A=Hd.toLowerCase(),EA=Hd[0].toUpperCase()+Hd.slice(1);Qn(_A,"on"+EA)}Qn(Eg,"onAnimationEnd"),Qn(Tg,"onAnimationIteration"),Qn(bg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(VS,"onTransitionRun"),Qn(US,"onTransitionStart"),Qn(jS,"onTransitionCancel"),Qn(Sg,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function qv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],P=b.instance,F=b.currentTarget;if(b=b.listener,P!==p&&h.isPropagationStopped())break e;p=b,h.currentTarget=F;try{p(h)}catch(re){hc(re)}h.currentTarget=null,p=P}else for(E=0;E<l.length;E++){if(b=l[E],P=b.instance,F=b.currentTarget,b=b.listener,P!==p&&h.isPropagationStopped())break e;p=b,h.currentTarget=F;try{p(h)}catch(re){hc(re)}h.currentTarget=null,p=P}}}}function ke(t,r){var s=r[Po];s===void 0&&(s=r[Po]=new Set);var l=t+"__bubble";s.has(l)||(Hv(r,t,2,!1),s.add(l))}function Fd(t,r,s){var l=0;r&&(l|=4),Hv(s,t,l,r)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[wc]){t[wc]=!0,Mo.forEach(function(s){s!=="selectionchange"&&(TA.has(s)||Fd(s,!1,t),Fd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[wc]||(r[wc]=!0,Fd("selectionchange",!1,r))}}function Hv(t,r,s,l){switch(d_(r)){case 2:var h=YA;break;case 8:h=$A;break;default:h=ap}s=h.bind(null,r,s,t),h=void 0,!Pn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Kd(t,r,s,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Pr(b),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){l=p=E;continue e}b=b.parentNode}}l=l.return}Cu(function(){var F=p,re=xn(s),oe=[];e:{var Q=Ag.get(t);if(Q!==void 0){var $=fs,Re=t;switch(t){case"keypress":if(dr(s)===0)break e;case"keydown":case"keyup":$=vs;break;case"focusin":Re="focus",$=ms;break;case"focusout":Re="blur",$=ms;break;case"beforeblur":case"afterblur":$=ms;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ku;break;case Eg:case Tg:case bg:$=gs;break;case Sg:$=Vu;break;case"scroll":case"scrollend":$=Iu;break;case"wheel":$=_s;break;case"copy":case"cut":case"paste":$=ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ko;break;case"toggle":case"beforetoggle":$=ju}var Se=(r&4)!==0,et=!Se&&(t==="scroll"||t==="scrollend"),U=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var V=F,H;V!==null;){var ae=V;if(H=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||H===null||U===null||(ae=Sa(V,U),ae!=null&&Se.push(Sl(V,ae,H))),et)break;V=V.return}0<Se.length&&(Q=new $(Q,Re,null,s,re),oe.push({event:Q,listeners:Se}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Q&&s!==Vr&&(Re=s.relatedTarget||s.fromElement)&&(Pr(Re)||Re[Dn]))break e;if(($||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Re=s.relatedTarget||s.toElement,$=F,Re=Re?Pr(Re):null,Re!==null&&(et=u(Re),Se=Re.tag,Re!==et||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):($=null,Re=F),$!==Re)){if(Se=Mn,ae="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Ko,ae="onPointerLeave",U="onPointerEnter",V="pointer"),et=$==null?Q:ur($),H=Re==null?Q:ur(Re),Q=new Se(ae,V+"leave",$,s,re),Q.target=et,Q.relatedTarget=H,ae=null,Pr(re)===F&&(Se=new Se(U,V+"enter",Re,s,re),Se.target=H,Se.relatedTarget=et,ae=Se),et=ae,$&&Re)t:{for(Se=$,U=Re,V=0,H=Se;H;H=Fs(H))V++;for(H=0,ae=U;ae;ae=Fs(ae))H++;for(;0<V-H;)Se=Fs(Se),V--;for(;0<H-V;)U=Fs(U),H--;for(;V--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=Fs(Se),U=Fs(U)}Se=null}else Se=null;$!==null&&Fv(oe,Q,$,Se,!1),Re!==null&&et!==null&&Fv(oe,et,Re,Se,!0)}}e:{if(Q=F?ur(F):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var ye=ug;else if(Ct(Q))if(cg)ye=MS;else{ye=xS;var Pe=NS}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&jo(F.elementType)&&(ye=ug):ye=PS;if(ye&&(ye=ye(t,F))){qr(oe,ye,s,re);break e}Pe&&Pe(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&vi(Q,"number",Q.value)}switch(Pe=F?ur(F):window,t){case"focusin":(Ct(Pe)||Pe.contentEditable==="true")&&(Es=Pe,Sf=F,$o=null);break;case"focusout":$o=Sf=Es=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,vg(oe,s,re);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":vg(oe,s,re)}var Ee;if(gr)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ue?J(t,s)&&(Ae="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&s.locale!=="ko"&&(Ue||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ue&&(Ee=Bo()):(fr=re,_i="value"in fr?fr.value:fr.textContent,Ue=!0)),Pe=Rc(F,Ae),0<Pe.length&&(Ae=new Fo(Ae,t,null,s,re),oe.push({event:Ae,listeners:Pe}),Ee?Ae.data=Ee:(Ee=fe(s),Ee!==null&&(Ae.data=Ee)))),(Ee=y?Rt(t,s):je(t,s))&&(Ae=Rc(F,"onBeforeInput"),0<Ae.length&&(Pe=new Fo("onBeforeInput","beforeinput",null,s,re),oe.push({event:Pe,listeners:Ae}),Pe.data=Ee)),vA(oe,t,F,s,re)}qv(oe,r)})}function Sl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Rc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Sa(t,s),h!=null&&l.unshift(Sl(t,h,p)),h=Sa(t,r),h!=null&&l.push(Sl(t,h,p))),t.tag===3)return l;t=t.return}return[]}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fv(t,r,s,l,h){for(var p=r._reactName,E=[];s!==null&&s!==l;){var b=s,P=b.alternate,F=b.stateNode;if(b=b.tag,P!==null&&P===l)break;b!==5&&b!==26&&b!==27||F===null||(P=F,h?(F=Sa(s,p),F!=null&&E.unshift(Sl(s,F,P))):h||(F=Sa(s,p),F!=null&&E.push(Sl(s,F,P)))),s=s.return}E.length!==0&&t.push({event:r,listeners:E})}var bA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(bA,`
`).replace(SA,"")}function Kv(t,r){return r=Gv(r),Gv(t)===r}function Cc(){}function Je(t,r,s,l,h,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":cr(t,"class",l);break;case"tabIndex":cr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(t,s,l);break;case"style":Uo(t,l,p);break;case"data":if(r!=="object"){cr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=hs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&Je(t,r,"name",h.name,h,null),Je(t,r,"formEncType",h.formEncType,h,null),Je(t,r,"formMethod",h.formMethod,h,null),Je(t,r,"formTarget",h.formTarget,h,null)):(Je(t,r,"encType",h.encType,h,null),Je(t,r,"method",h.method,h,null),Je(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=hs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=hs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),yi(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gf.get(s)||s,yi(t,s,l))}}function Qd(t,r,s,l,h,p){switch(s){case"style":Uo(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),p=t[Et]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(r,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):yi(t,s,l)}}}function Ft(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,p,E,s,null)}}h&&Je(t,r,"srcSet",s.srcSet,s,null),l&&Je(t,r,"src",s.src,s,null);return;case"input":ke("invalid",t);var b=p=E=h=null,P=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var re=s[l];if(re!=null)switch(l){case"name":h=re;break;case"type":E=re;break;case"checked":P=re;break;case"defaultChecked":F=re;break;case"value":p=re;break;case"defaultValue":b=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,r));break;default:Je(t,r,l,re,s,null)}}Ea(t,p,b,P,F,E,h,!1),cs(t);return;case"select":ke("invalid",t),l=E=p=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Je(t,r,h,b,s,null)}r=p,s=E,t.multiple=!!l,r!=null?Lr(t,!!l,r,!1):s!=null&&Lr(t,!!l,s,!0);return;case"textarea":ke("invalid",t),p=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:Je(t,r,E,b,s,null)}Ta(t,l,h,p),cs(t);return;case"option":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,P,l,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)ke(bl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,F,l,s,null)}return;default:if(jo(r)){for(re in s)s.hasOwnProperty(re)&&(l=s[re],l!==void 0&&Qd(t,r,re,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&Je(t,r,b,l,s,null))}function AA(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,b=null,P=null,F=null,re=null;for($ in s){var oe=s[$];if(s.hasOwnProperty($)&&oe!=null)switch($){case"checked":break;case"value":break;case"defaultValue":P=oe;default:l.hasOwnProperty($)||Je(t,r,$,null,l,oe)}}for(var Q in l){var $=l[Q];if(oe=s[Q],l.hasOwnProperty(Q)&&($!=null||oe!=null))switch(Q){case"type":p=$;break;case"name":h=$;break;case"checked":F=$;break;case"defaultChecked":re=$;break;case"value":E=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,r));break;default:$!==oe&&Je(t,r,Q,$,l,oe)}}_n(t,E,b,P,F,re,p,h);return;case"select":$=E=b=Q=null;for(p in s)if(P=s[p],s.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":$=P;default:l.hasOwnProperty(p)||Je(t,r,p,null,l,P)}for(h in l)if(p=l[h],P=s[h],l.hasOwnProperty(h)&&(p!=null||P!=null))switch(h){case"value":Q=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==P&&Je(t,r,h,p,l,P)}r=b,s=E,l=$,Q!=null?Lr(t,!!s,Q,!1):!!l!=!!s&&(r!=null?Lr(t,!!s,r,!0):Lr(t,!!s,s?[]:"",!1));return;case"textarea":$=Q=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,r,b,null,l,h)}for(E in l)if(h=l[E],p=s[E],l.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":Q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&Je(t,r,E,h,l,p)}We(t,Q,$);return;case"option":for(var Re in s)if(Q=s[Re],s.hasOwnProperty(Re)&&Q!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Je(t,r,Re,null,l,Q)}for(P in l)if(Q=l[P],$=s[P],l.hasOwnProperty(P)&&Q!==$&&(Q!=null||$!=null))switch(P){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Je(t,r,P,Q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)Q=s[Se],s.hasOwnProperty(Se)&&Q!=null&&!l.hasOwnProperty(Se)&&Je(t,r,Se,null,l,Q);for(F in l)if(Q=l[F],$=s[F],l.hasOwnProperty(F)&&Q!==$&&(Q!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Je(t,r,F,Q,l,$)}return;default:if(jo(r)){for(var et in s)Q=s[et],s.hasOwnProperty(et)&&Q!==void 0&&!l.hasOwnProperty(et)&&Qd(t,r,et,void 0,l,Q);for(re in l)Q=l[re],$=s[re],!l.hasOwnProperty(re)||Q===$||Q===void 0&&$===void 0||Qd(t,r,re,Q,l,$);return}}for(var U in s)Q=s[U],s.hasOwnProperty(U)&&Q!=null&&!l.hasOwnProperty(U)&&Je(t,r,U,null,l,Q);for(oe in l)Q=l[oe],$=s[oe],!l.hasOwnProperty(oe)||Q===$||Q==null&&$==null||Je(t,r,oe,Q,l,$)}var Yd=null,$d=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function Qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function wA(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(t){return Xv.resolve(null).then(t).catch(IA)}:$v;function IA(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Wv(t,r){var s=r,l=0,h=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Al(E.documentElement),s&2&&Al(E.body),s&4)for(s=E.head,Al(s),E=s.firstChild;E;){var b=E.nextSibling,P=E.nodeName;E[ga]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(h===0){t.removeChild(p),xl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);xl(r)}function Zd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zd(s),gi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function OA(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ga])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function DA(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=$n(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function NA(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var ep=null;function Zv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Jv(t,r,s){switch(r=Ic(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Al(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gi(t)}var Bn=new Map,e_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=L.d;L.d={f:xA,r:PA,D:MA,C:kA,L:LA,m:VA,X:jA,S:UA,M:zA};function xA(){var t=ti.f(),r=Ec();return t||r}function PA(t){var r=lr(t);r!==null&&r.tag===5&&r.type==="form"?Ey(r):ti.r(t)}var Gs=typeof document>"u"?null:document;function t_(t,r,s){var l=Gs;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),e_.has(h)||(e_.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),gt(r),l.head.appendChild(r)))}}function MA(t){ti.D(t),t_("dns-prefetch",t,null)}function kA(t,r){ti.C(t,r),t_("preconnect",t,r)}function LA(t,r,s){ti.L(t,r,s);var l=Gs;if(l&&t&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tt(s.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var p=h;switch(r){case"style":p=Ks(t);break;case"script":p=Qs(t)}Bn.has(p)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Bn.set(p,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(wl(p))||r==="script"&&l.querySelector(Rl(p))||(r=l.createElement("link"),Ft(r,"link",t),gt(r),l.head.appendChild(r)))}}function VA(t,r){ti.m(t,r);var s=Gs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Qs(t)}if(!Bn.has(p)&&(t=v({rel:"modulepreload",href:t},r),Bn.set(p,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Rl(p)))return}l=s.createElement("link"),Ft(l,"link",t),gt(l),s.head.appendChild(l)}}}function UA(t,r,s){ti.S(t,r,s);var l=Gs;if(l&&t){var h=un(l).hoistableStyles,p=Ks(t);r=r||"default";var E=h.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(wl(p)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Bn.get(p))&&tp(t,s);var P=E=l.createElement("link");gt(P),Ft(P,"link",t),P._p=new Promise(function(F,re){P.onload=F,P.onerror=re}),P.addEventListener("load",function(){b.loading|=1}),P.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Dc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(p,E)}}}function jA(t,r){ti.X(t,r);var s=Gs;if(s&&t){var l=un(s).hoistableScripts,h=Qs(t),p=l.get(h);p||(p=s.querySelector(Rl(h)),p||(t=v({src:t,async:!0},r),(r=Bn.get(h))&&np(t,r),p=s.createElement("script"),gt(p),Ft(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function zA(t,r){ti.M(t,r);var s=Gs;if(s&&t){var l=un(s).hoistableScripts,h=Qs(t),p=l.get(h);p||(p=s.querySelector(Rl(h)),p||(t=v({src:t,async:!0,type:"module"},r),(r=Bn.get(h))&&np(t,r),p=s.createElement("script"),gt(p),Ft(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function n_(t,r,s,l){var h=(h=ge.current)?Oc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ks(s.href),s=un(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ks(s.href);var p=un(h).hoistableStyles,E=p.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,E),(p=h.querySelector(wl(t)))&&!p._p&&(E.instance=p,E.state.loading=5),Bn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(t,s),p||BA(h,t,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Qs(s),s=un(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ks(t){return'href="'+Tt(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function r_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function BA(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",s),gt(r),t.head.appendChild(r))}function Qs(t){return'[src="'+Tt(t)+'"]'}function Rl(t){return"script[async]"+t}function i_(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(s.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),Ft(l,"style",h),Dc(l,s.precedence,t),r.instance=l;case"stylesheet":h=Ks(s.href);var p=t.querySelector(wl(h));if(p)return r.state.loading|=4,r.instance=p,gt(p),p;l=r_(s),(h=Bn.get(h))&&tp(l,h),p=(t.ownerDocument||t).createElement("link"),gt(p);var E=p;return E._p=new Promise(function(b,P){E.onload=b,E.onerror=P}),Ft(p,"link",l),r.state.loading|=4,Dc(p,s.precedence,t),r.instance=p;case"script":return p=Qs(s.src),(h=t.querySelector(Rl(p)))?(r.instance=h,gt(h),h):(l=s,(h=Bn.get(p))&&(l=v({},s),np(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),gt(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Dc(l,s.precedence,t));return r.instance}function Dc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)p=b;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function tp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function np(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nc=null;function a_(t,r,s){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(s,l)}else h=Nc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var p=s[h];if(!(p[ga]||p[wt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=t+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function s_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function qA(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function o_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function HA(){}function FA(t,r,s){if(Cl===null)throw Error(a(475));var l=Cl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ks(s.href),p=t.querySelector(wl(h));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=p,gt(p);return}p=t.ownerDocument||t,s=r_(s),(h=Bn.get(h))&&tp(s,h),p=p.createElement("link"),gt(p);var E=p;E._p=new Promise(function(b,P){E.onload=b,E.onerror=P}),Ft(p,"link",s),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=xc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function GA(){if(Cl===null)throw Error(a(475));var t=Cl;return t.stylesheets&&t.count===0&&rp(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&rp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function rp(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,r.forEach(KA,t),Pc=null,xc.call(t))}function KA(t,r){if(!(r.state.loading&4)){var s=Pc.get(t);if(s)var l=s.get(null);else{s=new Map,Pc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,h),s.set(E,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Il={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function QA(t,r,s,l,h,p,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function l_(t,r,s,l,h,p,E,b,P,F,re,oe){return t=new QA(t,r,s,E,b,P,F,oe),r=1,p===!0&&(r|=24),p=Tn(3,null,null,r),t.current=p,p.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},qf(p),t}function u_(t){return t?(t=As,t):As}function c_(t,r,s,l,h,p){h=u_(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Si(t,l,r),s!==null&&(Rn(s,t,r),il(s,t,r))}function h_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function ip(t,r){h_(t,r),(t=t.alternate)&&h_(t,r)}function f_(t){if(t.tag===13){var r=Ss(t,67108864);r!==null&&Rn(r,t,67108864),ip(t,67108864)}}var Mc=!0;function YA(t,r,s,l){var h=q.T;q.T=null;var p=L.p;try{L.p=2,ap(t,r,s,l)}finally{L.p=p,q.T=h}}function $A(t,r,s,l){var h=q.T;q.T=null;var p=L.p;try{L.p=8,ap(t,r,s,l)}finally{L.p=p,q.T=h}}function ap(t,r,s,l){if(Mc){var h=sp(l);if(h===null)Kd(t,r,l,kc,s),p_(t,l);else if(WA(h,t,r,s,l))l.stopPropagation();else if(p_(t,l),r&4&&-1<XA.indexOf(t)){for(;h!==null;){var p=lr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Fn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var P=1<<31-en(E);b.entanglements[1]|=P,E&=~P}br(p),($e&6)===0&&(vc=rt()+500,Tl(0))}}break;case 13:b=Ss(p,2),b!==null&&Rn(b,p,2),Ec(),ip(p,2)}if(p=sp(l),p===null&&Kd(t,r,l,kc,s),p===h)break;h=p}h!==null&&l.stopPropagation()}else Kd(t,r,l,null,s)}}function sp(t){return t=xn(t),op(t)}var kc=null;function op(t){if(kc=null,t=Pr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return kc=t,null}function d_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case ar:return 2;case sr:return 8;case Jt:case On:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var lp=!1,Li=null,Vi=null,Ui=null,Ol=new Map,Dl=new Map,ji=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(t,r){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Nl(t,r,s,l,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=lr(r),r!==null&&f_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function WA(t,r,s,l,h){switch(r){case"focusin":return Li=Nl(Li,t,r,s,l,h),!0;case"dragenter":return Vi=Nl(Vi,t,r,s,l,h),!0;case"mouseover":return Ui=Nl(Ui,t,r,s,l,h),!0;case"pointerover":var p=h.pointerId;return Ol.set(p,Nl(Ol.get(p)||null,t,r,s,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Dl.set(p,Nl(Dl.get(p)||null,t,r,s,l,h)),!0}return!1}function m_(t){var r=Pr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,Eu(t.priority,function(){if(s.tag===13){var l=wn();l=di(l);var h=Ss(s,l);h!==null&&Rn(h,s,l),ip(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=sp(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Vr=l,s.target.dispatchEvent(l),Vr=null}else return r=lr(s),r!==null&&f_(r),t.blockedOn=s,!1;r.shift()}return!0}function g_(t,r,s){Lc(t)&&s.delete(r)}function ZA(){lp=!1,Li!==null&&Lc(Li)&&(Li=null),Vi!==null&&Lc(Vi)&&(Vi=null),Ui!==null&&Lc(Ui)&&(Ui=null),Ol.forEach(g_),Dl.forEach(g_)}function Vc(t,r){t.blockedOn===r&&(t.blockedOn=null,lp||(lp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ZA)))}var Uc=null;function y_(t){Uc!==t&&(Uc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(op(l||s)===null)continue;break}var p=lr(s);p!==null&&(t.splice(r,3),r-=3,od(p,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function xl(t){function r(P){return Vc(P,t)}Li!==null&&Vc(Li,t),Vi!==null&&Vc(Vi,t),Ui!==null&&Vc(Ui,t),Ol.forEach(r),Dl.forEach(r);for(var s=0;s<ji.length;s++){var l=ji[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(s=ji[0],s.blockedOn===null);)m_(s),s.blockedOn===null&&ji.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],p=s[l+1],E=h[Et]||null;if(typeof p=="function")E||y_(s);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[Et]||null)b=E.formAction;else if(op(h)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),y_(s)}}}function up(t){this._internalRoot=t}jc.prototype.render=up.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=wn();c_(s,l,t,r,null,null)},jc.prototype.unmount=up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;c_(t.current,2,null,t,null,null),Ec(),r[Dn]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var r=pi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ji.length&&r!==0&&r<ji[s].priority;s++);ji.splice(s,0,t),s===0&&m_(t)}};var v_=e.version;if(v_!=="19.1.0")throw Error(a(527,v_,"19.1.0"));L.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var JA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{dt=zc.inject(JA),Ye=zc}catch{}}return Ml.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=My,p=ky,E=Ly,b=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=l_(t,1,!1,null,null,s,l,h,p,E,b,null),t[Dn]=r.current,Gd(t),new up(r)},Ml.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",p=My,E=ky,b=Ly,P=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),r=l_(t,1,!0,r,s??null,l,h,p,E,b,P,F),r.context=u_(null),s=r.current,l=wn(),l=di(l),h=bi(l),h.callback=null,Si(s,h,l),s=l,r.current.lanes=s,xr(r,s),br(r),t[Dn]=r.current,Gd(t),new jc(r)},Ml.version="19.1.0",Ml}var I_;function uw(){if(I_)return fp.exports;I_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fp.exports=lw(),fp.exports}var cw=uw(),kl={},O_;function hw(){if(O_)return kl;O_=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=f,kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,N){const M=new u,G=S.length;if(G<2)return M;const j=(N==null?void 0:N.decode)||v;let X=0;do{const ue=S.indexOf("=",X);if(ue===-1)break;const ie=S.indexOf(";",X),pe=ie===-1?G:ie;if(ue>pe){X=S.lastIndexOf(";",ue-1)+1;continue}const de=d(S,X,ue),ve=m(S,ue,de),k=S.slice(de,ve);if(M[k]===void 0){let D=d(S,ue+1,pe),O=m(S,pe,D);const x=j(S.slice(D,O));M[k]=x}X=pe+1}while(X<G);return M}function d(S,N,M){do{const G=S.charCodeAt(N);if(G!==32&&G!==9)return N}while(++N<M);return M}function m(S,N,M){for(;N>M;){const G=S.charCodeAt(--N);if(G!==32&&G!==9)return N+1}return M}function g(S,N,M){const G=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=G(N);if(!e.test(j))throw new TypeError(`argument val is invalid: ${N}`);let X=S+"="+j;if(!M)return X;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);X+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);X+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);X+="; Path="+M.path}if(M.expires){if(!T(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);X+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(X+="; HttpOnly"),M.secure&&(X+="; Secure"),M.partitioned&&(X+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return X}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return kl}hw();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D_="popstate";function fw(i={}){function e(a,o){let{pathname:u,search:f,hash:d}=a.location;return Mp("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Wl(o)}return pw(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function tr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dw(){return Math.random().toString(36).substring(2,10)}function N_(i,e){return{usr:i.state,key:i.key,idx:e}}function Mp(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||a||dw()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function mo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function pw(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,d="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){d="POP";let j=v(),X=j==null?null:j-g;g=j,m&&m({action:d,location:G.location,delta:X})}function S(j,X){d="PUSH";let ue=Mp(G.location,j,X);g=v()+1;let ie=N_(ue,g),pe=G.createHref(ue);try{f.pushState(ie,"",pe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(pe)}u&&m&&m({action:d,location:G.location,delta:1})}function N(j,X){d="REPLACE";let ue=Mp(G.location,j,X);g=v();let ie=N_(ue,g),pe=G.createHref(ue);f.replaceState(ie,"",pe),u&&m&&m({action:d,location:G.location,delta:0})}function M(j){let X=o.location.origin!=="null"?o.location.origin:o.location.href,ue=typeof j=="string"?j:Wl(j);return ue=ue.replace(/ $/,"%20"),lt(X,`No window.location.(origin|href) available to create URL for href: ${ue}`),new URL(ue,X)}let G={get action(){return d},get location(){return i(o,f)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(D_,T),m=j,()=>{o.removeEventListener(D_,T),m=null}},createHref(j){return e(o,j)},createURL:M,encodeLocation(j){let X=M(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:N,go(j){return f.go(j)}};return G}function I0(i,e,n="/"){return mw(i,e,n,!1)}function mw(i,e,n,a){let o=typeof e=="string"?mo(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let f=O0(i);gw(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let g=Cw(u);d=ww(f[m],g,a)}return d}function O0(i,e=[],n=[],a=""){let o=(u,f,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ii([a,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),O0(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Sw(g,u.index),routesMeta:v})};return i.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let m of D0(u.path))o(u,f,m)}),e}function D0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=D0(a.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function gw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Aw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var yw=/^:[\w-]+$/,vw=3,_w=2,Ew=1,Tw=10,bw=-2,x_=i=>i==="*";function Sw(i,e){let n=i.split("/"),a=n.length;return n.some(x_)&&(a+=bw),e&&(a+=_w),n.filter(o=>!x_(o)).reduce((o,u)=>o+(yw.test(u)?vw:u===""?Ew:Tw),a)}function Aw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function ww(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=fh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!T&&g&&n&&!a[a.length-1].route.index&&(T=fh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ii([u,T.pathname]),pathnameBase:Nw(ii([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ii([u,T.pathnameBase]))}return f}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Rw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let M=d[S]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const N=d[S];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Rw(i,e=!1,n=!0){tr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Cw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Iw(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?mo(i):i;return{pathname:n?n.startsWith("/")?n:Ow(n,e):e,search:xw(a),hash:Pw(o)}}function Ow(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gp(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lm(i){let e=Dw(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function um(i,e,n,a=!1){let o;typeof i=="string"?o=mo(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),gp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),gp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),gp("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=n;else{let T=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let m=Iw(o,d),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ii=i=>i.join("/").replace(/\/\/+/g,"/"),Nw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Pw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Mw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var kw=["GET",...N0];new Set(kw);var go=Y.createContext(null);go.displayName="DataRouter";var kh=Y.createContext(null);kh.displayName="DataRouterState";var x0=Y.createContext({isTransitioning:!1});x0.displayName="ViewTransition";var Lw=Y.createContext(new Map);Lw.displayName="Fetchers";var Vw=Y.createContext(null);Vw.displayName="Await";var rr=Y.createContext(null);rr.displayName="Navigation";var ou=Y.createContext(null);ou.displayName="Location";var ir=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var cm=Y.createContext(null);cm.displayName="RouteError";function Uw(i,{relative:e}={}){lt(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Y.useContext(rr),{hash:o,pathname:u,search:f}=lu(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:ii([n,u])),a.createHref({pathname:d,search:f,hash:o})}function yo(){return Y.useContext(ou)!=null}function oa(){return lt(yo(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(ou).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M0(i){Y.useContext(rr).static||Y.useLayoutEffect(i)}function Lh(){let{isDataRoute:i}=Y.useContext(ir);return i?Jw():jw()}function jw(){lt(yo(),"useNavigate() may be used only in the context of a <Router> component.");let i=Y.useContext(go),{basename:e,navigator:n}=Y.useContext(rr),{matches:a}=Y.useContext(ir),{pathname:o}=oa(),u=JSON.stringify(lm(a)),f=Y.useRef(!1);return M0(()=>{f.current=!0}),Y.useCallback((m,g={})=>{if(tr(f.current,P0),!f.current)return;if(typeof m=="number"){n.go(m);return}let v=um(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ii([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}var zw=Y.createContext(null);function Bw(i){let e=Y.useContext(ir).outlet;return e&&Y.createElement(zw.Provider,{value:i},e)}function lu(i,{relative:e}={}){let{matches:n}=Y.useContext(ir),{pathname:a}=oa(),o=JSON.stringify(lm(n));return Y.useMemo(()=>um(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function qw(i,e){return k0(i,e)}function k0(i,e,n,a){var ue;lt(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Y.useContext(rr),{matches:f}=Y.useContext(ir),d=f[f.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let ie=T&&T.path||"";L0(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let S=oa(),N;if(e){let ie=typeof e=="string"?mo(e):e;lt(v==="/"||((ue=ie.pathname)==null?void 0:ue.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),N=ie}else N=S;let M=N.pathname||"/",G=M;if(v!=="/"){let ie=v.replace(/^\//,"").split("/");G="/"+M.replace(/^\//,"").split("/").slice(ie.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:I0(i,{pathname:G});tr(T||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),tr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Qw(j&&j.map(ie=>Object.assign({},ie,{params:Object.assign({},m,ie.params),pathname:ii([v,o.encodeLocation?o.encodeLocation(ie.pathname).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?v:ii([v,o.encodeLocation?o.encodeLocation(ie.pathnameBase).pathname:ie.pathnameBase])})),f,n,a);return e&&X?Y.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},X):X}function Hw(){let i=Zw(),e=Mw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var Fw=Y.createElement(Hw,null),Gw=class extends Y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Y.createElement(ir.Provider,{value:this.props.routeContext},Y.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kw({routeContext:i,match:e,children:n}){let a=Y.useContext(go);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(ir.Provider,{value:i},n)}function Qw(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:T}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let T,S=!1,N=null,M=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||Fw,f&&(d<0&&v===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):d===v&&(S=!0,M=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,v+1)),j=()=>{let X;return T?X=N:S?X=M:g.route.Component?X=Y.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=m,Y.createElement(Kw,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:n!=null},children:X})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Y.createElement(Gw,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:j(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):j()},null)}function hm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yw(i){let e=Y.useContext(go);return lt(e,hm(i)),e}function $w(i){let e=Y.useContext(kh);return lt(e,hm(i)),e}function Xw(i){let e=Y.useContext(ir);return lt(e,hm(i)),e}function fm(i){let e=Xw(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Ww(){return fm("useRouteId")}function Zw(){var a;let i=Y.useContext(cm),e=$w("useRouteError"),n=fm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function Jw(){let{router:i}=Yw("useNavigate"),e=fm("useNavigate"),n=Y.useRef(!1);return M0(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{tr(n.current,P0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var P_={};function L0(i,e,n){!e&&!P_[i]&&(P_[i]=!0,tr(!1,n))}Y.memo(eR);function eR({routes:i,future:e,state:n}){return k0(i,void 0,n,e)}function tR({to:i,replace:e,state:n,relative:a}){lt(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(rr);tr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(ir),{pathname:f}=oa(),d=Lh(),m=um(i,lm(u),f,a==="path"),g=JSON.stringify(m);return Y.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:a})},[d,g,a,e,n]),null}function nR(i){return Bw(i.context)}function Ka(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rR({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){lt(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),d=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=mo(n));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:S="default"}=n,N=Y.useMemo(()=>{let M=si(m,f);return M==null?null:{location:{pathname:M,search:g,hash:v,state:T,key:S},navigationType:a}},[f,m,g,v,T,S,a]);return tr(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Y.createElement(rr.Provider,{value:d},Y.createElement(ou.Provider,{children:e,value:N}))}function iR({children:i,location:e}){return qw(kp(i),e)}function kp(i,e=[]){let n=[];return Y.Children.forEach(i,(a,o)=>{if(!Y.isValidElement(a))return;let u=[...e,o];if(a.type===Y.Fragment){n.push.apply(n,kp(a.props.children,u));return}lt(a.type===Ka,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=kp(a.props.children,u)),n.push(f)}),n}var Zc="get",Jc="application/x-www-form-urlencoded";function Vh(i){return i!=null&&typeof i.tagName=="string"}function aR(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function sR(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function oR(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function lR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uR(i,e){return i.button===0&&(!e||e==="_self")&&!lR(i)}var Bc=null;function cR(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var hR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(i){return i!=null&&!hR.has(i)?(tr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):i}function fR(i,e){let n,a,o,u,f;if(sR(i)){let d=i.getAttribute("action");a=d?si(d,e):null,n=i.getAttribute("method")||Zc,o=yp(i.getAttribute("enctype"))||Jc,u=new FormData(i)}else if(aR(i)||oR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(a=m?si(m,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||Zc,o=yp(i.getAttribute("formenctype"))||yp(d.getAttribute("enctype"))||Jc,u=new FormData(d,i),!cR()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,a=null,o=Jc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function dm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function dR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mR(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await dR(u,n);return f.links?f.links():[]}return[]}));return _R(a.flat(1).filter(pR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function M_(i,e,n,a,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{var T;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function gR(i,e,{includeHydrateFallback:n}={}){return yR(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yR(i){return[...new Set(i)]}function vR(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function _R(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(vR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var ER=new Set([100,101,204,205]);function TR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&si(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function V0(){let i=Y.useContext(go);return dm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bR(){let i=Y.useContext(kh);return dm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pm=Y.createContext(void 0);pm.displayName="FrameworkContext";function U0(){let i=Y.useContext(pm);return dm(i,"You must render this element inside a <HydratedRouter> element"),i}function SR(i,e){let n=Y.useContext(pm),[a,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=Y.useRef(null);Y.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=X=>{X.forEach(ue=>{f(ue.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[i]),Y.useEffect(()=>{if(a){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[a]);let N=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ll(d,N),onBlur:Ll(m,M),onMouseEnter:Ll(g,N),onMouseLeave:Ll(v,M),onTouchStart:Ll(T,N)}]:[!1,S,{}]}function Ll(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function AR({page:i,...e}){let{router:n}=V0(),a=Y.useMemo(()=>I0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?Y.createElement(RR,{page:i,matches:a,...e}):null}function wR(i){let{manifest:e,routeModules:n}=U0(),[a,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return mR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function RR({page:i,matches:e,...n}){let a=oa(),{manifest:o,routeModules:u}=U0(),{basename:f}=V0(),{loaderData:d,matches:m}=bR(),g=Y.useMemo(()=>M_(i,e,m,o,a,"data"),[i,e,m,o,a]),v=Y.useMemo(()=>M_(i,e,m,o,a,"assets"),[i,e,m,o,a]),T=Y.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let M=new Set,G=!1;if(e.forEach(X=>{var ie;let ue=o.routes[X.route.id];!ue||!ue.hasLoader||(!g.some(pe=>pe.route.id===X.route.id)&&X.route.id in d&&((ie=u[X.route.id])!=null&&ie.shouldRevalidate)||ue.hasClientLoader?G=!0:M.add(X.route.id))}),M.size===0)return[];let j=TR(i,f);return G&&M.size>0&&j.searchParams.set("_routes",e.filter(X=>M.has(X.route.id)).map(X=>X.route.id).join(",")),[j.pathname+j.search]},[f,d,a,o,g,e,i,u]),S=Y.useMemo(()=>gR(v,o),[v,o]),N=wR(v);return Y.createElement(Y.Fragment,null,T.map(M=>Y.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>Y.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),N.map(({key:M,link:G})=>Y.createElement("link",{key:M,...G})))}function CR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.5.1")}catch{}function IR({basename:i,children:e,window:n}){let a=Y.useRef();a.current==null&&(a.current=fw({window:n,v5Compat:!0}));let o=a.current,[u,f]=Y.useState({action:o.action,location:o.location}),d=Y.useCallback(m=>{Y.startTransition(()=>f(m))},[f]);return Y.useLayoutEffect(()=>o.listen(d),[o,d]),Y.createElement(rR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gl=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...S},N){let{basename:M}=Y.useContext(rr),G=typeof g=="string"&&z0.test(g),j,X=!1;if(typeof g=="string"&&G&&(j=g,j0))try{let O=new URL(window.location.href),x=g.startsWith("//")?new URL(O.protocol+g):new URL(g),I=si(x.pathname,M);x.origin===O.origin&&I!=null?g=I+x.search+x.hash:X=!0}catch{tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=Uw(g,{relative:o}),[ie,pe,de]=SR(a,S),ve=xR(g,{replace:f,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:T});function k(O){e&&e(O),O.defaultPrevented||ve(O)}let D=Y.createElement("a",{...S,...de,href:j||ue,onClick:X||u?e:k,ref:CR(N,pe),target:m,"data-discover":!G&&n==="render"?"true":void 0});return ie&&!G?Y.createElement(Y.Fragment,null,D,Y.createElement(AR,{page:ue})):D});Gl.displayName="Link";var OR=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...g},v){let T=lu(f,{relative:g.relative}),S=oa(),N=Y.useContext(kh),{navigator:M,basename:G}=Y.useContext(rr),j=N!=null&&VR(T)&&d===!0,X=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,ue=S.pathname,ie=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),ie=ie?ie.toLowerCase():null,X=X.toLowerCase()),ie&&G&&(ie=si(ie,G)||ie);const pe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let de=ue===X||!o&&ue.startsWith(X)&&ue.charAt(pe)==="/",ve=ie!=null&&(ie===X||!o&&ie.startsWith(X)&&ie.charAt(X.length)==="/"),k={isActive:de,isPending:ve,isTransitioning:j},D=de?e:void 0,O;typeof a=="function"?O=a(k):O=[a,de?"active":null,ve?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return Y.createElement(Gl,{...g,"aria-current":D,className:O,ref:v,style:x,to:f,viewTransition:d},typeof m=="function"?m(k):m)});OR.displayName="NavLink";var DR=Y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Zc,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...S},N)=>{let M=kR(),G=LR(d,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",X=typeof d=="string"&&z0.test(d),ue=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,de=(pe==null?void 0:pe.getAttribute("formmethod"))||f;M(pe||ie.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return Y.createElement("form",{ref:N,method:j,action:G,onSubmit:a?m:ue,...S,"data-discover":!X&&i==="render"?"true":void 0})});DR.displayName="Form";function NR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(i){let e=Y.useContext(go);return lt(e,NR(i)),e}function xR(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=Lh(),m=oa(),g=lu(i,{relative:u});return Y.useCallback(v=>{if(uR(v,e)){v.preventDefault();let T=n!==void 0?n:Wl(m)===Wl(g);d(i,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[m,d,g,n,a,e,i,o,u,f])}var PR=0,MR=()=>`__${String(++PR)}__`;function kR(){let{router:i}=B0("useSubmit"),{basename:e}=Y.useContext(rr),n=Ww();return Y.useCallback(async(a,o={})=>{let{action:u,method:f,encType:d,formData:m,body:g}=fR(a,e);if(o.navigate===!1){let v=o.fetcherKey||MR();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function LR(i,{relative:e}={}){let{basename:n}=Y.useContext(rr),a=Y.useContext(ir);lt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...lu(i||".",{relative:e})},f=oa();if(i==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),Wl(u)}function VR(i,e={}){let n=Y.useContext(x0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=B0("useViewTransitionState"),o=lu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=si(n.nextLocation.pathname,a)||n.nextLocation.pathname;return fh(o.pathname,f)!=null||fh(o.pathname,u)!=null}new TextEncoder;[...ER];var qc={exports:{}},Bi={},vp={exports:{}},_p,k_;function UR(){if(k_)return _p;k_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _p=i,_p}var Ep,L_;function jR(){if(L_)return Ep;L_=1;var i=UR();function e(){}function n(){}return n.resetWarningCache=e,Ep=function(){function a(f,d,m,g,v,T){if(T!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Ep}var V_;function q0(){return V_||(V_=1,vp.exports=jR()()),vp.exports}var Hc={exports:{}},qn={},Fc={exports:{}},U_;function H0(){return U_||(U_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",a="contents",o=/^(input|select|textarea|button|object|iframe)$/;function u(T,S){return S.getPropertyValue("overflow")!=="visible"||T.scrollWidth<=0&&T.scrollHeight<=0}function f(T){var S=T.offsetWidth<=0&&T.offsetHeight<=0;if(S&&!T.innerHTML)return!0;try{var N=window.getComputedStyle(T),M=N.getPropertyValue("display");return S?M!==a&&u(T,N):M===n}catch{return console.warn("Failed to inspect element style"),!1}}function d(T){for(var S=T,N=T.getRootNode&&T.getRootNode();S&&S!==document.body;){if(N&&S===N&&(S=N.host.parentNode),f(S))return!1;S=S.parentNode}return!0}function m(T,S){var N=T.nodeName.toLowerCase(),M=o.test(N)&&!T.disabled||N==="a"&&T.href||S;return M&&d(T)}function g(T){var S=T.getAttribute("tabindex");S===null&&(S=void 0);var N=isNaN(S);return(N||S>=0)&&m(T,!N)}function v(T){var S=[].slice.call(T.querySelectorAll("*"),0).reduce(function(N,M){return N.concat(M.shadowRoot?v(M.shadowRoot):[M])},[]);return S.filter(g)}i.exports=e.default}(Fc,Fc.exports)),Fc.exports}var j_;function zR(){if(j_)return qn;j_=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.resetState=f,qn.log=d,qn.handleBlur=m,qn.handleFocus=g,qn.markForFocusLater=v,qn.returnFocus=T,qn.popWithoutFocus=S,qn.setupScopedFocus=N,qn.teardownScopedFocus=M;var i=H0(),e=n(i);function n(G){return G&&G.__esModule?G:{default:G}}var a=[],o=null,u=!1;function f(){a=[]}function d(){}function m(){u=!0}function g(){if(u){if(u=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var G=(0,e.default)(o)[0]||o;G.focus()}},0)}}function v(){a.push(document.activeElement)}function T(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=null;try{a.length!==0&&(j=a.pop(),j.focus({preventScroll:G}));return}catch{console.warn(["You tried to return focus to",j,"but it is not in the DOM anymore"].join(" "))}}function S(){a.length>0&&a.pop()}function N(G){o=G,window.addEventListener?(window.addEventListener("blur",m,!1),document.addEventListener("focus",g,!0)):(window.attachEvent("onBlur",m),document.attachEvent("onFocus",g))}function M(){o=null,window.addEventListener?(window.removeEventListener("blur",m),document.removeEventListener("focus",g)):(window.detachEvent("onBlur",m),document.detachEvent("onFocus",g))}return qn}var Gc={exports:{}},z_;function BR(){return z_||(z_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=H0(),a=o(n);function o(d){return d&&d.__esModule?d:{default:d}}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?u(d.activeElement.shadowRoot):d.activeElement}function f(d,m){var g=(0,a.default)(d);if(!g.length){m.preventDefault();return}var v=void 0,T=m.shiftKey,S=g[0],N=g[g.length-1],M=u();if(d===M){if(!T)return;v=N}if(N===M&&!T&&(v=S),S===M&&T&&(v=N),v){m.preventDefault(),v.focus();return}var G=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),j=G!=null&&G[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(j){var X=g.indexOf(M);if(X>-1&&(X+=T?-1:1),v=g[X],typeof v>"u"){m.preventDefault(),v=T?N:S,v.focus();return}m.preventDefault(),v.focus()}}i.exports=e.default}(Gc,Gc.exports)),Gc.exports}var Xn={},Tp,B_;function qR(){if(B_)return Tp;B_=1;var i=function(){};return Tp=i,Tp}var Sr={},bp={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var q_;function HR(){return q_||(q_=1,function(i){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};i.exports?i.exports=n:window.ExecutionEnvironment=n})()}(bp)),bp.exports}var H_;function mm(){if(H_)return Sr;H_=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.canUseDOM=Sr.SafeNodeList=Sr.SafeHTMLCollection=void 0;var i=HR(),e=n(i);function n(u){return u&&u.__esModule?u:{default:u}}var a=e.default,o=a.canUseDOM?window.HTMLElement:{};return Sr.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},Sr.SafeNodeList=a.canUseDOM?window.NodeList:{},Sr.canUseDOM=a.canUseDOM,Sr.default=o,Sr}var F_;function F0(){if(F_)return Xn;F_=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.resetState=u,Xn.log=f,Xn.assertNodeList=d,Xn.setElement=m,Xn.validateElement=g,Xn.hide=v,Xn.show=T,Xn.documentNotReadyOrSSRTesting=S;var i=qR(),e=a(i),n=mm();function a(N){return N&&N.__esModule?N:{default:N}}var o=null;function u(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(N){return N.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(N){return N.removeAttribute("aria-hidden")})),o=null}function f(){}function d(N,M){if(!N||!N.length)throw new Error("react-modal: No elements were found for selector "+M+".")}function m(N){var M=N;if(typeof M=="string"&&n.canUseDOM){var G=document.querySelectorAll(M);d(G,M),M=G}return o=M||o,o}function g(N){var M=N||o;return M?Array.isArray(M)||M instanceof HTMLCollection||M instanceof NodeList?M:[M]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function v(N){var M=!0,G=!1,j=void 0;try{for(var X=g(N)[Symbol.iterator](),ue;!(M=(ue=X.next()).done);M=!0){var ie=ue.value;ie.setAttribute("aria-hidden","true")}}catch(pe){G=!0,j=pe}finally{try{!M&&X.return&&X.return()}finally{if(G)throw j}}}function T(N){var M=!0,G=!1,j=void 0;try{for(var X=g(N)[Symbol.iterator](),ue;!(M=(ue=X.next()).done);M=!0){var ie=ue.value;ie.removeAttribute("aria-hidden")}}catch(pe){G=!0,j=pe}finally{try{!M&&X.return&&X.return()}finally{if(G)throw j}}}function S(){o=null}return Xn}var Ga={},G_;function FR(){if(G_)return Ga;G_=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.resetState=a,Ga.log=o;var i={},e={};function n(g,v){g.classList.remove(v)}function a(){var g=document.getElementsByTagName("html")[0];for(var v in i)n(g,i[v]);var T=document.body;for(var S in e)n(T,e[S]);i={},e={}}function o(){}var u=function(v,T){return v[T]||(v[T]=0),v[T]+=1,T},f=function(v,T){return v[T]&&(v[T]-=1),T},d=function(v,T,S){S.forEach(function(N){u(T,N),v.add(N)})},m=function(v,T,S){S.forEach(function(N){f(T,N),T[N]===0&&v.remove(N)})};return Ga.add=function(v,T){return d(v.classList,v.nodeName.toLowerCase()=="html"?i:e,T.split(" "))},Ga.remove=function(v,T){return m(v.classList,v.nodeName.toLowerCase()=="html"?i:e,T.split(" "))},Ga}var Ys={},K_;function G0(){if(K_)return Ys;K_=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.log=a,Ys.resetState=o;function i(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var e=function u(){var f=this;i(this,u),this.register=function(d){f.openInstances.indexOf(d)===-1&&(f.openInstances.push(d),f.emit("register"))},this.deregister=function(d){var m=f.openInstances.indexOf(d);m!==-1&&(f.openInstances.splice(m,1),f.emit("deregister"))},this.subscribe=function(d){f.subscribers.push(d)},this.emit=function(d){f.subscribers.forEach(function(m){return m(d,f.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function a(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(u){return console.log(u)}),console.log("end portalOpenInstances ----------")}function o(){n=new e}return Ys.default=n,Ys}var Vl={},Q_;function GR(){if(Q_)return Vl;Q_=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.resetState=f,Vl.log=d;var i=G0(),e=n(i);function n(v){return v&&v.__esModule?v:{default:v}}var a=void 0,o=void 0,u=[];function f(){for(var v=[a,o],T=0;T<v.length;T++){var S=v[T];S&&S.parentNode&&S.parentNode.removeChild(S)}a=o=null,u=[]}function d(){console.log("bodyTrap ----------"),console.log(u.length);for(var v=[a,o],T=0;T<v.length;T++){var S=v[T],N=S||{};console.log(N.nodeName,N.className,N.id)}console.log("edn bodyTrap ----------")}function m(){u.length!==0&&u[u.length-1].focusContent()}function g(v,T){!a&&!o&&(a=document.createElement("div"),a.setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",m),o=a.cloneNode(),o.addEventListener("focus",m)),u=T,u.length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(a.parentElement&&a.parentElement.removeChild(a),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(g),Vl}var Y_;function KR(){return Y_||(Y_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(te){for(var ee=1;ee<arguments.length;ee++){var q=arguments[ee];for(var L in q)Object.prototype.hasOwnProperty.call(q,L)&&(te[L]=q[L])}return te},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},o=function(){function te(ee,q){for(var L=0;L<q.length;L++){var ne=q[L];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ee,ne.key,ne)}}return function(ee,q,L){return q&&te(ee.prototype,q),L&&te(ee,L),ee}}(),u=po(),f=q0(),d=de(f),m=zR(),g=pe(m),v=BR(),T=de(v),S=F0(),N=pe(S),M=FR(),G=pe(M),j=mm(),X=de(j),ue=G0(),ie=de(ue);GR();function pe(te){if(te&&te.__esModule)return te;var ee={};if(te!=null)for(var q in te)Object.prototype.hasOwnProperty.call(te,q)&&(ee[q]=te[q]);return ee.default=te,ee}function de(te){return te&&te.__esModule?te:{default:te}}function ve(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}function k(te,ee){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:te}function D(te,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);te.prototype=Object.create(ee&&ee.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ee):te.__proto__=ee)}var O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},x=function(ee){return ee.code==="Tab"||ee.keyCode===9},I=function(ee){return ee.code==="Escape"||ee.keyCode===27},C=0,w=function(te){D(ee,te);function ee(q){ve(this,ee);var L=k(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,q));return L.setOverlayRef=function(ne){L.overlay=ne,L.props.overlayRef&&L.props.overlayRef(ne)},L.setContentRef=function(ne){L.content=ne,L.props.contentRef&&L.props.contentRef(ne)},L.afterClose=function(){var ne=L.props,se=ne.appElement,A=ne.ariaHideApp,K=ne.htmlOpenClassName,Z=ne.bodyOpenClassName,W=ne.parentSelector,he=W&&W().ownerDocument||document;Z&&G.remove(he.body,Z),K&&G.remove(he.getElementsByTagName("html")[0],K),A&&C>0&&(C-=1,C===0&&N.show(se)),L.props.shouldFocusAfterRender&&(L.props.shouldReturnFocusAfterClose?(g.returnFocus(L.props.preventScroll),g.teardownScopedFocus()):g.popWithoutFocus()),L.props.onAfterClose&&L.props.onAfterClose(),ie.default.deregister(L)},L.open=function(){L.beforeOpen(),L.state.afterOpen&&L.state.beforeClose?(clearTimeout(L.closeTimer),L.setState({beforeClose:!1})):(L.props.shouldFocusAfterRender&&(g.setupScopedFocus(L.node),g.markForFocusLater()),L.setState({isOpen:!0},function(){L.openAnimationFrame=requestAnimationFrame(function(){L.setState({afterOpen:!0}),L.props.isOpen&&L.props.onAfterOpen&&L.props.onAfterOpen({overlayEl:L.overlay,contentEl:L.content})})}))},L.close=function(){L.props.closeTimeoutMS>0?L.closeWithTimeout():L.closeWithoutTimeout()},L.focusContent=function(){return L.content&&!L.contentHasFocus()&&L.content.focus({preventScroll:!0})},L.closeWithTimeout=function(){var ne=Date.now()+L.props.closeTimeoutMS;L.setState({beforeClose:!0,closesAt:ne},function(){L.closeTimer=setTimeout(L.closeWithoutTimeout,L.state.closesAt-Date.now())})},L.closeWithoutTimeout=function(){L.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},L.afterClose)},L.handleKeyDown=function(ne){x(ne)&&(0,T.default)(L.content,ne),L.props.shouldCloseOnEsc&&I(ne)&&(ne.stopPropagation(),L.requestClose(ne))},L.handleOverlayOnClick=function(ne){L.shouldClose===null&&(L.shouldClose=!0),L.shouldClose&&L.props.shouldCloseOnOverlayClick&&(L.ownerHandlesClose()?L.requestClose(ne):L.focusContent()),L.shouldClose=null},L.handleContentOnMouseUp=function(){L.shouldClose=!1},L.handleOverlayOnMouseDown=function(ne){!L.props.shouldCloseOnOverlayClick&&ne.target==L.overlay&&ne.preventDefault()},L.handleContentOnClick=function(){L.shouldClose=!1},L.handleContentOnMouseDown=function(){L.shouldClose=!1},L.requestClose=function(ne){return L.ownerHandlesClose()&&L.props.onRequestClose(ne)},L.ownerHandlesClose=function(){return L.props.onRequestClose},L.shouldBeClosed=function(){return!L.state.isOpen&&!L.state.beforeClose},L.contentHasFocus=function(){return document.activeElement===L.content||L.content.contains(document.activeElement)},L.buildClassName=function(ne,se){var A=(typeof se>"u"?"undefined":a(se))==="object"?se:{base:O[ne],afterOpen:O[ne]+"--after-open",beforeClose:O[ne]+"--before-close"},K=A.base;return L.state.afterOpen&&(K=K+" "+A.afterOpen),L.state.beforeClose&&(K=K+" "+A.beforeClose),typeof se=="string"&&se?K+" "+se:K},L.attributesFromObject=function(ne,se){return Object.keys(se).reduce(function(A,K){return A[ne+"-"+K]=se[K],A},{})},L.state={afterOpen:!1,beforeClose:!1},L.shouldClose=null,L.moveFromContentToOverlay=null,L}return o(ee,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(L,ne){this.props.isOpen&&!L.isOpen?this.open():!this.props.isOpen&&L.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ne.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var L=this.props,ne=L.appElement,se=L.ariaHideApp,A=L.htmlOpenClassName,K=L.bodyOpenClassName,Z=L.parentSelector,W=Z&&Z().ownerDocument||document;K&&G.add(W.body,K),A&&G.add(W.getElementsByTagName("html")[0],A),se&&(C+=1,N.hide(ne)),ie.default.register(this)}},{key:"render",value:function(){var L=this.props,ne=L.id,se=L.className,A=L.overlayClassName,K=L.defaultStyles,Z=L.children,W=se?{}:K.content,he=A?{}:K.overlay;if(this.shouldBeClosed())return null;var _e={ref:this.setOverlayRef,className:this.buildClassName("overlay",A),style:n({},he,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ge=n({id:ne,ref:this.setContentRef,style:n({},W,this.props.style.content),className:this.buildClassName("content",se),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Fe=this.props.contentElement(ge,Z);return this.props.overlayElement(_e,Fe)}}]),ee}(u.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(X.default),d.default.instanceOf(j.SafeHTMLCollection),d.default.instanceOf(j.SafeNodeList),d.default.arrayOf(d.default.instanceOf(X.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},e.default=w,i.exports=e.default}(Hc,Hc.exports)),Hc.exports}function K0(){var i=this.constructor.getDerivedStateFromProps(this.props,this.state);i!=null&&this.setState(i)}function Q0(i){function e(n){var a=this.constructor.getDerivedStateFromProps(i,n);return a??null}this.setState(e.bind(this))}function Y0(i,e){try{var n=this.props,a=this.state;this.props=i,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}K0.__suppressDeprecationWarning=!0;Q0.__suppressDeprecationWarning=!0;Y0.__suppressDeprecationWarning=!0;function QR(i){var e=i.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return i;var n=null,a=null,o=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||a!==null||o!==null){var u=i.displayName||i.name,f=typeof i.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+f+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof i.getDerivedStateFromProps=="function"&&(e.componentWillMount=K0,e.componentWillReceiveProps=Q0),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Y0;var d=e.componentDidUpdate;e.componentDidUpdate=function(g,v,T){var S=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:T;d.call(this,g,v,S)}}return i}const YR=Object.freeze(Object.defineProperty({__proto__:null,polyfill:QR},Symbol.toStringTag,{value:"Module"})),$R=tw(YR);var $_;function XR(){if($_)return Bi;$_=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.bodyOpenClassName=Bi.portalClassName=void 0;var i=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var te in w)Object.prototype.hasOwnProperty.call(w,te)&&(I[te]=w[te])}return I},e=function(){function I(C,w){for(var te=0;te<w.length;te++){var ee=w[te];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(C,ee.key,ee)}}return function(C,w,te){return w&&I(C.prototype,w),te&&I(C,te),C}}(),n=po(),a=j(n),o=C0(),u=j(o),f=q0(),d=j(f),m=KR(),g=j(m),v=F0(),T=G(v),S=mm(),N=j(S),M=$R;function G(I){if(I&&I.__esModule)return I;var C={};if(I!=null)for(var w in I)Object.prototype.hasOwnProperty.call(I,w)&&(C[w]=I[w]);return C.default=I,C}function j(I){return I&&I.__esModule?I:{default:I}}function X(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function ue(I,C){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:I}function ie(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(I,C):I.__proto__=C)}var pe=Bi.portalClassName="ReactModalPortal",de=Bi.bodyOpenClassName="ReactModal__Body--open",ve=S.canUseDOM&&u.default.createPortal!==void 0,k=function(C){return document.createElement(C)},D=function(){return ve?u.default.createPortal:u.default.unstable_renderSubtreeIntoContainer};function O(I){return I()}var x=function(I){ie(C,I);function C(){var w,te,ee,q;X(this,C);for(var L=arguments.length,ne=Array(L),se=0;se<L;se++)ne[se]=arguments[se];return q=(te=(ee=ue(this,(w=C.__proto__||Object.getPrototypeOf(C)).call.apply(w,[this].concat(ne))),ee),ee.removePortal=function(){!ve&&u.default.unmountComponentAtNode(ee.node);var A=O(ee.props.parentSelector);A&&A.contains(ee.node)?A.removeChild(ee.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ee.portalRef=function(A){ee.portal=A},ee.renderPortal=function(A){var K=D(),Z=K(ee,a.default.createElement(g.default,i({defaultStyles:C.defaultStyles},A)),ee.node);ee.portalRef(Z)},te),ue(ee,q)}return e(C,[{key:"componentDidMount",value:function(){if(S.canUseDOM){ve||(this.node=k("div")),this.node.className=this.props.portalClassName;var te=O(this.props.parentSelector);te.appendChild(this.node),!ve&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(te){var ee=O(te.parentSelector),q=O(this.props.parentSelector);return{prevParent:ee,nextParent:q}}},{key:"componentDidUpdate",value:function(te,ee,q){if(S.canUseDOM){var L=this.props,ne=L.isOpen,se=L.portalClassName;te.portalClassName!==se&&(this.node.className=se);var A=q.prevParent,K=q.nextParent;K!==A&&(A.removeChild(this.node),K.appendChild(this.node)),!(!te.isOpen&&!ne)&&!ve&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!S.canUseDOM||!this.node||!this.portal)){var te=this.portal.state,ee=Date.now(),q=te.isOpen&&this.props.closeTimeoutMS&&(te.closesAt||ee+this.props.closeTimeoutMS);q?(te.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,q-ee)):this.removePortal()}}},{key:"render",value:function(){if(!S.canUseDOM||!ve)return null;!this.node&&ve&&(this.node=k("div"));var te=D();return te(a.default.createElement(g.default,i({ref:this.portalRef,defaultStyles:C.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(te){T.setElement(te)}}]),C}(n.Component);return x.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(N.default),d.default.instanceOf(S.SafeHTMLCollection),d.default.instanceOf(S.SafeNodeList),d.default.arrayOf(d.default.instanceOf(N.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},x.defaultProps={isOpen:!1,portalClassName:pe,bodyOpenClassName:de,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(C,w){return a.default.createElement("div",C,w)},contentElement:function(C,w){return a.default.createElement("div",C,w)}},x.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,M.polyfill)(x),Bi.default=x,Bi}var X_;function WR(){return X_||(X_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=XR(),a=o(n);function o(u){return u&&u.__esModule?u:{default:u}}e.default=a.default,i.exports=e.default}(qc,qc.exports)),qc.exports}var ZR=WR();const gm=om(ZR),JR=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},eC=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],d=i[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,d=f?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,N=g&63;m||(N=64,f||(S=64)),a.push(n[v],n[T],n[S],n[N])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):eC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new tC;const S=u<<2|d>>4;if(a.push(S),g!==64){const N=d<<4&240|g>>2;if(a.push(N),T!==64){const M=g<<6&192|T;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nC=function(i){const e=$0(i);return X0.encodeByteArray(e,!0)},dh=function(i){return nC(i).replace(/\./g,"")},W0=function(i){try{return X0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>rC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof W_>"u")return;const i=W_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&W0(i[1]);return e&&JSON.parse(e)},Uh=()=>{try{return JR()||iC()||aC()||sC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z0=i=>{var e,n;return(n=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},oC=i=>{const e=Z0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},J0=()=>{var i;return(i=Uh())===null||i===void 0?void 0:i.config},eT=i=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function hC(){var i;const e=(i=Uh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function pC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mC(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yC(){try{return typeof indexedDB=="object"}catch{return!1}}function vC(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FirebaseError";class fi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=_C,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?EC(u,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new fi(o,d,a)}}function EC(i,e){return i.replace(TC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const TC=/\{\$([^}]+)}/g;function bC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xa(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(Z_(u)&&Z_(f)){if(!Xa(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Z_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ul(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function SC(i,e){const n=new AC(i,e);return n.subscribe.bind(n)}class AC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");wC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Sp),o.error===void 0&&(o.error=Sp),o.complete===void 0&&(o.complete=Sp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(i){return i&&i._delegate?i._delegate:i}class Wa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new lC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IC(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(i){return i===Qa?void 0:i}function IC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const DC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},NC=Le.INFO,xC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},PC=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=xC[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=NC,this._logHandler=PC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const MC=(i,e)=>e.some(n=>i instanceof n);let J_,eE;function kC(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LC(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,Lp=new WeakMap,nT=new WeakMap,Ap=new WeakMap,vm=new WeakMap;function VC(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Yi(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,i)}).catch(()=>{}),vm.set(e,i),e}function UC(i){if(Lp.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Lp.set(i,e)}let Vp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||nT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function jC(i){Vp=i(Vp)}function zC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(wp(this),e,...n);return nT.set(a,e.sort?e.sort():[e]),Yi(a)}:LC().includes(i)?function(...e){return i.apply(wp(this),e),Yi(tT.get(this))}:function(...e){return Yi(i.apply(wp(this),e))}}function BC(i){return typeof i=="function"?zC(i):(i instanceof IDBTransaction&&UC(i),MC(i,kC())?new Proxy(i,Vp):i)}function Yi(i){if(i instanceof IDBRequest)return VC(i);if(Ap.has(i))return Ap.get(i);const e=BC(i);return e!==i&&(Ap.set(i,e),vm.set(e,i)),e}const wp=i=>vm.get(i);function qC(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),d=Yi(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Yi(f.result),m.oldVersion,m.newVersion,Yi(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const HC=["get","getKey","getAll","getAllKeys","count"],FC=["put","add","delete","clear"],Rp=new Map;function tE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=FC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||HC.includes(n)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return Rp.set(e,u),u}jC(i=>({...i,get:(e,n,a)=>tE(e,n)||i.get(e,n,a),has:(e,n)=>!!tE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function KC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",nE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new ym("@firebase/app"),QC="@firebase/app-compat",YC="@firebase/analytics-compat",$C="@firebase/analytics",XC="@firebase/app-check-compat",WC="@firebase/app-check",ZC="@firebase/auth",JC="@firebase/auth-compat",e1="@firebase/database",t1="@firebase/data-connect",n1="@firebase/database-compat",r1="@firebase/functions",i1="@firebase/functions-compat",a1="@firebase/installations",s1="@firebase/installations-compat",o1="@firebase/messaging",l1="@firebase/messaging-compat",u1="@firebase/performance",c1="@firebase/performance-compat",h1="@firebase/remote-config",f1="@firebase/remote-config-compat",d1="@firebase/storage",p1="@firebase/storage-compat",m1="@firebase/firestore",g1="@firebase/vertexai",y1="@firebase/firestore-compat",v1="firebase",_1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",E1={[Up]:"fire-core",[QC]:"fire-core-compat",[$C]:"fire-analytics",[YC]:"fire-analytics-compat",[WC]:"fire-app-check",[XC]:"fire-app-check-compat",[ZC]:"fire-auth",[JC]:"fire-auth-compat",[e1]:"fire-rtdb",[t1]:"fire-data-connect",[n1]:"fire-rtdb-compat",[r1]:"fire-fn",[i1]:"fire-fn-compat",[a1]:"fire-iid",[s1]:"fire-iid-compat",[o1]:"fire-fcm",[l1]:"fire-fcm-compat",[u1]:"fire-perf",[c1]:"fire-perf-compat",[h1]:"fire-rc",[f1]:"fire-rc-compat",[d1]:"fire-gcs",[p1]:"fire-gcs-compat",[m1]:"fire-fst",[y1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[v1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,T1=new Map,zp=new Map;function rE(i,e){try{i.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function io(i){const e=i.name;if(zp.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,i);for(const n of ph.values())rE(n,i);for(const n of T1.values())rE(n,i);return!0}function _m(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Zn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new uu("app","Firebase",b1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=_1;function rT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:jp,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=J0()),!n)throw $i.create("no-options");const u=ph.get(o);if(u){if(Xa(n,u.options)&&Xa(a,u.config))return u;throw $i.create("duplicate-app",{appName:o})}const f=new OC(o);for(const m of zp.values())f.addComponent(m);const d=new S1(n,a,f);return ph.set(o,d),d}function iT(i=jp){const e=ph.get(i);if(!e&&i===jp&&J0())return rT();if(!e)throw $i.create("no-app",{appName:i});return e}function Xi(i,e,n){var a;let o=(a=E1[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}io(new Wa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebase-heartbeat-database",w1=1,Zl="firebase-heartbeat-store";let Cp=null;function aT(){return Cp||(Cp=qC(A1,w1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw $i.create("idb-open",{originalErrorMessage:i.message})})),Cp}async function R1(i){try{const n=(await aT()).transaction(Zl),a=await n.objectStore(Zl).get(sT(i));return await n.done,a}catch(e){if(e instanceof fi)oi.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function iE(i,e){try{const a=(await aT()).transaction(Zl,"readwrite");await a.objectStore(Zl).put(e,sT(i)),await a.done}catch(n){if(n instanceof fi)oi.warn(n.message);else{const a=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(a.message)}}}function sT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1024,I1=30;class O1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=aE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>I1){const f=x1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aE(),{heartbeatsToSend:a,unsentEntries:o}=D1(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return oi.warn(n),""}}}function aE(){return new Date().toISOString().substring(0,10)}function D1(i,e=C1){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),sE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class N1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yC()?vC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sE(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function x1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i){io(new Wa("platform-logger",e=>new GC(e),"PRIVATE")),io(new Wa("heartbeat",e=>new O1(e),"PRIVATE")),Xi(Up,nE,i),Xi(Up,nE,"esm2017"),Xi("fire-js","")}P1("");function Em(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M1=oT,lT=new uu("auth","Firebase",oT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new ym("@firebase/auth");function k1(i,...e){mh.logLevel<=Le.WARN&&mh.warn(`Auth (${vo}): ${i}`,...e)}function eh(i,...e){mh.logLevel<=Le.ERROR&&mh.error(`Auth (${vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(i,...e){throw Tm(i,...e)}function wr(i,...e){return Tm(i,...e)}function uT(i,e,n){const a=Object.assign(Object.assign({},M1()),{[e]:n});return new uu("auth","Firebase",a).create(e,{appName:i.name})}function Wi(i){return uT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return lT.create(i,...e)}function we(i,e,...n){if(!i)throw Tm(e,...n)}function ni(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function li(i,e){i||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function L1(){return oE()==="http:"||oE()==="https:"}function oE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L1()||dC()||"connection"in navigator)?navigator.onLine:!0}function U1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=cC()||pC()}get(){return V1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i,e){li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B1=new hu(3e4,6e4);function ts(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function la(i,e,n,a,o={}){return hT(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=cu(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},u);return fC()||(g.referrerPolicy="no-referrer"),cT.fetch()(await fT(i,i.config.apiHost,n,d),g)})}async function hT(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},j1),e);try{const o=new H1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Kc(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw Kc(i,"user-disabled",f);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw uT(i,v,g);nr(i,v)}}catch(o){if(o instanceof fi)throw o;nr(i,"network-request-failed",{message:String(o)})}}async function jh(i,e,n,a,o={}){const u=await la(i,e,n,a,o);return"mfaPendingCredential"in u&&nr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function fT(i,e,n,a){const o=`${e}${n}?${a}`,u=i,f=u.config.emulator?bm(i.config,o):`${i.config.apiScheme}://${o}`;return z1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function q1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(wr(this.auth,"network-request-failed")),B1.get())})}}function Kc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=wr(i,e,a);return o.customData._tokenResponse=n,o}function lE(i){return i!==void 0&&i.enterprise!==void 0}class F1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G1(i,e){return la(i,"GET","/v2/recaptchaConfig",ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(i,e){return la(i,"POST","/v1/accounts:delete",e)}async function gh(i,e){return la(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q1(i,e=!1){const n=ln(i),a=await n.getIdToken(e),o=Sm(a);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Kl(Ip(o.auth_time)),issuedAtTime:Kl(Ip(o.iat)),expirationTime:Kl(Ip(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ip(i){return Number(i)*1e3}function Sm(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=W0(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uE(i){const e=Sm(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof fi&&Y1(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function Y1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(i){var e;const n=i.auth,a=await i.getIdToken(),o=await Jl(i,gh(n,{idToken:a}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?dT(u.providerUserInfo):[],d=W1(i.providerData,f),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new qp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function X1(i){const e=ln(i);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W1(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function dT(i){return i.map(e=>{var{providerId:n}=e,a=Em(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(i,e){const n=await hT(i,{},async()=>{const a=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await fT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",cT.fetch()(f,{method:"POST",headers:d,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J1(i,e){return la(i,"POST","/v2/accounts:revokeToken",ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await Z1(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new eo;return a&&(we(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Jl(this,K1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,d,m,g,v;const T=(a=n.displayName)!==null&&a!==void 0?a:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(d=n.tenantId)!==null&&d!==void 0?d:void 0,j=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,X=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ue=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ie,emailVerified:pe,isAnonymous:de,providerData:ve,stsTokenManager:k}=n;we(ie&&k,e,"internal-error");const D=eo.fromJSON(this.name,k);we(typeof ie=="string",e,"internal-error"),qi(T,e.name),qi(S,e.name),we(typeof pe=="boolean",e,"internal-error"),we(typeof de=="boolean",e,"internal-error"),qi(N,e.name),qi(M,e.name),qi(G,e.name),qi(j,e.name),qi(X,e.name),qi(ue,e.name);const O=new Jn({uid:ie,auth:e,email:S,emailVerified:pe,displayName:T,isAnonymous:de,photoURL:M,phoneNumber:N,tenantId:G,stsTokenManager:D,createdAt:X,lastLoginAt:ue});return ve&&Array.isArray(ve)&&(O.providerData=ve.map(x=>Object.assign({},x))),j&&(O._redirectEventId=j),O}static async _fromIdTokenResponse(e,n,a=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?dT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new eo;d.updateFromIdToken(a);const m=new Jn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function ri(i){li(i instanceof Function,"Expected a class definition");let e=cE.get(i);return e?(li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pT.type="NONE";const hE=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,n){return`firebase:${i}:${e}:${n}`}class to{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new to(ri(hE),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ri(hE);const f=th(a,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const S=await gh(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Jn._fromGetAccountInfoResponse(e,S,v)}else T=Jn._fromJSON(e,v);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new to(u,e,a):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new to(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ET(e))return"Blackberry";if(TT(e))return"Webos";if(gT(e))return"Safari";if((e.includes("chrome/")||yT(e))&&!e.includes("edge/"))return"Chrome";if(_T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function mT(i=on()){return/firefox\//i.test(i)}function gT(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yT(i=on()){return/crios\//i.test(i)}function vT(i=on()){return/iemobile/i.test(i)}function _T(i=on()){return/android/i.test(i)}function ET(i=on()){return/blackberry/i.test(i)}function TT(i=on()){return/webos/i.test(i)}function Am(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eI(i=on()){var e;return Am(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tI(){return mC()&&document.documentMode===10}function bT(i=on()){return Am(i)||_T(i)||TT(i)||ET(i)||/windows phone/i.test(i)||vT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(i,e=[]){let n;switch(i){case"Browser":n=fE(on());break;case"Worker":n=`${fE(on())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,d)=>{try{const m=e(u);f(m)}catch(m){d(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(i,e={}){return la(i,"GET","/v2/passwordPolicy",ts(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=6;class aI{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:iI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),a=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Wi(this));const n=e?ln(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rI(this),n=new aI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await J1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _o(i){return ln(i)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(i){zh=i}function AT(i){return zh.loadJS(i)}function lI(){return zh.recaptchaEnterpriseScript}function uI(){return zh.gapiScript}function cI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dI="recaptcha-enterprise",wT="NO_RECAPTCHA";class pI{constructor(e){this.type=dI,this.auth=_o(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{G1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new F1(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;lE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(wT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(d=>{if(!n&&lE(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=lI();m.length!==0&&(m+=d),AT(m).then(()=>{o(d,u,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function pE(i,e,n,a=!1,o=!1){const u=new pI(i);let f;if(o)f=wT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function mE(i,e,n,a,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await pE(i,e,n,n==="getOobCode");return a(i,f)}else return a(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pE(i,e,n,n==="getOobCode");return a(i,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(i,e){const n=_m(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xa(u,e??{}))return o;nr(o,"already-initialized")}return n.initialize({options:e})}function gI(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function yI(i,e,n){const a=_o(i);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=RT(e),{host:f,port:d}=vI(e),m=d===null?"":`:${d}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Xa(g,a.config.emulator)&&Xa(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,_I()}function RT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function vI(i){const e=RT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:gE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:gE(f)}}}function gE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _I(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function EI(i,e){return la(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(i,e){return jh(i,"POST","/v1/accounts:signInWithPassword",ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e){return jh(i,"POST","/v1/accounts:signInWithEmailLink",ts(i,e))}async function SI(i,e){return jh(i,"POST","/v1/accounts:signInWithEmailLink",ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends wm{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new eu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mE(e,n,"signInWithPassword",TI);case"emailLink":return bI(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mE(e,a,"signUpPassword",EI);case"emailLink":return SI(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(i,e){return jh(i,"POST","/v1/accounts:signInWithIdp",ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Za extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Em(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Za(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,no(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(i){const e=Ul(jl(i)).link,n=e?Ul(jl(e)).deep_link_id:null,a=Ul(jl(i)).deep_link_id;return(a?Ul(jl(a)).link:null)||a||n||e||i}class Rm{constructor(e){var n,a,o,u,f,d;const m=Ul(jl(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,T=wI((o=m.mode)!==null&&o!==void 0?o:null);we(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=RI(e);try{return new Rm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Rm.parseLink(n);return we(a,"argument-error"),eu._fromEmailAndCode(e,a.code,a.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends fu{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Fi.credential(n,a)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends fu{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends fu{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ki.credential(n,a)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Jn._fromIdTokenResponse(e,a,o),f=yE(a);return new ao({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=yE(a);return new ao({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function yE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends fi{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new vh(e,n,a,o)}}function IT(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(i,u,e,a):u})}async function CI(i,e,n=!1){const a=await Jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ao._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,e,n=!1){const{auth:a}=i;if(Zn(a.app))return Promise.reject(Wi(a));const o="reauthenticate";try{const u=await Jl(i,IT(a,o,e,i),n);we(u.idToken,a,"internal-error");const f=Sm(u.idToken);we(f,a,"internal-error");const{sub:d}=f;return we(i.uid===d,a,"user-mismatch"),ao._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&nr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(i,e,n=!1){if(Zn(i.app))return Promise.reject(Wi(i));const a="signIn",o=await IT(i,a,e),u=await ao._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}async function OI(i,e){return OT(_o(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(i){const e=_o(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NI(i,e,n){return Zn(i.app)?Promise.reject(Wi(i)):OI(ln(i),Eo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&DI(i),a})}function xI(i,e,n,a){return ln(i).onIdTokenChanged(e,n,a)}function PI(i,e,n){return ln(i).beforeAuthStateChanged(e,n)}function MI(i){return ln(i).signOut()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1e3,LI=10;class NT extends DT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);tI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const VI=NT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends DT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xT.type="SESSION";const PT=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Bh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async g=>g(n.origin,u)),m=await UI(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const g=Cm("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function zI(i){Rr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function BI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function HI(){return MT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebaseLocalStorageDb",FI=1,Eh="firebaseLocalStorage",LT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(i,e){return i.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function GI(){const i=indexedDB.deleteDatabase(kT);return new du(i).toPromise()}function Hp(){const i=indexedDB.open(kT,FI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Eh,{keyPath:LT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Eh)?e(a):(a.close(),await GI(),e(await Hp()))})})}async function vE(i,e,n){const a=qh(i,!0).put({[LT]:e,value:n});return new du(a).toPromise()}async function KI(i,e){const n=qh(i,!1).get(e),a=await new du(n).toPromise();return a===void 0?null:a.value}function _E(i,e){const n=qh(i,!0).delete(e);return new du(n).toPromise()}const QI=800,YI=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>YI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(HI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new jI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await vE(e,_h,"1"),await _E(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>vE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>KI(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const $I=VT;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i,e){return e?ri(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WI(i){return OT(i.auth,new Im(i),i.bypassAuthState)}function ZI(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),II(n,new Im(i),i.bypassAuthState)}async function JI(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),CI(n,new Im(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:nr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new hu(2e3,1e4);class Js extends UT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="pendingRedirect",nh=new Map;class nO extends UT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const a=await rO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rO(i,e){const n=sO(e),a=aO(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function iO(i,e){nh.set(i._key(),e)}function aO(i){return ri(i._redirectPersistence)}function sO(i){return th(tO,i.config.apiKey,i.name)}async function oO(i,e,n=!1){if(Zn(i.app))return Promise.reject(Wi(i));const a=_o(i),o=XI(a,e),f=await new nO(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=10*60*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!jT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function jT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,e={}){return la(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dO=/^https?/;async function pO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await hO(i);for(const n of e)try{if(mO(n))return}catch{}nr(i,"unauthorized-domain")}function mO(i){const e=Bp(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!dO.test(n))return!1;if(fO.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new hu(3e4,6e4);function TE(){const i=Rr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function yO(i){return new Promise((e,n)=>{var a,o,u;function f(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(wr(i,"network-request-failed"))},timeout:gO.get()})}if(!((o=(a=Rr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Rr().gapi)===null||u===void 0)&&u.load)f();else{const d=cI("iframefcb");return Rr()[d]=()=>{gapi.load?f():n(wr(i,"network-request-failed"))},AT(`${uI()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw rh=null,e})}let rh=null;function vO(i){return rh=rh||yO(i),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new hu(5e3,15e3),EO="__/auth/iframe",TO="emulator/auth/iframe",bO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AO(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?bm(e,TO):`https://${i.config.authDomain}/${EO}`,a={apiKey:e.apiKey,appName:i.name,v:vo},o=SO.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${cu(a).slice(1)}`}async function wO(i){const e=await vO(i),n=Rr().gapi;return we(n,i,"internal-error"),e.open({where:document.body,url:AO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bO,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=wr(i,"network-request-failed"),d=Rr().setTimeout(()=>{u(f)},_O.get());function m(){Rr().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CO=500,IO=600,OO="_blank",DO="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(i,e,n,a=CO,o=IO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},RO),{width:a.toString(),height:o.toString(),top:u,left:f}),g=on().toLowerCase();n&&(d=yT(g)?OO:n),mT(g)&&(e=e||DO,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[N,M])=>`${S}${N}=${M},`,"");if(eI(g)&&d!=="_self")return xO(e||"",d),new bE(null);const T=window.open(e||"",d,v);we(T,i,"popup-blocked");try{T.focus()}catch{}return new bE(T)}function xO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__/auth/handler",MO="emulator/auth/handler",kO=encodeURIComponent("fac");async function SE(i,e,n,a,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:vo,eventId:o};if(e instanceof CT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",bC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof fu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),g=m?`#${kO}=${encodeURIComponent(m)}`:"";return`${LO(i)}?${cu(d).slice(1)}${g}`}function LO({config:i}){return i.emulator?bm(i,MO):`https://${i.authDomain}/${PO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class VO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=oO,this._overrideRedirectResult=iO}async _openPopup(e,n,a,o){var u;li((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await SE(e,n,a,Bp(),o);return NO(e,f,Cm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await SE(e,n,a,Bp(),o);return zI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(li(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await wO(e),a=new uO(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Op];f!==void 0&&n(!!f),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bT()||gT()||Am()}}const UO=VO;var AE="@firebase/auth",wE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BO(i){io(new Wa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:f,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(i)},g=new sI(a,o,u,m);return gI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),io(new Wa("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(a=>new jO(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(AE,wE,zO(i)),Xi(AE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=5*60,HO=eT("authIdTokenMaxAge")||qO;let RE=null;const FO=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>HO)return;const o=n==null?void 0:n.token;RE!==o&&(RE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GO(i=iT()){const e=_m(i,"auth");if(e.isInitialized())return e.getImmediate();const n=mI(i,{popupRedirectResolver:UO,persistence:[$I,VI,PT]}),a=eT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=FO(u.toString());PI(n,f,()=>f(n.currentUser)),xI(n,d=>f(d))}}const o=Z0("auth");return o&&yI(n,`http://${o}`),n}function KO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}oI({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=wr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",KO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BO("Browser");var QO="firebase",YO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(QO,YO,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,zT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,D){function O(){}O.prototype=D.prototype,k.D=D.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(x,I,C){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return D.prototype[I].apply(x,w)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,D,O){O||(O=0);var x=Array(16);if(typeof D=="string")for(var I=0;16>I;++I)x[I]=D.charCodeAt(O++)|D.charCodeAt(O++)<<8|D.charCodeAt(O++)<<16|D.charCodeAt(O++)<<24;else for(I=0;16>I;++I)x[I]=D[O++]|D[O++]<<8|D[O++]<<16|D[O++]<<24;D=k.g[0],O=k.g[1],I=k.g[2];var C=k.g[3],w=D+(C^O&(I^C))+x[0]+3614090360&4294967295;D=O+(w<<7&4294967295|w>>>25),w=C+(I^D&(O^I))+x[1]+3905402710&4294967295,C=D+(w<<12&4294967295|w>>>20),w=I+(O^C&(D^O))+x[2]+606105819&4294967295,I=C+(w<<17&4294967295|w>>>15),w=O+(D^I&(C^D))+x[3]+3250441966&4294967295,O=I+(w<<22&4294967295|w>>>10),w=D+(C^O&(I^C))+x[4]+4118548399&4294967295,D=O+(w<<7&4294967295|w>>>25),w=C+(I^D&(O^I))+x[5]+1200080426&4294967295,C=D+(w<<12&4294967295|w>>>20),w=I+(O^C&(D^O))+x[6]+2821735955&4294967295,I=C+(w<<17&4294967295|w>>>15),w=O+(D^I&(C^D))+x[7]+4249261313&4294967295,O=I+(w<<22&4294967295|w>>>10),w=D+(C^O&(I^C))+x[8]+1770035416&4294967295,D=O+(w<<7&4294967295|w>>>25),w=C+(I^D&(O^I))+x[9]+2336552879&4294967295,C=D+(w<<12&4294967295|w>>>20),w=I+(O^C&(D^O))+x[10]+4294925233&4294967295,I=C+(w<<17&4294967295|w>>>15),w=O+(D^I&(C^D))+x[11]+2304563134&4294967295,O=I+(w<<22&4294967295|w>>>10),w=D+(C^O&(I^C))+x[12]+1804603682&4294967295,D=O+(w<<7&4294967295|w>>>25),w=C+(I^D&(O^I))+x[13]+4254626195&4294967295,C=D+(w<<12&4294967295|w>>>20),w=I+(O^C&(D^O))+x[14]+2792965006&4294967295,I=C+(w<<17&4294967295|w>>>15),w=O+(D^I&(C^D))+x[15]+1236535329&4294967295,O=I+(w<<22&4294967295|w>>>10),w=D+(I^C&(O^I))+x[1]+4129170786&4294967295,D=O+(w<<5&4294967295|w>>>27),w=C+(O^I&(D^O))+x[6]+3225465664&4294967295,C=D+(w<<9&4294967295|w>>>23),w=I+(D^O&(C^D))+x[11]+643717713&4294967295,I=C+(w<<14&4294967295|w>>>18),w=O+(C^D&(I^C))+x[0]+3921069994&4294967295,O=I+(w<<20&4294967295|w>>>12),w=D+(I^C&(O^I))+x[5]+3593408605&4294967295,D=O+(w<<5&4294967295|w>>>27),w=C+(O^I&(D^O))+x[10]+38016083&4294967295,C=D+(w<<9&4294967295|w>>>23),w=I+(D^O&(C^D))+x[15]+3634488961&4294967295,I=C+(w<<14&4294967295|w>>>18),w=O+(C^D&(I^C))+x[4]+3889429448&4294967295,O=I+(w<<20&4294967295|w>>>12),w=D+(I^C&(O^I))+x[9]+568446438&4294967295,D=O+(w<<5&4294967295|w>>>27),w=C+(O^I&(D^O))+x[14]+3275163606&4294967295,C=D+(w<<9&4294967295|w>>>23),w=I+(D^O&(C^D))+x[3]+4107603335&4294967295,I=C+(w<<14&4294967295|w>>>18),w=O+(C^D&(I^C))+x[8]+1163531501&4294967295,O=I+(w<<20&4294967295|w>>>12),w=D+(I^C&(O^I))+x[13]+2850285829&4294967295,D=O+(w<<5&4294967295|w>>>27),w=C+(O^I&(D^O))+x[2]+4243563512&4294967295,C=D+(w<<9&4294967295|w>>>23),w=I+(D^O&(C^D))+x[7]+1735328473&4294967295,I=C+(w<<14&4294967295|w>>>18),w=O+(C^D&(I^C))+x[12]+2368359562&4294967295,O=I+(w<<20&4294967295|w>>>12),w=D+(O^I^C)+x[5]+4294588738&4294967295,D=O+(w<<4&4294967295|w>>>28),w=C+(D^O^I)+x[8]+2272392833&4294967295,C=D+(w<<11&4294967295|w>>>21),w=I+(C^D^O)+x[11]+1839030562&4294967295,I=C+(w<<16&4294967295|w>>>16),w=O+(I^C^D)+x[14]+4259657740&4294967295,O=I+(w<<23&4294967295|w>>>9),w=D+(O^I^C)+x[1]+2763975236&4294967295,D=O+(w<<4&4294967295|w>>>28),w=C+(D^O^I)+x[4]+1272893353&4294967295,C=D+(w<<11&4294967295|w>>>21),w=I+(C^D^O)+x[7]+4139469664&4294967295,I=C+(w<<16&4294967295|w>>>16),w=O+(I^C^D)+x[10]+3200236656&4294967295,O=I+(w<<23&4294967295|w>>>9),w=D+(O^I^C)+x[13]+681279174&4294967295,D=O+(w<<4&4294967295|w>>>28),w=C+(D^O^I)+x[0]+3936430074&4294967295,C=D+(w<<11&4294967295|w>>>21),w=I+(C^D^O)+x[3]+3572445317&4294967295,I=C+(w<<16&4294967295|w>>>16),w=O+(I^C^D)+x[6]+76029189&4294967295,O=I+(w<<23&4294967295|w>>>9),w=D+(O^I^C)+x[9]+3654602809&4294967295,D=O+(w<<4&4294967295|w>>>28),w=C+(D^O^I)+x[12]+3873151461&4294967295,C=D+(w<<11&4294967295|w>>>21),w=I+(C^D^O)+x[15]+530742520&4294967295,I=C+(w<<16&4294967295|w>>>16),w=O+(I^C^D)+x[2]+3299628645&4294967295,O=I+(w<<23&4294967295|w>>>9),w=D+(I^(O|~C))+x[0]+4096336452&4294967295,D=O+(w<<6&4294967295|w>>>26),w=C+(O^(D|~I))+x[7]+1126891415&4294967295,C=D+(w<<10&4294967295|w>>>22),w=I+(D^(C|~O))+x[14]+2878612391&4294967295,I=C+(w<<15&4294967295|w>>>17),w=O+(C^(I|~D))+x[5]+4237533241&4294967295,O=I+(w<<21&4294967295|w>>>11),w=D+(I^(O|~C))+x[12]+1700485571&4294967295,D=O+(w<<6&4294967295|w>>>26),w=C+(O^(D|~I))+x[3]+2399980690&4294967295,C=D+(w<<10&4294967295|w>>>22),w=I+(D^(C|~O))+x[10]+4293915773&4294967295,I=C+(w<<15&4294967295|w>>>17),w=O+(C^(I|~D))+x[1]+2240044497&4294967295,O=I+(w<<21&4294967295|w>>>11),w=D+(I^(O|~C))+x[8]+1873313359&4294967295,D=O+(w<<6&4294967295|w>>>26),w=C+(O^(D|~I))+x[15]+4264355552&4294967295,C=D+(w<<10&4294967295|w>>>22),w=I+(D^(C|~O))+x[6]+2734768916&4294967295,I=C+(w<<15&4294967295|w>>>17),w=O+(C^(I|~D))+x[13]+1309151649&4294967295,O=I+(w<<21&4294967295|w>>>11),w=D+(I^(O|~C))+x[4]+4149444226&4294967295,D=O+(w<<6&4294967295|w>>>26),w=C+(O^(D|~I))+x[11]+3174756917&4294967295,C=D+(w<<10&4294967295|w>>>22),w=I+(D^(C|~O))+x[2]+718787259&4294967295,I=C+(w<<15&4294967295|w>>>17),w=O+(C^(I|~D))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,k.g[2]=k.g[2]+I&4294967295,k.g[3]=k.g[3]+C&4294967295}a.prototype.u=function(k,D){D===void 0&&(D=k.length);for(var O=D-this.blockSize,x=this.B,I=this.h,C=0;C<D;){if(I==0)for(;C<=O;)o(this,k,C),C+=this.blockSize;if(typeof k=="string"){for(;C<D;)if(x[I++]=k.charCodeAt(C++),I==this.blockSize){o(this,x),I=0;break}}else for(;C<D;)if(x[I++]=k[C++],I==this.blockSize){o(this,x),I=0;break}}this.h=I,this.o+=D},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;var O=8*this.o;for(D=k.length-8;D<k.length;++D)k[D]=O&255,O/=256;for(this.u(k),k=Array(16),D=O=0;4>D;++D)for(var x=0;32>x;x+=8)k[O++]=this.g[D]>>>x&255;return k};function u(k,D){var O=d;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=D(k)}function f(k,D){this.h=D;for(var O=[],x=!0,I=k.length-1;0<=I;I--){var C=k[I]|0;x&&C==D||(O[I]=C,x=!1)}this.g=O}var d={};function m(k){return-128<=k&&128>k?u(k,function(D){return new f([D|0],0>D?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return j(g(-k));for(var D=[],O=1,x=0;k>=O;x++)D[x]=k/O|0,O*=4294967296;return new f(D,0)}function v(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return j(v(k.substring(1),D));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(D,8)),x=T,I=0;I<k.length;I+=8){var C=Math.min(8,k.length-I),w=parseInt(k.substring(I,I+C),D);8>C?(C=g(Math.pow(D,C)),x=x.j(C).add(g(w))):(x=x.j(O),x=x.add(g(w)))}return x}var T=m(0),S=m(1),N=m(16777216);i=f.prototype,i.m=function(){if(G(this))return-j(this).m();for(var k=0,D=1,O=0;O<this.g.length;O++){var x=this.i(O);k+=(0<=x?x:4294967296+x)*D,D*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(G(this))return"-"+j(this).toString(k);for(var D=g(Math.pow(k,6)),O=this,x="";;){var I=pe(O,D).g;O=X(O,I.j(D));var C=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=I,M(O))return C+x;for(;6>C.length;)C="0"+C;x=C+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function G(k){return k.h==-1}i.l=function(k){return k=X(this,k),G(k)?-1:M(k)?0:1};function j(k){for(var D=k.g.length,O=[],x=0;x<D;x++)O[x]=~k.g[x];return new f(O,~k.h).add(S)}i.abs=function(){return G(this)?j(this):this},i.add=function(k){for(var D=Math.max(this.g.length,k.g.length),O=[],x=0,I=0;I<=D;I++){var C=x+(this.i(I)&65535)+(k.i(I)&65535),w=(C>>>16)+(this.i(I)>>>16)+(k.i(I)>>>16);x=w>>>16,C&=65535,w&=65535,O[I]=w<<16|C}return new f(O,O[O.length-1]&-2147483648?-1:0)};function X(k,D){return k.add(j(D))}i.j=function(k){if(M(this)||M(k))return T;if(G(this))return G(k)?j(this).j(j(k)):j(j(this).j(k));if(G(k))return j(this.j(j(k)));if(0>this.l(N)&&0>k.l(N))return g(this.m()*k.m());for(var D=this.g.length+k.g.length,O=[],x=0;x<2*D;x++)O[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<k.g.length;I++){var C=this.i(x)>>>16,w=this.i(x)&65535,te=k.i(I)>>>16,ee=k.i(I)&65535;O[2*x+2*I]+=w*ee,ue(O,2*x+2*I),O[2*x+2*I+1]+=C*ee,ue(O,2*x+2*I+1),O[2*x+2*I+1]+=w*te,ue(O,2*x+2*I+1),O[2*x+2*I+2]+=C*te,ue(O,2*x+2*I+2)}for(x=0;x<D;x++)O[x]=O[2*x+1]<<16|O[2*x];for(x=D;x<2*D;x++)O[x]=0;return new f(O,0)};function ue(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function ie(k,D){this.g=k,this.h=D}function pe(k,D){if(M(D))throw Error("division by zero");if(M(k))return new ie(T,T);if(G(k))return D=pe(j(k),D),new ie(j(D.g),j(D.h));if(G(D))return D=pe(k,j(D)),new ie(j(D.g),D.h);if(30<k.g.length){if(G(k)||G(D))throw Error("slowDivide_ only works with positive integers.");for(var O=S,x=D;0>=x.l(k);)O=de(O),x=de(x);var I=ve(O,1),C=ve(x,1);for(x=ve(x,2),O=ve(O,2);!M(x);){var w=C.add(x);0>=w.l(k)&&(I=I.add(O),C=w),x=ve(x,1),O=ve(O,1)}return D=X(k,I.j(D)),new ie(I,D)}for(I=T;0<=k.l(D);){for(O=Math.max(1,Math.floor(k.m()/D.m())),x=Math.ceil(Math.log(O)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),C=g(O),w=C.j(D);G(w)||0<w.l(k);)O-=x,C=g(O),w=C.j(D);M(C)&&(C=S),I=I.add(C),k=X(k,w)}return new ie(I,k)}i.A=function(k){return pe(this,k).h},i.and=function(k){for(var D=Math.max(this.g.length,k.g.length),O=[],x=0;x<D;x++)O[x]=this.i(x)&k.i(x);return new f(O,this.h&k.h)},i.or=function(k){for(var D=Math.max(this.g.length,k.g.length),O=[],x=0;x<D;x++)O[x]=this.i(x)|k.i(x);return new f(O,this.h|k.h)},i.xor=function(k){for(var D=Math.max(this.g.length,k.g.length),O=[],x=0;x<D;x++)O[x]=this.i(x)^k.i(x);return new f(O,this.h^k.h)};function de(k){for(var D=k.g.length+1,O=[],x=0;x<D;x++)O[x]=k.i(x)<<1|k.i(x-1)>>>31;return new f(O,k.h)}function ve(k,D){var O=D>>5;D%=32;for(var x=k.g.length-O,I=[],C=0;C<x;C++)I[C]=0<D?k.i(C+O)>>>D|k.i(C+O+1)<<32-D:k.i(C+O);return new f(I,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,zT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Zi=f}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BT,zl,qT,ih,Fp,HT,FT,GT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var B=c[R];if(!(B in _))break e;_=_[B]}c=c[c.length-1],R=_[c],y=y(R),y!=R&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,R=!1,B={next:function(){if(!R&&_<c.length){var J=_++;return{value:y(J,c[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,R),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,B,J){for(var fe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)fe[Ue-2]=arguments[Ue];return y.prototype[B].apply(R,fe)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=c[R];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(m(R)){const B=c.length||0,J=R.length||0;c.length=B+J;for(let fe=0;fe<J;fe++)c[B+fe]=R[fe]}else c.push(R)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ue(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var de=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ve(c,y,_){for(const R in c)y.call(_,c[R],R,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function D(c){const y={};for(const _ in c)y[_]=c[_];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,R;for(let B=1;B<arguments.length;B++){R=arguments[B];for(_ in R)c[_]=R[_];for(let J=0;J<O.length;J++)_=O[J],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function I(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function C(c){d.setTimeout(()=>{throw c},0)}function w(){var c=se;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,_){const R=ee.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var ee=new X(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let L,ne=!1,se=new te,A=()=>{const c=d.Promise.resolve(void 0);L=()=>{c.then(K)}};var K=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(_){C(_)}var y=ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function _e(c,y){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{pe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}M(_e,W);var ge={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Yt(c,y,_,R,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=B,this.key=++qe,this.da=this.fa=!1}function $t(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,y,_,R,B){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var fe=Wt(c,y,R,B);return-1<fe?(y=c[fe],_||(y.fa=!1)):(y=new Yt(y,this.src,J,!!R,B),y.fa=_,c.push(y)),y};function Xt(c,y){var _=y.type;if(_ in c.g){var R=c.g[_],B=Array.prototype.indexOf.call(R,y,void 0),J;(J=0<=B)&&Array.prototype.splice.call(R,B,1),J&&($t(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wt(c,y,_,R){for(var B=0;B<c.length;++B){var J=c[B];if(!J.da&&J.listener==y&&J.capture==!!_&&J.ha==R)return B}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),tt={};function jt(c,y,_,R,B){if(Array.isArray(y)){for(var J=0;J<y.length;J++)jt(c,y[J],_,R,B);return null}return _=vu(_),c&&c[Fe]?c.K(y,_,g(R)?!!R.capture:!1,B):rt(c,y,_,!1,R,B)}function rt(c,y,_,R,B,J){if(!y)throw Error("Invalid event type");var fe=g(B)?!!B.capture:!!B,Ue=Hn(c);if(Ue||(c[Zt]=Ue=new ft(c)),_=Ue.add(y,_,R,fe,J),_.proxy)return _;if(R=ut(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)he||(B=fe),B===void 0&&(B=!1),c.addEventListener(y.toString(),R,B);else if(c.attachEvent)c.attachEvent(Jt(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ut(){function c(_){return y.call(c.src,c.listener,_)}const y=On;return c}function ar(c,y,_,R,B){if(Array.isArray(y))for(var J=0;J<y.length;J++)ar(c,y[J],_,R,B);else R=g(R)?!!R.capture:!!R,_=vu(_),c&&c[Fe]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],_=Wt(J,_,R,B),-1<_&&($t(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=Hn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wt(y,_,R,B)),(_=-1<c?y[c]:null)&&sr(_))}function sr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Fe])Xt(y.i,c);else{var _=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(_,R,c.capture):y.detachEvent?y.detachEvent(Jt(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=Hn(y))?(Xt(_,c),_.h==0&&(_.src=null,y[Zt]=null)):$t(c)}}}function Jt(c){return c in tt?tt[c]:tt[c]="on"+c}function On(c,y){if(c.da)c=!0;else{y=new _e(y,this);var _=c.listener,R=c.ha||c.src;c.fa&&sr(c),c=_.call(R,y)}return c}function Hn(c){return c=c[Zt],c instanceof ft?c:null}var ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[ha]||(c[ha]=function(y){return c.handleEvent(y)}),c[ha])}function dt(){Z.call(this),this.i=new ft(this),this.M=this,this.F=null}M(dt,Z),dt.prototype[Fe]=!0,dt.prototype.removeEventListener=function(c,y,_,R){ar(this,c,y,_,R)};function Ye(c,y){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new W(y,c);else if(y instanceof W)y.target=y.target||c;else{var B=y;y=new W(R,c),x(y,B)}if(B=!0,_)for(var J=_.length-1;0<=J;J--){var fe=y.g=_[J];B=vn(fe,R,!0,y)&&B}if(fe=y.g=c,B=vn(fe,R,!0,y)&&B,B=vn(fe,R,!1,y)&&B,_)for(J=0;J<_.length;J++)fe=y.g=_[J],B=vn(fe,R,!1,y)&&B}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],R=0;R<_.length;R++)$t(_[R]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,_,R){return this.i.add(String(c),y,!1,_,R)},dt.prototype.L=function(c,y,_,R){return this.i.add(String(c),y,!0,_,R)};function vn(c,y,_,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,J=0;J<y.length;++J){var fe=y[J];if(fe&&!fe.da&&fe.capture==_){var Ue=fe.listener,Rt=fe.ha||fe.src;fe.fa&&Xt(c.i,fe),B=Ue.call(Rt,R)!==!1&&B}}return B&&!R.defaultPrevented}function en(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function _u(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends Z{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(c){Z.call(this),this.h=c,this.g={}}M(fa,Z);var da=[];function pa(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&sr(y)},c),c.g={}}fa.prototype.N=function(){fa.aa.N.call(this),pa(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,is=d.JSON.parse,ma=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function Oo(c){return c.h||(c.h=c.i())}function Do(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){W.call(this,"d")}M(xr,W);function No(){W.call(this,"c")}M(No,W);var or={},xo=null;function di(){return xo=xo||new dt}or.La="serverreachability";function as(c){W.call(this,or.La,c)}M(as,W);function pi(c){const y=di();Ye(y,new as(y))}or.STAT_EVENT="statevent";function Eu(c,y){W.call(this,or.STAT_EVENT,c),this.stat=y}M(Eu,W);function at(c){const y=di();Ye(y,new Eu(y,c))}or.Ma="timingevent";function wt(c,y){W.call(this,or.Ma,c),this.size=y}M(wt,W);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Po(c,y,_,R,B,J){c.info(function(){if(c.g)if(J)for(var fe="",Ue=J.split("&"),Rt=0;Rt<Ue.length;Rt++){var je=Ue[Rt].split("=");if(1<je.length){var Mt=je[0];je=je[1];var Ct=Mt.split("_");fe=2<=Ct.length&&Ct[1]=="type"?fe+(Mt+"="+je+"&"):fe+(Mt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+R+") [attempt "+B+"]: "+y+`
`+_+`
`+fe})}function df(c,y,_,R,B,J,fe){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+B+"]: "+y+`
`+_+`
`+J+" "+fe})}function mi(c,y,_,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ga(c,_)+(R?" "+R:"")})}function Tu(c,y){c.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function ga(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var B=R[1];if(Array.isArray(B)&&!(1>B.length)){var J=B[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<B.length;fe++)B[fe]=""}}}}return Fn(_)}catch{return y}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function ur(){}M(ur,Io),ur.prototype.g=function(){return new XMLHttpRequest},ur.prototype.i=function(){return{}},lr=new ur;function un(c,y,_,R){this.j=c,this.i=y,this.l=_,this.R=R||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Mo={},ss={};function Gn(c,y,_){c.L=1,c.v=Ta(_n(y)),c.m=_,c.P=!0,Mr(c,null)}function Mr(c,y){c.F=Date.now(),ya(c),c.A=_n(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),zo(_.i,"t",R),c.C=0,_=c.j.J,c.h=new gt,c.g=Vu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,R=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(da[0]=B.toString()),B=da);for(var J=0;J<B.length;J++){var fe=jt(_,B[J],R||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?D(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Mn(this.g);var y=this.g.Ba();const qr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=qr?pi(3):pi(2)),yi(this);var _=this.g.Z();this.X=_;t:if(bu(this)){var R=Ou(this.g);c="";var B=R.length,J=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),cr(this);var fe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(J&&y==B-1)});R.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,df(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Rt=this.g;if((Ue=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Ue)){var je=Ue;break t}}je=null}if(_=je)mi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,_);else{this.o=!1,this.s=3,at(12),zt(this),cr(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<fe.length;)if(Bt=Su(this,fe),Bt==ss){Ct==4&&(this.s=4,at(14),_=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Mo){this.s=4,at(15),mi(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else mi(this.i,this.l,Bt,null),va(this,Bt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||fe.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)mi(this.i,this.l,fe,"[Invalid Chunked Response]"),zt(this),cr(this);else if(0<fe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Oa(Mt),Mt.M=!0,at(11))}}else mi(this.i,this.l,fe,null),va(this,fe);Ct==4&&zt(this),this.o&&!this.J&&(Ct==4?Mu(this.j,this):(this.o=!1,ya(this)))}else vf(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),zt(this),cr(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,y){var _=c.C,R=y.indexOf(`
`,_);return R==-1?ss:(_=Number(y.substring(_,R)),isNaN(_)?Mo:(R+=1,R+_>y.length?ss:(y=y.slice(R,R+_),c.C=R+_,y)))}un.prototype.cancel=function(){this.J=!0,zt(this)};function ya(c){c.S=Date.now()+c.I,Au(c,c.I)}function Au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function yi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tu(this.i,this.A),this.L!=2&&(pi(),at(17)),zt(this),this.s=2,cr(this)):Au(this,this.S-c)};function cr(c){c.j.G==0||c.J||Mu(c.j,c)}function zt(c){yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,pa(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function va(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var B=R;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)vs(_),gs(_);else break e;Go(_),at(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(S(_.Za,_),6e3));if(1>=ls(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Br(_,11)}else if((c.K||_.g==c)&&vs(_),!ue(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let je=B[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Mt=je[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Ct=je[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const qr=je[5];qr!=null&&typeof qr=="number"&&0<qr&&(R=1.5*qr,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const Bt=c.g;if(Bt){const yr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var J=R.h;J.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(us(J,J.h),J.h=null))}if(R.D){const Qo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(R.ya=Qo,We(R.I,R.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var fe=c;if(R.qa=Lu(R,R.J?R.ia:null,R.W),fe.K){cn(R.h,fe);var Ue=fe,Rt=R.L;Rt&&(Ue.I=Rt),Ue.B&&(yi(Ue),ya(Ue)),R.g=fe}else xu(R);0<_.i.length&&ys(_)}else je[0]!="stop"&&je[0]!="close"||Br(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Br(_,7):Ho(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}pi(4)}catch{}}var wu=class{constructor(c,y){this.g=c,this.map=y}};function kr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function os(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ls(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function us(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}kr.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function pf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,R=0;R<_;R++)y.push(c[R]);return y}y=[],_=0;for(R in c)y[_++]=c[R];return y}function cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const R in c)y[_++]=R;return y}}}function Vo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=cs(c),R=pf(c),B=R.length,J=0;J<B;J++)y.call(void 0,R[J],_&&_[J],c)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),B=null;if(0<=R){var J=c[_].substring(0,R);B=c[_].substring(R+1)}else J=c[_];y(J,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,Ea(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,_=new Vr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Lr(this,_),this.m=c.m}else c&&(y=String(c).match(_a))?(this.h=!1,Ea(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),vi(this,y[4]),this.l=Nn(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ba(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ba(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ba(_,_.charAt(0)=="/"?gf:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ba(_,hs)),c.join("")};function _n(c){return new Tt(c)}function Ea(c,y,_){c.j=_?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Lr(c,y,_){y instanceof Vr?(c.i=y,Cu(c.i,c.h)):(_||(y=ba(y,yf)),c.i=new Vr(y,c.h))}function We(c,y,_){c.i.set(y,_)}function Ta(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ba(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,hs=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&mf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Vr.prototype,i.add=function(c,y){xn(this),this.i=null,c=hr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ur(c,y){xn(c),y=hr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jr(c,y){return xn(c),y=hr(c,y),c.g.has(y)}i.forEach=function(c,y){xn(this),this.g.forEach(function(_,R){_.forEach(function(B){c.call(y,B,R,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const B=c[R];for(let J=0;J<B.length;J++)_.push(y[R])}return _},i.V=function(c){xn(this);let y=[];if(typeof c=="string")jr(this,c)&&(y=y.concat(this.g.get(hr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return xn(this),this.i=null,c=hr(this,c),jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,_){Ur(c,y),0<_.length&&(c.i=null,c.g.set(hr(c,y),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const J=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var B=J;fe[R]!==""&&(B+="="+encodeURIComponent(String(fe[R]))),c.push(B)}}return this.i=c.join("&")};function hr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Cu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,R){var B=R.toLowerCase();R!=B&&(Ur(this,R),zo(this,B,_))},c)),c.j=y}function Sa(c,y){const _=new Dn;if(d.Image){const R=new Image;R.onload=N(Pn,_,"TestLoadImage: loaded",!0,y,R),R.onerror=N(Pn,_,"TestLoadImage: error",!1,y,R),R.onabort=N(Pn,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=N(Pn,_,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Kn(c,y){const _=new Dn,R=new AbortController,B=setTimeout(()=>{R.abort(),Pn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(J=>{clearTimeout(B),J.ok?Pn(_,"TestPingServer: ok",!0,y):Pn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Pn(_,"TestPingServer: error",!1,y)})}function Pn(c,y,_,R,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),R(_)}catch{}}function Aa(){this.g=new ma}function fr(c,y,_){const R=_||"";try{Vo(c,function(B,J){let fe=B;g(B)&&(fe=Fn(B)),y.push(R+J+"="+encodeURIComponent(fe))})}catch(B){throw y.push(R+"type="+encodeURIComponent("_badmap")),B}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}M(_i,Io),_i.prototype.g=function(){return new zr(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function zr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(zr,dt),i=zr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?dr(this):pr(this),this.readyState==3&&Bo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,dr(this))},i.Qa=function(c){this.g&&(this.response=c,dr(this))},i.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return ve(c,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ke(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ke,dt);var fs=/^https?$/i,wa=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?Oo(this.o):Oo(lr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){Iu(this,J);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var B in R)_.set(B,R[B]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())_.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wa,y,void 0))||R||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of _)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Iu(this,J)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ds(c),mr(c)}function ds(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),mr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ps(this):this.bb())},i.bb=function(){ps(this)};function ps(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)en(c.Ea,0,c);else if(Ye(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=fe===0){var B=String(c.D).match(_a)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),R=!fs.test(B?B.toLowerCase():"")}_=R}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var J=2<Mn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",ds(c)}}finally{mr(c)}}}}function mr(c,y){if(c.g){Ra(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=R}catch{}}}function Ra(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),is(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ue(c[R]))continue;var _=I(c[R]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=y[B]||[];y[B]=J,J.push(_)}k(y,function(R){return R.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ms(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,c),this.cb=Ca("retryDelaySeedMs",1e4,c),this.Wa=Ca("forwardChannelMaxRetries",2,c),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ms.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,R){at(0),this.W=c,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Lu(this,null,this.W),ys(this)};function Ho(c){if(Du(c),c.G==3){var y=c.U++,_=_n(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),Ia(c,_),y=new un(c,c.j,y),y.L=2,y.v=Ta(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ya(y)}ku(c)}function gs(c){c.g&&(Oa(c),c.g.cancel(),c.g=null)}function Du(c){gs(c),c.u&&(d.clearTimeout(c.u),c.u=null),vs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ys(c){if(!os(c.h)&&!c.s){c.s=!0;var y=c.Ga;L||A(),ne||(L(),ne=!0),se.add(y,c),c.B=0}}function _f(c,y){return ls(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new un(this,this.j,c);let J=this.o;if(this.S&&(J?(J=D(J),x(J,this.S)):J=this.S),this.m!==null||this.O||(B.H=J,J=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nu(this,B,y),_=_n(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Ia(this,_),J&&(this.O?y="headers="+encodeURIComponent(String(qo(J)))+"&"+y:this.m&&Pt(_,this.m,J)),us(this.h,B),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),B.T=!0,Gn(B,_,null)):Gn(B,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||os(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const R=_n(c.I);We(R,"SID",c.K),We(R,"RID",_),We(R,"AID",c.T),Ia(c,R),c.m&&c.o&&Pt(R,c.m,c.o),_=new un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),us(c.h,_),Gn(_,R,y)}function Ia(c,y){c.H&&ve(c.H,function(_,R){We(y,R,_)}),c.l&&Vo({},function(_,R){We(y,R,_)})}function Nu(c,y,_){_=Math.min(c.i.length,_);var R=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let J=-1;for(;;){const fe=["count="+_];J==-1?0<_?(J=B[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let Ue=!0;for(let Rt=0;Rt<_;Rt++){let je=B[Rt].g;const Mt=B[Rt].map;if(je-=J,0>je)J=Math.max(0,B[Rt].g-100),Ue=!1;else try{fr(Mt,fe,"req"+je+"_")}catch{R&&R(Mt)}}if(Ue){R=fe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,R}function xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;L||A(),ne||(L(),ne=!0),se.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),Ko(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),gs(this),Pu(this))};function Oa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ia(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ta(_n(y)),_.m=null,_.P=!0,Mr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,gs(this),Go(this),at(19))};function vs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Mu(c,y){var _=null;if(c.g==y){vs(c),Oa(c),c.g=null;var R=2}else if(ko(c.h,y))_=y.D,cn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;R=di(),Ye(R,new wt(R,_)),ys(c)}else xu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(R==1&&_f(c,y)||R==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Br(c,5);break;case 4:Br(c,10);break;case 3:Br(c,6);break;default:Br(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Br(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),R=c.Xa;const B=!R;R=new Tt(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ea(R,"https"),Ta(R),B?Sa(R.toString(),_):Kn(R.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),ku(c),Du(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Lu(c,y,_){var R=_ instanceof Tt?_n(_):new Tt(_);if(R.g!="")y&&(R.g=y+"."+R.g),vi(R,R.s);else{var B=d.location;R=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var J=new Tt(null);R&&Ea(J,R),y&&(J.g=y),B&&vi(J,B),_&&(J.l=_),R=J}return _=c.D,y=c.ya,_&&y&&We(R,_,y),We(R,"VER",c.la),Ia(c,R),R}function Vu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new _i({eb:_})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}i=Uu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function _s(){}_s.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){dt.call(this),this.g=new ms(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ue(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ue(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}M(hn,dt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ho(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new wu(y.Ya++,c)),y.G==3&&ys(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,hn.aa.N.call(this)};function ju(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(ju,xr);function zu(){No.call(this),this.status=1}M(zu,No);function gr(c){this.g=c}M(gr,Uu),gr.prototype.ua=function(){Ye(this.g,"a")},gr.prototype.ta=function(c){Ye(this.g,new ju(c))},gr.prototype.sa=function(c){Ye(this.g,new zu)},gr.prototype.ra=function(){Ye(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,GT=function(){return new _s},FT=function(){return di()},HT=or,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,ih=gi,Pr.COMPLETE="complete",qT=Pr,Do.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,zl=Do,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,BT=Ke}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",OE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new ym("@firebase/firestore");function $s(){return Ja.logLevel}function me(i,...e){if(Ja.logLevel<=Le.DEBUG){const n=e.map(Om);Ja.debug(`Firestore (${To}): ${i}`,...n)}}function ui(i,...e){if(Ja.logLevel<=Le.ERROR){const n=e.map(Om);Ja.error(`Firestore (${To}): ${i}`,...n)}}function so(i,...e){if(Ja.logLevel<=Le.WARN){const n=e.map(Om);Ja.warn(`Firestore (${To}): ${i}`,...n)}}function Om(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+i;throw ui(e),new Error(e)}function Qe(i,e){i||Ce()}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class XO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string"),new KT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new an(e)}}class ZO{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JO{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new ZO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new DE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new DE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=t2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function xe(i,e){return i<e?-1:i>e?1:0}function Gp(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return xe(a,o);{const u=QT(),f=n2(u.encode(NE(i,n)),u.encode(NE(e,n)));return f!==0?f:xe(a,o)}}n+=a>65535?2:1}return xe(i.length,e.length)}function NE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function n2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return xe(i[n],e[n]);return xe(i.length,e.length)}function oo(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=-62135596800,PE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*PE);return new Nt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xE)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Nt(0,0))}static max(){return new Ie(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class Ar{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(),a===void 0?a=e.length-n:a>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Ar.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const a=Ar.isNumericId(e),o=Ar.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class ot extends Ar{construct(e,n,a){return new ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ar{construct(e,n,a){return new Kt(e,n,a)}static isValidIdentifier(e){return r2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new Kt([ME])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(a+=d,o++):(u(),o++)}if(u(),f)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function i2(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(a===1e9?new Nt(n+1,0):new Nt(n,a));return new ea(o,be.empty(),e)}function a2(i){return new ea(i.readTime,i.key,tu)}class ea{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ea(Ie.min(),be.empty(),tu)}static max(){return new ea(Ie.max(),be.empty(),tu)}}function s2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==o2)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,a)=>{n(e)})}static reject(e){return new le((n,a)=>{a(e)})}static waitFor(e){return new le((n,a)=>{let o=0,u=0,f=!1;e.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&n()},m=>a(m))}),f=!0,u===o&&n()})}static or(e){let n=le.resolve(!1);for(const a of e)n=n.next(o=>o?le.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new le((a,o)=>{const u=e.length,f=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{f[g]=v,++d,d===u&&a(f)},v=>o(v))}})}static doWhile(e,n){return new le((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function u2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Hh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function Fh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function c2(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="";function h2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kE(e)),e=f2(i.get(n),e);return kE(e)}function f2(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case $T:n+="";break;default:n+=u}}return n}function kE(i){return i+$T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ua(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function XT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Gt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,a,o,u){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new xt(Kt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WT("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(i){if(Qe(!!i),typeof i=="string"){let e=0;const n=d2.exec(i);if(Qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function na(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="server_timestamp",JT="__type__",eb="__previous_value__",tb="__local_write_time__";function Nm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[JT])===null||n===void 0?void 0:n.stringValue)===ZT}function Gh(i){const e=i.mapValue.fields[eb];return Nm(e)?Gh(e):e}function nu(i){const e=ta(i.mapValue.fields[tb].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,a,o,u,f,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const bh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="__type__",m2="__max__",$c={mapValue:{}},rb="__vector__",Sh="value";function ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nm(i)?4:y2(i)?9007199254740991:g2(i)?10:11:Ce()}function Or(i,e){if(i===e)return!0;const n=ra(i);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ta(o.timestampValue),d=ta(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),d=_t(u.doubleValue);return f===d?Th(f)===Th(d):isNaN(f)&&isNaN(d)}return!1}(i,e);case 9:return oo(i.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(LE(f)!==LE(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!Or(f[m],d[m])))return!1;return!0}(i,e);default:return Ce()}}function iu(i,e){return(i.values||[]).find(n=>Or(n,e))!==void 0}function lo(i,e){if(i===e)return 0;const n=ra(i),a=ra(e);if(n!==a)return xe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const d=_t(u.integerValue||u.doubleValue),m=_t(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return UE(i.timestampValue,e.timestampValue);case 4:return UE(nu(i),nu(e));case 5:return Gp(i.stringValue,e.stringValue);case 6:return function(u,f){const d=na(u),m=na(f);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const d=u.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=xe(d[g],m[g]);if(v!==0)return v}return xe(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const d=xe(_t(u.latitude),_t(f.latitude));return d!==0?d:xe(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return jE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var d,m,g,v;const T=u.fields||{},S=f.fields||{},N=(d=T[Sh])===null||d===void 0?void 0:d.arrayValue,M=(m=S[Sh])===null||m===void 0?void 0:m.arrayValue,G=xe(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:jE(N,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const S=Gp(m[T],v[T]);if(S!==0)return S;const N=lo(d[m[T]],g[v[T]]);if(N!==0)return N}return xe(m.length,v.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function UE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=ta(i),a=ta(e),o=xe(n.seconds,a.seconds);return o!==0?o:xe(n.nanos,a.nanos)}function jE(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=lo(n[o],a[o]);if(u)return u}return xe(n.length,a.length)}function uo(i){return Kp(i)}function Kp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=ta(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return na(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return be.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Kp(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Kp(n.fields[f])}`;return o+"}"}(i.mapValue):Ce()}function ah(i){switch(ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(i);return e?16+ah(e):16;case 5:return 2*i.stringValue.length;case 6:return na(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+ah(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return ua(a.fields,(u,f)=>{o+=u.length+ah(f)}),o}(i.mapValue);default:throw Ce()}}function Qp(i){return!!i&&"integerValue"in i}function xm(i){return!!i&&"arrayValue"in i}function zE(i){return!!i&&"nullValue"in i}function BE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sh(i){return!!i&&"mapValue"in i}function g2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[nb])===null||n===void 0?void 0:n.stringValue)===rb}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ua(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Ql(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return Object.assign({},i)}function y2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Kt.emptyPath(),a={},o=[];e.forEach((f,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=d.popLast()}f?a[d.lastSegment()]=Ql(f):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ua(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new yn(Ql(this.value))}}function ib(i){const e=[];return ua(i.fields,(n,a)=>{const o=new Kt([n]);if(sh(a)){const u=ib(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,a,o,u,f,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Ie.min(),Ie.min(),Ie.min(),yn.empty(),0)}static newFoundDocument(e,n,a,o){return new sn(e,1,n,Ie.min(),a,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ie.min(),Ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ie.min(),Ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function qE(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=be.comparator(be.fromName(f.referenceValue),n.key):a=lo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function HE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Or(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function v2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{}class Dt extends ab{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new E2(e,n,a):n==="array-contains"?new S2(e,a):n==="in"?new A2(e,a):n==="not-in"?new w2(e,a):n==="array-contains-any"?new R2(e,a):new Dt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new T2(e,a):new b2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends ab{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Dr(e,n)}matches(e){return sb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sb(i){return i.op==="and"}function ob(i){return _2(i)&&sb(i)}function _2(i){for(const e of i.filters)if(e instanceof Dr)return!1;return!0}function Yp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+uo(i.value);if(ob(i))return i.filters.map(e=>Yp(e)).join(",");{const e=i.filters.map(n=>Yp(n)).join(",");return`${i.op}(${e})`}}function lb(i,e){return i instanceof Dt?function(a,o){return o instanceof Dt&&a.op===o.op&&a.field.isEqual(o.field)&&Or(a.value,o.value)}(i,e):i instanceof Dr?function(a,o){return o instanceof Dr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,d)=>u&&lb(f,o.filters[d]),!0):!1}(i,e):void Ce()}function ub(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(i):i instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(ub).join(" ,")+"}"}(i):"Filter"}class E2 extends Dt{constructor(e,n,a){super(e,n,a),this.key=be.fromName(a.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class T2 extends Dt{constructor(e,n){super(e,"in",n),this.keys=cb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b2 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=cb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>be.fromName(a.referenceValue))}class S2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xm(n)&&iu(n.arrayValue,this.value)}}class A2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class w2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class R2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>iu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n=null,a=[],o=[],u=null,f=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.le=null}}function FE(i,e=null,n=[],a=[],o=null,u=null,f=null){return new C2(i,e,n,a,o,u,f)}function Pm(i){const e=Oe(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Yp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>uo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>uo(a)).join(",")),e.le=n}return e.le}function Mm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!v2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!lb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!HE(i.startAt,e.startAt)&&HE(i.endAt,e.endAt)}function $p(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,a=[],o=[],u=null,f="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function I2(i,e,n,a,o,u,f,d){return new Kh(i,e,n,a,o,u,f,d)}function km(i){return new Kh(i)}function GE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function O2(i){return i.collectionGroup!==null}function Yl(i){const e=Oe(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new xt(Kt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new wh(u,a))}),n.has(Kt.keyField().canonicalString())||e.he.push(new wh(Kt.keyField(),a))}return e.he}function Cr(i){const e=Oe(i);return e.Pe||(e.Pe=D2(e,Yl(i))),e.Pe}function D2(i,e){if(i.limitType==="F")return FE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)});const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return FE(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Xp(i,e,n){return new Kh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qh(i,e){return Mm(Cr(i),Cr(e))&&i.limitType===e.limitType}function hb(i){return`${Pm(Cr(i))}|lt:${i.limitType}`}function Xs(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>ub(o)).join(", ")}]`),Fh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${a})`}(Cr(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):be.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Yl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,d,m){const g=qE(f,d,m);return f.inclusive?g<=0:g<0}(a.startAt,Yl(a),o)||a.endAt&&!function(f,d,m){const g=qE(f,d,m);return f.inclusive?g>=0:g>0}(a.endAt,Yl(a),o))}(i,e)}function N2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fb(i){return(e,n)=>{let a=!1;for(const o of Yl(i)){const u=x2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function x2(i,e,n){const a=i.field.isKeyField()?be.comparator(e.key,n.key):function(u,f,d){const m=f.data.field(u),g=d.data.field(u);return m!==null&&g!==null?lo(m,g):Ce()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return XT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new ht(be.comparator);function ci(){return P2}const db=new ht(be.comparator);function Bl(...i){let e=db;for(const n of i)e=e.insert(n.key,n);return e}function pb(i){let e=db;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ya(){return $l()}function mb(){return $l()}function $l(){return new ns(i=>i.toString(),(i,e)=>i.isEqual(e))}const M2=new ht(be.comparator),k2=new xt(be.comparator);function Ve(...i){let e=k2;for(const n of i)e=e.add(n);return e}const L2=new xt(xe);function V2(){return L2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function gb(i){return{integerValue:""+i}}function U2(i,e){return c2(e)?gb(e):Lm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function j2(i,e,n){return i instanceof Rh?function(o,u){const f={fields:{[JT]:{stringValue:ZT},[tb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Nm(u)&&(u=Gh(u)),u&&(f.fields[eb]=u),{mapValue:f}}(n,e):i instanceof au?vb(i,e):i instanceof su?_b(i,e):function(o,u){const f=yb(o,u),d=KE(f)+KE(o.Ie);return Qp(f)&&Qp(o.Ie)?gb(d):Lm(o.serializer,d)}(i,e)}function z2(i,e,n){return i instanceof au?vb(i,e):i instanceof su?_b(i,e):n}function yb(i,e){return i instanceof Ch?function(a){return Qp(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Rh extends $h{}class au extends $h{constructor(e){super(),this.elements=e}}function vb(i,e){const n=Eb(e);for(const a of i.elements)n.some(o=>Or(o,a))||n.push(a);return{arrayValue:{values:n}}}class su extends $h{constructor(e){super(),this.elements=e}}function _b(i,e){let n=Eb(e);for(const a of i.elements)n=n.filter(o=>!Or(o,a));return{arrayValue:{values:n}}}class Ch extends $h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function KE(i){return _t(i.integerValue||i.doubleValue)}function Eb(i){return xm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function B2(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof au&&o instanceof au||a instanceof su&&o instanceof su?oo(a.elements,o.elements,Or):a instanceof Ch&&o instanceof Ch?Or(a.Ie,o.Ie):a instanceof Rh&&o instanceof Rh}(i.transform,e.transform)}class q2{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Xh{}function Tb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vm(i.key,er.none()):new pu(i.key,i.data,er.none());{const n=i.data,a=yn.empty();let o=new xt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ca(i.key,a,new Cn(o.toArray()),er.none())}}function H2(i,e,n){i instanceof pu?function(o,u,f){const d=o.value.clone(),m=YE(o.fieldTransforms,u,f.transformResults);d.setAll(m),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(i,e,n):i instanceof ca?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=YE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(bb(o)),m.setAll(d),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xl(i,e,n,a){return i instanceof pu?function(u,f,d,m){if(!oh(u.precondition,f))return d;const g=u.value.clone(),v=$E(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,a):i instanceof ca?function(u,f,d,m){if(!oh(u.precondition,f))return d;const g=$E(u.fieldTransforms,m,f),v=f.data;return v.setAll(bb(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,a):function(u,f,d){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(i,e,n)}function F2(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=yb(a.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(a.field,u))}return n||null}function QE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&oo(a,o,(u,f)=>B2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pu extends Xh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends Xh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function YE(i,e,n){const a=new Map;Qe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,d=e.data.field(u.field);a.set(u.field,z2(f,d,n[o]))}return a}function $E(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,j2(u,f,e))}return a}class Vm extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Xl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Xl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=mb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=n.has(o.key)?null:d;const m=Tb(f,d);m!==null&&a.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,a)=>QE(n,a))&&oo(this.baseMutations,e.baseMutations,(n,a)=>QE(n,a))}}class Um{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Qe(e.mutations.length===a.length);let o=function(){return M2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Um(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Be;function $2(i){switch(i){case ce.OK:return Ce();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ce()}}function Sb(i){if(i===void 0)return ui("GRPC error has no .code"),ce.UNKNOWN;switch(i){case At.OK:return ce.OK;case At.CANCELLED:return ce.CANCELLED;case At.UNKNOWN:return ce.UNKNOWN;case At.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case At.INTERNAL:return ce.INTERNAL;case At.UNAVAILABLE:return ce.UNAVAILABLE;case At.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case At.NOT_FOUND:return ce.NOT_FOUND;case At.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case At.ABORTED:return ce.ABORTED;case At.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case At.DATA_LOSS:return ce.DATA_LOSS;default:return Ce()}}(Be=At||(At={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Zi([4294967295,4294967295],0);function XE(i){const e=QT().encode(i),n=new zT;return n.update(e),new Uint8Array(n.digest())}function WE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zi([n,a],0),new Zi([o,u],0)]}class jm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(a<0)throw new ql(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Zi.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Zi.fromNumber(a)));return o.compare(X2)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=XE(e),[a,o]=WE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jm(u,o,n);return a.forEach(d=>f.insert(d)),f}insert(e){if(this.Ee===0)return;const n=XE(e),[a,o]=WE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Wh(Ie.min(),o,new ht(xe),ci(),Ve())}}class mu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new mu(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class Ab{constructor(e,n){this.targetId=e,this.ge=n}}class wb{constructor(e,n,a=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class ZE{constructor(){this.pe=0,this.ye=JE(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),a=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ce()}}),new mu(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=JE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class W2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=Xc(),this.Ue=Xc(),this.Ke=new ht(xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if($p(u))if(a===0){const f=new be(u.path);this.ze(n,f,sn.newNoDocument(f,Ie.min()))}else Qe(a===1);else{const f=this.et(n);if(f!==a){const d=this.tt(e),m=d?this.nt(d,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,d;try{f=na(a).toUint8Array()}catch(m){if(m instanceof WT)return so("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new jm(f,o,u)}catch(m){return so(m instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const d=this.Xe(f);if(d){if(u.current&&$p(d.target)){const m=new be(d.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,sn.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Ve();this.Ue.forEach((u,f)=>{let d=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Wh(e,n,this.Ke,this.Qe,a);return this.Qe=ci(),this.$e=Xc(),this.Ue=Xc(),this.Ke=new ht(xe),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new ZE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new xt(xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ZE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new ht(be.comparator)}function JE(){return new ht(be.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},J2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eD={and:"AND",or:"OR"};class tD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wp(i,e){return i.useProto3Json||Fh(e)?e:{value:e}}function Ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function nD(i,e){return Ih(i,e.toTimestamp())}function Ir(i){return Qe(!!i),Ie.fromTimestamp(function(n){const a=ta(n);return new Nt(a.seconds,a.nanos)}(i))}function zm(i,e){return Zp(i,e).canonicalString()}function Zp(i,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cb(i){const e=ot.fromString(i);return Qe(xb(e)),e}function Jp(i,e){return zm(i.databaseId,e.path)}function Dp(i,e){const n=Cb(e);if(n.get(1)!==i.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(Ob(n))}function Ib(i,e){return zm(i.databaseId,e)}function rD(i){const e=Cb(i);return e.length===4?ot.emptyPath():Ob(e)}function em(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ob(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function e0(i,e,n){return{name:Jp(i,e),fields:n.value.mapValue.fields}}function iD(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string"),Qt.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Qt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,d=f&&function(g){const v=g.code===void 0?ce.UNKNOWN:Sb(g.code);return new Te(v,g.message||"")}(f);n=new wb(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Dp(i,a.document.name),u=Ir(a.document.updateTime),f=a.document.createTime?Ir(a.document.createTime):Ie.min(),d=new yn({mapValue:{fields:a.document.fields}}),m=sn.newFoundDocument(o,u,f,d),g=a.targetIds||[],v=a.removedTargetIds||[];n=new lh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Dp(i,a.document),u=a.readTime?Ir(a.readTime):Ie.min(),f=sn.newNoDocument(o,u),d=a.removedTargetIds||[];n=new lh([],d,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Dp(i,a.document),u=a.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new Y2(o,u),d=a.targetId;n=new Ab(d,f)}}return n}function aD(i,e){let n;if(e instanceof pu)n={update:e0(i,e.key,e.value)};else if(e instanceof Vm)n={delete:Jp(i,e.key)};else if(e instanceof ca)n={update:e0(i,e.key,e.data),updateMask:pD(e.fieldMask)};else{if(!(e instanceof G2))return Ce();n={verify:Jp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const d=f.transform;if(d instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:d.Ie};throw Ce()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:nD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(i,e.precondition)),n}function sD(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ir(o.updateTime):Ir(u);return f.isEqual(Ie.min())&&(f=Ir(u)),new q2(f,o.transformResults||[])}(n,e))):[]}function oD(i,e){return{documents:[Ib(i,e.path)]}}function lD(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Ib(i,o);const u=function(g){if(g.length!==0)return Nb(Dr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Ws(S.field),direction:hD(S.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const d=Wp(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function uD(i){let e=rD(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Qe(a===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(T){const S=Db(T);return S instanceof Dr&&ob(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(S=>function(M){return new wh(Zs(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Fh(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(T){const S=!!T.before,N=T.values||[];return new Ah(N,S)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const S=!T.before,N=T.values||[];return new Ah(N,S)}(n.endAt)),I2(e,o,f,u,d,"F",m,g)}function cD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Db(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Zs(n.unaryFilter.field);return Dt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Zs(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zs(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Zs(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(Zs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(a=>Db(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function hD(i){return Z2[i]}function fD(i){return J2[i]}function dD(i){return eD[i]}function Ws(i){return{fieldPath:i.canonicalString()}}function Zs(i){return Kt.fromServerFormat(i.fieldPath)}function Nb(i){return i instanceof Dt?function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:fD(n.op),value:n.value}}}(i):i instanceof Dr?function(n){const a=n.getFilters().map(o=>Nb(o));return a.length===1?a[0]:{compositeFilter:{op:dD(n.op),filters:a}}}(i):Ce()}function pD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,a,o,u=Ie.min(),f=Ie.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.Tt=e}}function gD(i){const e=uD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Tn=new vD}addToCollectionParentIndex(e,n){return this.Tn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ea.min())}updateCollectionGroup(e,n,a){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class vD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new xt(ot.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new xt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Pb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new co(0)}static Kn(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",_D=1048576;function r0([i,e],[n,a]){const o=xe(i,n);return o===0?xe(e,a):o}class ED{constructor(e){this.Hn=e,this.buffer=new xt(r0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();r0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(n0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?me(n0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.er(3e5)})}}class bD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Hh.ae);const a=new ED(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(t0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(e,a,n))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(g=Date.now(),$s()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function SD(i,e){return new bD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?le.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Xl(a.mutation,o,Cn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const o=Ya();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Bl();return u.forEach((d,m)=>{f=f.insert(d,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Ya();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,d)=>{n.set(f,d)})})}computeViews(e,n,a,o){let u=ci();const f=$l(),d=function(){return $l()}();return n.forEach((m,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ca)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Xl(v.mutation,g,v.mutation.getFieldMask(),Nt.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>{var T;return d.set(g,new wD(v,(T=f.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,n){const a=$l();let o=new ht((f,d)=>f-d),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const d of f)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=a.get(m)||Cn.empty();v=d.applyToLocalView(g,v),a.set(m,v);const T=(o.get(d.batchId)||Ve()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=mb();v.forEach(S=>{if(!u.has(S)){const N=Tb(n.get(S),a.get(S));N!==null&&T.set(S,N),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):le.resolve(Ya());let d=tu,m=u;return f.next(g=>le.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Ve())).next(v=>({batchId:d,changes:pb(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(a=>{let o=Bl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next(d=>le.forEach(d,m=>{const g=function(T,S){return new Kh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((T,S)=>{f=f.insert(T,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,sn.newInvalidDocument(v)))});let d=Bl();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Xl(v.mutation,g,Cn.empty(),Nt.now()),Yh(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return le.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:gD(o.bundledQuery),readTime:Ir(o.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new ht(be.comparator),this.Rr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ya();return le.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),le.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),le.resolve()}getOverlaysForCollection(e,n,a){const o=Ya(),u=n.length+1,f=new be(n.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ht((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=Ya(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ya(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return le.resolve(d)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new Q2(n,a));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Vr=new xt(Ut.mr),this.gr=new xt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Ut(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new be(new ot([])),a=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new be(new ot([])),a=new Ut(n,e),o=new Ut(n,e+1);let u=Ve();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return be.comparator(e.key,n.key)||xe(e.Cr,n.Cr)}static pr(e,n){return xe(e.Cr,n.Cr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Ut.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new K2(u,n,a,o);this.mutationQueue.push(f);for(const d of o)this.Mr=this.Mr.add(new Ut(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(f)}lookupMutationBatch(e,n){return le.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Dm:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const d=this.Or(f.Cr);u.push(d)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new xt(xe);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],d=>{a=a.add(d.Cr)})}),le.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;be.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new be(u),0);let d=new xt(xe);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},f),le.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return le.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Ut(n,0),o=this.Mr.firstAfterOrEqual(a);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.kr=e,this.docs=function(){return new ht(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return le.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=ci();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),le.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ci();const f=n.path,d=new be(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||s2(a2(v),a)<=0||(o.has(v.key)||Yh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ce()}qr(e,n){return le.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new xD(this)}getSize(e){return le.resolve(this.size)}}class xD extends AD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),le.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.persistence=e,this.Qr=new ns(n=>Pm(n),Mm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Bm,this.targetCount=0,this.Kr=co.Un()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),le.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new co(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.zn(n),le.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return le.resolve(a)}addMatchingKeys(e,n,a){return this.Ur.yr(n,a),le.resolve()}removeMatchingKeys(e,n,a){this.Ur.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),le.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ur.vr(n);return le.resolve(a)}containsKey(e,n){return le.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Hh(0),this.zr=!1,this.zr=!0,this.jr=new OD,this.referenceDelegate=e(this),this.Hr=new PD(this),this.indexManager=new yD,this.remoteDocumentCache=function(o){return new ND(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new mD(n),this.Yr=new CD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ID,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new DD(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const o=new MD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return le.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class MD extends l2{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.ti=new Bm,this.ni=null}static ri(e){return new qm(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),le.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),le.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,a=>{const o=be.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return le.or([()=>le.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.oi=new ns(a=>h2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=SD(this,n)}static ri(e,n){return new Oh(e,n)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return le.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?le.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(d=>{d||(a++,u.removeEntry(f,Ie.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),le.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}ar(e,n,a){return le.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return le.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gC()?8:u2(on())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new kD;return this._s(e,n,f).next(d=>{if(u.result=d,this.Xi)return this.us(e,n,f,d.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?($s()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):($s()<=Le.DEBUG&&me("QueryEngine","Query:",Xs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?($s()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):le.resolve())}rs(e,n){if(GE(n))return le.resolve(null);let a=Cr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xp(n,null,"F"),a=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.cs(n,d);return this.ls(n,g,f,m.readTime)?this.rs(e,Xp(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,a,o){return GE(n)||o.isEqual(Ie.min())?le.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?le.resolve(null):($s()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xs(n)),this.hs(e,f,n,i2(o,tu)).next(d=>d))})}cs(e,n){let a=new xt(fb(e));return n.forEach((o,u)=>{Yh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return $s()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.ns.getDocumentsMatchingQuery(e,n,ea.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",VD=3e8;class UD{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ht(xe),this.Is=new ns(u=>Pm(u),Mm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function jD(i,e,n,a){return new UD(i,e,n,a)}async function kb(i,e){const n=Oe(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],d=[];let m=Ve();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:d}))})})}function zD(i,e){const n=Oe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const T=g.batch,S=T.keys();let N=le.resolve();return S.forEach(M=>{N=N.next(()=>v.getEntry(m,M)).next(G=>{const j=g.docVersions.get(M);Qe(j!==null),G.version.compareTo(j)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Ve();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function Lb(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function BD(i,e){const n=Oe(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const S=o.get(T);if(!S)return;d.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,T)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,a)),o=o.insert(T,N),function(G,j,X){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=VD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(S,N,v)&&d.push(n.Hr.updateTargetData(u,N))});let m=ci(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(qD(u,f,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!a.isEqual(Ie.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(v)}return le.waitFor(d).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function qD(i,e,n){let a=Ve(),o=Ve();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=ci();return n.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(d,m)):me(Fm,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function HD(i,e){const n=Oe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Dm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function FD(i,e){const n=Oe(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,le.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Qi(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function tm(i,e,n){const a=Oe(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;me(Fm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function i0(i,e,n){const a=Oe(i);let o=Ie.min(),u=Ve();return a.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,v){const T=Oe(m),S=T.Is.get(v);return S!==void 0?le.resolve(T.Ts.get(S)):T.Hr.getTargetData(g,v)}(a,f,Cr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,d.targetId).next(m=>{u=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:Ie.min(),n?u:Ve())).next(d=>(GD(a,N2(e),d),{documents:d,gs:u})))}function GD(i,e,n){let a=i.Es.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class a0{constructor(){this.activeTargetIds=V2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KD{constructor(){this.ho=new a0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new a0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="ConnectivityMonitor";class o0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(s0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(s0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function nm(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="RestConnection",YD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $D{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,n,a,o,u){const f=nm(),d=this.bo(e,n.toUriEncodedString());me(Np,`Sending RPC '${e}' ${f}:`,d,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,d,m,a).then(g=>(me(Np,`Received RPC '${e}' ${f}: `,g),g),g=>{throw so(Np,`RPC '${e}' ${f} failed with error: `,g,"url: ",d,"request:",a),g})}Co(e,n,a,o,u,f){return this.So(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const a=YD[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class WD extends $D{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=nm();return new Promise((f,d)=>{const m=new BT;m.setWithCredentials(!0),m.listenOnce(qT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ih.NO_ERROR:const v=m.getResponseJson();me(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case ih.TIMEOUT:me(rn,`RPC '${e}' ${u} timed out`),d(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const T=m.getStatus();if(me(rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const M=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(X)>=0?X:ce.UNKNOWN}(N.status);d(new Te(M,N.message))}else d(new Te(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{me(rn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);me(rn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,a,15)})}Wo(e,n,a){const o=nm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=GT(),d=FT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const v=u.join("");me(rn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);let S=!1,N=!1;const M=new XD({Fo:j=>{N?me(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(me(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),me(rn,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Mo:()=>T.close()}),G=(j,X,ue)=>{j.listen(X,ie=>{try{ue(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return G(T,zl.EventType.OPEN,()=>{N||(me(rn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),G(T,zl.EventType.CLOSE,()=>{N||(N=!0,me(rn,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),G(T,zl.EventType.ERROR,j=>{N||(N=!0,so(rn,`RPC '${e}' stream ${o} transport errored:`,j),M.Uo(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),G(T,zl.EventType.MESSAGE,j=>{var X;if(!N){const ue=j.data[0];Qe(!!ue);const ie=ue,pe=(ie==null?void 0:ie.error)||((X=ie[0])===null||X===void 0?void 0:X.error);if(pe){me(rn,`RPC '${e}' stream ${o} received error:`,pe);const de=pe.status;let ve=function(O){const x=At[O];if(x!==void 0)return Sb(x)}(de),k=pe.message;ve===void 0&&(ve=ce.INTERNAL,k="Unknown error status: "+de+" with message "+pe.message),N=!0,M.Uo(new Te(ve,k)),T.close()}else me(rn,`RPC '${e}' stream ${o} received:`,ue),M.Ko(ue)}}),G(d,HT.STAT_EVENT,j=>{j.stat===Fp.PROXY?me(rn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Fp.NOPROXY&&me(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i){return new tD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="PersistentStream";class Ub{constructor(e,n,a,o,u,f,d,m){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Vb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new Te(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZD extends Ub{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=iD(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Ir(f.readTime):Ie.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=em(this.serializer),n.addTarget=function(u,f){let d;const m=f.target;if(d=$p(m)?{documents:oD(u,m)}:{query:lD(u,m).ht},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=Rb(u,f.resumeToken);const g=Wp(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Ih(u,f.snapshotVersion.toTimestamp());const g=Wp(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=cD(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=em(this.serializer),n.removeTarget=e,this.I_(n)}}class JD extends Ub{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=sD(e.writeResults,e.commitTime),a=Ir(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=em(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>aD(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{}class tN extends eN{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Zp(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ce.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Co(e,Zp(n,a),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(ce.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ui(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="RemoteStore";class rN{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{rs(this)&&(me(es,"Restarting streams for network reachability change."),await async function(m){const g=Oe(m);g.W_.add(4),await gu(g),g.j_.set("Unknown"),g.W_.delete(4),await Jh(g)}(this))})}),this.j_=new nN(a,o)}}async function Jh(i){if(rs(i))for(const e of i.G_)await e(!0)}async function gu(i){for(const e of i.G_)await e(!1)}function jb(i,e){const n=Oe(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Ym(n)?Qm(n):Ao(n).c_()&&Km(n,e))}function Gm(i,e){const n=Oe(i),a=Ao(n);n.K_.delete(e),a.c_()&&zb(n,e),n.K_.size===0&&(a.c_()?a.P_():rs(n)&&n.j_.set("Unknown"))}function Km(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(i).y_(e)}function zb(i,e){i.H_.Ne(e),Ao(i).w_(e)}function Qm(i){i.H_=new W2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.j_.B_()}function Ym(i){return rs(i)&&!Ao(i).u_()&&i.K_.size>0}function rs(i){return Oe(i).W_.size===0}function Bb(i){i.H_=void 0}async function iN(i){i.j_.set("Online")}async function aN(i){i.K_.forEach((e,n)=>{Km(i,e)})}async function sN(i,e){Bb(i),Ym(i)?(i.j_.q_(e),Qm(i)):i.j_.set("Unknown")}async function oN(i,e,n){if(i.j_.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(a){me(es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Dh(i,a)}else if(e instanceof lh?i.H_.We(e):e instanceof Ab?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ie.min()))try{const a=await Lb(i.localStore);n.compareTo(a)>=0&&await function(u,f){const d=u.H_.ot(f);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach((m,g)=>{const v=u.K_.get(m);if(!v)return;u.K_.set(m,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),zb(u,m);const T=new Qi(v.target,m,g,v.sequenceNumber);Km(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(a){me(es,"Failed to raise snapshot:",a),await Dh(i,a)}}async function Dh(i,e,n){if(!So(e))throw e;i.W_.add(1),await gu(i),i.j_.set("Offline"),n||(n=()=>Lb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(es,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Jh(i)})}function qb(i,e){return e().catch(n=>Dh(i,n,e))}async function ef(i){const e=Oe(i),n=ia(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:Dm;for(;lN(e);)try{const o=await HD(e.localStore,a);if(o===null){e.U_.length===0&&n.P_();break}a=o.batchId,uN(e,o)}catch(o){await Dh(e,o)}Hb(e)&&Fb(e)}function lN(i){return rs(i)&&i.U_.length<10}function uN(i,e){i.U_.push(e);const n=ia(i);n.c_()&&n.S_&&n.b_(e.mutations)}function Hb(i){return rs(i)&&!ia(i).u_()&&i.U_.length>0}function Fb(i){ia(i).start()}async function cN(i){ia(i).C_()}async function hN(i){const e=ia(i);for(const n of i.U_)e.b_(n.mutations)}async function fN(i,e,n){const a=i.U_.shift(),o=Um.from(a,e,n);await qb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ef(i)}async function dN(i,e){e&&ia(i).S_&&await async function(a,o){if(function(f){return $2(f)&&f!==ce.ABORTED}(o.code)){const u=a.U_.shift();ia(a).h_(),await qb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ef(a)}}(i,e),Hb(i)&&Fb(i)}async function u0(i,e){const n=Oe(i);n.asyncQueue.verifyOperationInProgress(),me(es,"RemoteStore received new credentials");const a=rs(n);n.W_.add(3),await gu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Jh(n)}async function pN(i,e){const n=Oe(i);e?(n.W_.delete(2),await Jh(n)):e||(n.W_.add(2),await gu(n),n.j_.set("Unknown"))}function Ao(i){return i.J_||(i.J_=function(n,a,o){const u=Oe(n);return u.M_(),new ZD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:iN.bind(null,i),No:aN.bind(null,i),Lo:sN.bind(null,i),p_:oN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Ym(i)?Qm(i):i.j_.set("Unknown")):(await i.J_.stop(),Bb(i))})),i.J_}function ia(i){return i.Y_||(i.Y_=function(n,a,o){const u=Oe(n);return u.M_(),new JD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:cN.bind(null,i),Lo:dN.bind(null,i),D_:hN.bind(null,i),v_:fN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await ef(i)):(await i.Y_.stop(),i.U_.length>0&&(me(es,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,d=new $m(e,n,f,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(i,e){if(ui("AsyncQueue",`${e}: ${i}`),So(i))return new Te(ce.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||be.comparator(n.key,a.key):(n,a)=>be.comparator(n.key,a.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ro;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Z_=new ht(be.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class ho{constructor(e,n,a,o,u,f,d,m,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(d=>{f.push({type:0,doc:d})}),new ho(e,n,ro.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gN{constructor(){this.queries=h0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Oe(n),u=o.queries;o.queries=h0(),u.forEach((f,d)=>{for(const m of d.ta)m.onError(a)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function h0(){return new ns(i=>hb(i),Qh)}async function Gb(i,e){const n=Oe(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new mN,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const d=Xm(f,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Wm(n)}async function Kb(i,e){const n=Oe(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yN(i,e){const n=Oe(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const d of f.ta)d.oa(o)&&(a=!0);f.ea=o}}a&&Wm(n)}function vN(i,e,n){const a=Oe(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Wm(i){i.ia.forEach(e=>{e.next()})}var rm,f0;(f0=rm||(rm={}))._a="default",f0.Cache="cache";class Qb{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ho(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class _N{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=fb(e),this.wa=new ro(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new c0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const S=o.get(v),N=Yh(this.query,T)?T:null,M=!!S&&this.mutatedKeys.has(S.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;S&&N?S.data.isEqual(N.data)?M!==G&&(a.track({type:3,doc:N}),j=!0):this.va(S,N)||(a.track({type:2,doc:N}),j=!0,(m&&this.ya(N,m)>0||g&&this.ya(N,g)<0)&&(d=!0)):!S&&N?(a.track({type:0,doc:N}),j=!0):S&&!N&&(a.track({type:1,doc:S}),j=!0,(m||g)&&(d=!0)),j&&(N?(f=f.add(N),u=G?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{wa:f,Da:a,ls:d,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,T)=>function(N,M){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return G(N)-G(M)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(a),o=o!=null&&o;const d=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new ho(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new c0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new $b(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new Yb(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ho.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zm="SyncEngine";class EN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class TN{constructor(e){this.key=e,this.Ba=!1}}class bN{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ns(d=>hb(d),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new ht(be.comparator),this.Ua=new Map,this.Ka=new Bm,this.Wa={},this.Ga=new Map,this.za=co.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function SN(i,e,n=!0){const a=tS(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Xb(a,e,n,!0),o}async function AN(i,e){const n=tS(i);await Xb(n,e,!0,!1)}async function Xb(i,e,n,a){const o=await FD(i.localStore,Cr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let d;return a&&(d=await wN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&jb(i.remoteStore,o),d}async function wN(i,e,n,a,o){i.Ha=(T,S,N)=>async function(G,j,X,ue){let ie=j.view.ba(X);ie.ls&&(ie=await i0(G.localStore,j.query,!1).then(({documents:k})=>j.view.ba(k,ie)));const pe=ue&&ue.targetChanges.get(j.targetId),de=ue&&ue.targetMismatches.get(j.targetId)!=null,ve=j.view.applyChanges(ie,G.isPrimaryClient,pe,de);return p0(G,j.targetId,ve.Ma),ve.snapshot}(i,T,S,N);const u=await i0(i.localStore,e,!0),f=new _N(e,u.gs),d=f.ba(u.documents),m=mu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=f.applyChanges(d,i.isPrimaryClient,m);p0(i,n,g.Ma);const v=new EN(e,n,f);return i.ka.set(e,v),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function RN(i,e,n){const a=Oe(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!Qh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await tm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Gm(a.remoteStore,o.targetId),im(a,o.targetId)}).catch(bo)):(im(a,o.targetId),await tm(a.localStore,o.targetId,!0))}async function CN(i,e){const n=Oe(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Gm(n.remoteStore,a.targetId))}async function IN(i,e,n){const a=kN(i);try{const o=await function(f,d){const m=Oe(f),g=Nt.now(),v=d.reduce((N,M)=>N.add(M.key),Ve());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=ci(),G=Ve();return m.ds.getEntries(N,v).next(j=>{M=j,M.forEach((X,ue)=>{ue.isValidDocument()||(G=G.add(X))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,M)).next(j=>{T=j;const X=[];for(const ue of d){const ie=F2(ue,T.get(ue.key).overlayedDocument);ie!=null&&X.push(new ca(ue.key,ie,ib(ie.value.mapValue),er.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,X,d)}).next(j=>{S=j;const X=j.applyToLocalDocumentSet(T,G);return m.documentOverlayCache.saveOverlays(N,j.batchId,X)})}).then(()=>({batchId:S.batchId,changes:pb(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){let g=f.Wa[f.currentUser.toKey()];g||(g=new ht(xe)),g=g.insert(d,m),f.Wa[f.currentUser.toKey()]=g}(a,o.batchId,n),await yu(a,o.changes),await ef(a.remoteStore)}catch(o){const u=Xm(o,"Failed to persist write");n.reject(u)}}async function Wb(i,e){const n=Oe(i);try{const a=await BD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Qe(f.Ba):o.removedDocuments.size>0&&(Qe(f.Ba),f.Ba=!1))}),await yu(n,a,e)}catch(a){await bo(a)}}function d0(i,e,n){const a=Oe(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const d=f.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(f,d){const m=Oe(f);m.onlineState=d;let g=!1;m.queries.forEach((v,T)=>{for(const S of T.ta)S.sa(d)&&(g=!0)}),g&&Wm(m)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ON(i,e,n){const a=Oe(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ua.get(e),u=o&&o.key;if(u){let f=new ht(be.comparator);f=f.insert(u,sn.newNoDocument(u,Ie.min()));const d=Ve().add(u),m=new Wh(Ie.min(),new Map,new ht(xe),f,d);await Wb(a,m),a.$a=a.$a.remove(u),a.Ua.delete(e),Jm(a)}else await tm(a.localStore,e,!1).then(()=>im(a,e,n)).catch(bo)}async function DN(i,e){const n=Oe(i),a=e.batch.batchId;try{const o=await zD(n.localStore,e);Jb(n,a,null),Zb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await yu(n,o)}catch(o){await bo(o)}}async function NN(i,e,n){const a=Oe(i);try{const o=await function(f,d){const m=Oe(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Qe(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(a.localStore,e);Jb(a,e,n),Zb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await yu(a,o)}catch(o){await bo(o)}}function Zb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Jb(i,e,n){const a=Oe(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function im(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(a=>{i.Ka.containsKey(a)||eS(i,a)})}function eS(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Gm(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Jm(i))}function p0(i,e,n){for(const a of n)a instanceof Yb?(i.Ka.addReference(a.key,e),xN(i,a)):a instanceof $b?(me(Zm,"Document no longer in limbo: "+a.key),i.Ka.removeReference(a.key,e),i.Ka.containsKey(a.key)||eS(i,a.key)):Ce()}function xN(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(me(Zm,"New document in limbo: "+n),i.Qa.add(a),Jm(i))}function Jm(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new be(ot.fromString(e)),a=i.za.next();i.Ua.set(a,new TN(n)),i.$a=i.$a.insert(n,a),jb(i.remoteStore,new Qi(Cr(km(n.path)),a,"TargetPurposeLimboResolution",Hh.ae))}}async function yu(i,e,n){const a=Oe(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((d,m)=>{f.push(a.Ha(m,e,n).then(g=>{var v;if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Hm.Yi(m.targetId,g);u.push(T)}}))}),await Promise.all(f),a.La.p_(o),await async function(m,g){const v=Oe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(g,S=>le.forEach(S.Hi,N=>v.persistence.referenceDelegate.addReference(T,S.targetId,N)).next(()=>le.forEach(S.Ji,N=>v.persistence.referenceDelegate.removeReference(T,S.targetId,N)))))}catch(T){if(!So(T))throw T;me(Fm,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const N=v.Ts.get(S),M=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(M);v.Ts=v.Ts.insert(S,G)}}}(a.localStore,u))}async function PN(i,e){const n=Oe(i);if(!n.currentUser.isEqual(e)){me(Zm,"User change. New user:",e.toKey());const a=await kb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new Te(ce.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await yu(n,a.Rs)}}function MN(i,e){const n=Oe(i),a=n.Ua.get(e);if(a&&a.Ba)return Ve().add(a.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const d=n.ka.get(f);o=o.unionWith(d.view.Sa)}return o}}function tS(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ON.bind(null,e),e.La.p_=yN.bind(null,e.eventManager),e.La.Ja=vN.bind(null,e.eventManager),e}function kN(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return jD(this.persistence,new LD,e.initialUser,this.serializer)}Xa(e){return new Mb(qm.ri,this.serializer)}Za(e){return new KD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class LN extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof Oh);const a=this.persistence.referenceDelegate.garbageCollector;return new TD(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Mb(a=>Oh.ri(a,n),this.serializer)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>d0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gN}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),a=function(u){return new WD(u)}(e.databaseInfo);return function(u,f,d,m){return new tN(u,f,d,m)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,d){return new rN(a,o,u,f,d)}(this.localStore,this.datastore,e.asyncQueue,n=>d0(this.syncEngine,n,0),function(){return o0.D()?new o0:new QD}())}createSyncEngine(e,n){return function(o,u,f,d,m,g,v){const T=new bN(o,u,f,d,m,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Oe(o);me(es,"RemoteStore shutting down."),u.W_.add(5),await gu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class VN{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=YT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{me(aa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(me(aa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Xm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Pp(i,e){i.asyncQueue.verifyOperationInProgress(),me(aa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await kb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function m0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await UN(i);me(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>u0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>u0(e.remoteStore,o)),i._onlineComponents=e}async function UN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(aa,"Using user provided OfflineComponentProvider");try{await Pp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Pp(i,new Nh)}}else me(aa,"Using default OfflineComponentProvider"),await Pp(i,new LN(void 0));return i._offlineComponents}async function rS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(aa,"Using user provided OnlineComponentProvider"),await m0(i,i._uninitializedComponentsProvider._online)):(me(aa,"Using default OnlineComponentProvider"),await m0(i,new am))),i._onlineComponents}function jN(i){return rS(i).then(e=>e.syncEngine)}async function iS(i){const e=await rS(i),n=e.eventManager;return n.onListen=SN.bind(null,e.syncEngine),n.onUnlisten=RN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CN.bind(null,e.syncEngine),n}function zN(i,e,n={}){const a=new ai;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,d,m,g){const v=new nS({next:S=>{v.su(),f.enqueueAndForget(()=>Kb(u,T));const N=S.docs.has(d);!N&&S.fromCache?g.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&m&&m.source==="server"?g.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Qb(km(d.path),v,{includeMetadataChanges:!0,Ta:!0});return Gb(u,T)}(await iS(i),i.asyncQueue,e,n,a)),a.promise}function BN(i,e,n={}){const a=new ai;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,d,m,g){const v=new nS({next:S=>{v.su(),f.enqueueAndForget(()=>Kb(u,T)),S.fromCache&&m.source==="server"?g.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Qb(d,v,{includeMetadataChanges:!0,Ta:!0});return Gb(u,T)}(await iS(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i,e,n){if(!n)throw new Te(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qN(i,e,n,a){if(e===!0&&a===!0)throw new Te(ce.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function y0(i){if(!be.isDocumentKey(i))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function v0(i){if(be.isDocumentKey(i))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function eg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function hi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(i);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firestore.googleapis.com",_0=!0;class E0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oS,this.ssl=_0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_D)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new $O;switch(a.type){case"firstParty":return new JO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=g0.get(n);a&&(me("ComponentProvider","Removing Datastore"),g0.delete(n),a.terminate())}(this),Promise.resolve()}}function HN(i,e,n,a={}){var o;const u=(i=hi(i,tf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${n}`;u.host!==oS&&u.host!==d&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Xa(m,f)&&(i._setSettings(m),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=an.MOCK_USER;else{g=uC(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(T)}i._authCredentials=new XO(new KT(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class In{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ji extends nf{constructor(e,n,a){super(e,n,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new be(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function FN(i,e,...n){if(i=ln(i),sS("collection","path",e),i instanceof tf){const a=ot.fromString(e,...n);return v0(a),new Ji(i,null,a)}{if(!(i instanceof In||i instanceof Ji))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ot.fromString(e,...n));return v0(a),new Ji(i.firestore,null,a)}}function uh(i,e,...n){if(i=ln(i),arguments.length===1&&(e=YT.newId()),sS("doc","path",e),i instanceof tf){const a=ot.fromString(e,...n);return y0(a),new In(i,null,new be(a))}{if(!(i instanceof In||i instanceof Ji))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ot.fromString(e,...n));return y0(a),new In(i.firestore,i instanceof Ji?i.converter:null,new be(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="AsyncQueue";class b0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Vb(this,"async_queue_retry"),this.Su=()=>{const a=xp();a&&me(T0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ai;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!So(e))throw e;me(T0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let d=f.message||"";return f.stack&&(d=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),d}(a);throw ui("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=$m.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class wo extends tf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new b0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b0(e),this._firestoreClient=void 0,await e}}}function GN(i,e){const n=typeof i=="object"?i:iT(),a=typeof i=="string"?i:bh,o=_m(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=oC("firestore");u&&HN(o,...u)}return o}function tg(i){if(i._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||KN(i),i._firestoreClient}function KN(i){var e,n,a;const o=i._freezeSettings(),u=function(d,m,g,v){return new p2(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,aS(v.experimentalLongPollingOptions),v.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new VN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Qt.fromBase64String(e))}catch(n){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class YN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class lS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class ag{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(uS(this.Lu)&&QN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $N{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Zh(e)}ju(e,n,a,o=!1){return new ag({Lu:e,methodName:n,zu:a,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cS(i){const e=i._freezeSettings(),n=Zh(i._databaseId);return new $N(i._databaseId,!!e.ignoreUndefinedProperties,n)}function XN(i,e,n,a,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",f,a);const d=hS(a,f);let m,g;if(u.merge)m=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=sm(e,T,n);if(!f.contains(S))throw new Te(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);dS(v,S)||v.push(S)}m=new Cn(v),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new YN(new yn(d),m,g)}class af extends ng{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function WN(i,e,n,a){const o=i.ju(1,e,n);sg("Data must be an object, but it was:",o,a);const u=[],f=yn.empty();ua(a,(m,g)=>{const v=og(e,m,n);g=ln(g);const T=o.Uu(v);if(g instanceof af)u.push(v);else{const S=sf(g,T);S!=null&&(u.push(v),f.set(v,S))}});const d=new Cn(u);return new lS(f,d,o.fieldTransforms)}function ZN(i,e,n,a,o,u){const f=i.ju(1,e,n),d=[sm(e,a,n)],m=[o];if(u.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(sm(e,u[S])),m.push(u[S+1]);const g=[],v=yn.empty();for(let S=d.length-1;S>=0;--S)if(!dS(g,d[S])){const N=d[S];let M=m[S];M=ln(M);const G=f.Uu(N);if(M instanceof af)g.push(N);else{const j=sf(M,G);j!=null&&(g.push(N),v.set(N,j))}}const T=new Cn(g);return new lS(v,T,f.fieldTransforms)}function sf(i,e){if(fS(i=ln(i)))return sg("Unsupported field value:",e,i),hS(i,e);if(i instanceof ng)return function(a,o){if(!uS(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const d of a){let m=sf(d,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return U2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Nt.fromDate(a);return{timestampValue:Ih(o.serializer,u)}}if(a instanceof Nt){const u=new Nt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(a instanceof rg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof fo)return{bytesValue:Rb(o.serializer,a._byteString)};if(a instanceof In){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ig)return function(f,d){return{mapValue:{fields:{[nb]:{stringValue:rb},[Sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Lm(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${eg(a)}`)}(i,e)}function hS(i,e){const n={};return XT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(i,(a,o)=>{const u=sf(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function fS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof rg||i instanceof fo||i instanceof In||i instanceof ng||i instanceof ig)}function sg(i,e,n){if(!fS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=eg(n);throw a==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+a)}}function sm(i,e,n){if((e=ln(e))instanceof rf)return e._internalPath;if(typeof e=="string")return og(i,e);throw xh("Field path arguments must be of type string or ",i,!1,void 0,n)}const JN=new RegExp("[~\\*/\\[\\]]");function og(i,e,n){if(e.search(JN)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function xh(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${a}`),f&&(m+=` in document ${o}`),m+=")"),new Te(ce.INVALID_ARGUMENT,d+i+m)}function dS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ex extends pS{data(){return super.data()}}function mS(i,e){return typeof e=="string"?og(i,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nx{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ua(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new ig(u)}convertGeoPoint(e){return new rg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Gh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ot.fromString(e);Qe(xb(a));const o=new ru(a.get(1),a.get(3)),u=new be(a.popFirst(5));return o.isEqual(n)||ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gS extends pS{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(mS("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ch extends gS{data(e={}){return super.data(e)}}class ix{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new ch(this._firestore,this._userDataWriter,a.key,a,new Hl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const m=new ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Hl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Hl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:ax(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ax(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(i){i=hi(i,In);const e=hi(i.firestore,wo);return zN(tg(e),i._key).then(n=>hx(e,i,n))}class yS extends nx{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function ox(i){i=hi(i,nf);const e=hi(i.firestore,wo),n=tg(e),a=new yS(e);return tx(i._query),BN(n,i._query).then(o=>new ix(e,a,i,o))}function lx(i,e,n,...a){i=hi(i,In);const o=hi(i.firestore,wo),u=cS(o);let f;return f=typeof(e=ln(e))=="string"||e instanceof rf?ZN(u,"updateDoc",i._key,e,n,a):WN(u,"updateDoc",i._key,e),lg(o,[f.toMutation(i._key,er.exists(!0))])}function ux(i){return lg(hi(i.firestore,wo),[new Vm(i._key,er.none())])}function cx(i,e){const n=hi(i.firestore,wo),a=uh(i),o=rx(i.converter,e);return lg(n,[XN(cS(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,er.exists(!1))]).then(()=>a)}function lg(i,e){return function(a,o){const u=new ai;return a.asyncQueue.enqueueAndForget(async()=>IN(await jN(a),o,u)),u.promise}(tg(i),e)}function hx(i,e,n){const a=n.docs.get(e._key),o=new yS(i);return new gS(i,o,e._key,a,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){To=o})(vo),io(new Wa("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),d=new wo(new WO(a.getProvider("auth-internal")),new e2(f,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Xi(IE,OE,e),Xi(IE,OE,"esm2017")})();const fx={apiKey:"AIzaSyDG9Itw8PXI3YYuESPJCRInLhnIdMcu7-Q",authDomain:"instrus-d1d04.firebaseapp.com",projectId:"instrus-d1d04",storageBucket:"instrus-d1d04.firebasestorage.app",messagingSenderId:"897499351518",appId:"1:897499351518:web:acf0839627546ad41df54f",measurementId:"G-4863MKN00E"},vS=rT(fx),Fl=GO(vS),dx=GN(vS),px=()=>{const[i,e]=Y.useState(""),[n,a]=Y.useState(""),[o,u]=Y.useState(!1),[f,d]=Y.useState(null),m=Lh(),g=async v=>{var T;v.preventDefault(),u(!0),d(null);try{await NI(Fl,i,n),m("/instrus/players")}catch(S){d(S.message),console.error(S)}finally{console.log("connect : ",(T=Fl==null?void 0:Fl.currentUser)==null?void 0:T.email),u(!1)}};return z.jsxs("div",{className:"container",children:[z.jsx("input",{type:"email",className:"auth-input",placeholder:"Email...",value:i,onChange:v=>e(v.target.value)}),z.jsx("input",{type:"password",className:"auth-input",placeholder:"Password...",value:n,onChange:v=>a(v.target.value)}),z.jsx("button",{className:"auth-button",onClick:g,children:"Login"})]})};var hh={exports:{}},mx=hh.exports,S0;function gx(){return S0||(S0=1,function(i,e){(function(n,a){i.exports=a(po())})(mx,n=>(()=>{var a={703:(d,m,g)=>{var v=g(414);function T(){}function S(){}S.resetWarningCache=T,d.exports=function(){function N(j,X,ue,ie,pe,de){if(de!==v){var ve=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ve.name="Invariant Violation",ve}}function M(){return N}N.isRequired=N;var G={array:N,bigint:N,bool:N,func:N,number:N,object:N,string:N,symbol:N,any:N,arrayOf:M,element:N,elementType:N,instanceOf:M,node:N,objectOf:M,oneOf:M,oneOfType:M,shape:M,exact:M,checkPropTypes:S,resetWarningCache:T};return G.PropTypes=G,G}},697:(d,m,g)=>{d.exports=g(703)()},414:d=>{d.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:d=>{d.exports=n}},o={};function u(d){var m=o[d];if(m!==void 0)return m.exports;var g=o[d]={exports:{}};return a[d](g,g.exports,u),g.exports}u.n=d=>{var m=d&&d.__esModule?()=>d.default:()=>d;return u.d(m,{a:m}),m},u.d=(d,m)=>{for(var g in m)u.o(m,g)&&!u.o(d,g)&&Object.defineProperty(d,g,{enumerable:!0,get:m[g]})},u.o=(d,m)=>Object.prototype.hasOwnProperty.call(d,m),u.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var f={};return(()=>{u.r(f),u.d(f,{default:()=>I});var d=u(98),m=u.n(d),g=u(697),v=u.n(g);function T(){return T=Object.assign?Object.assign.bind():function(C){for(var w=1;w<arguments.length;w++){var te=arguments[w];for(var ee in te)Object.prototype.hasOwnProperty.call(te,ee)&&(C[ee]=te[ee])}return C},T.apply(this,arguments)}var S=function(C){var w=C.pageClassName,te=C.pageLinkClassName,ee=C.page,q=C.selected,L=C.activeClassName,ne=C.activeLinkClassName,se=C.getEventListener,A=C.pageSelectedHandler,K=C.href,Z=C.extraAriaContext,W=C.pageLabelBuilder,he=C.rel,_e=C.ariaLabel||"Page "+ee+(Z?" "+Z:""),ge=null;return q&&(ge="page",_e=C.ariaLabel||"Page "+ee+" is your current page",w=w!==void 0?w+" "+L:L,te!==void 0?ne!==void 0&&(te=te+" "+ne):te=ne),m().createElement("li",{className:w},m().createElement("a",T({rel:he,role:K?void 0:"button",className:te,href:K,tabIndex:q?"-1":"0","aria-label":_e,"aria-current":ge,onKeyPress:A},se(A)),W(ee)))};S.propTypes={pageSelectedHandler:v().func.isRequired,selected:v().bool.isRequired,pageClassName:v().string,pageLinkClassName:v().string,activeClassName:v().string,activeLinkClassName:v().string,extraAriaContext:v().string,href:v().string,ariaLabel:v().string,page:v().number.isRequired,getEventListener:v().func.isRequired,pageLabelBuilder:v().func.isRequired,rel:v().string};const N=S;function M(){return M=Object.assign?Object.assign.bind():function(C){for(var w=1;w<arguments.length;w++){var te=arguments[w];for(var ee in te)Object.prototype.hasOwnProperty.call(te,ee)&&(C[ee]=te[ee])}return C},M.apply(this,arguments)}var G=function(C){var w=C.breakLabel,te=C.breakAriaLabel,ee=C.breakClassName,q=C.breakLinkClassName,L=C.breakHandler,ne=C.getEventListener,se=ee||"break";return m().createElement("li",{className:se},m().createElement("a",M({className:q,role:"button",tabIndex:"0","aria-label":te,onKeyPress:L},ne(L)),w))};G.propTypes={breakLabel:v().oneOfType([v().string,v().node]),breakAriaLabel:v().string,breakClassName:v().string,breakLinkClassName:v().string,breakHandler:v().func.isRequired,getEventListener:v().func.isRequired};const j=G;function X(C){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return C??w}function ue(C){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ue(C)}function ie(){return ie=Object.assign?Object.assign.bind():function(C){for(var w=1;w<arguments.length;w++){var te=arguments[w];for(var ee in te)Object.prototype.hasOwnProperty.call(te,ee)&&(C[ee]=te[ee])}return C},ie.apply(this,arguments)}function pe(C,w){for(var te=0;te<w.length;te++){var ee=w[te];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(C,ee.key,ee)}}function de(C,w){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ee){return te.__proto__=ee,te},de(C,w)}function ve(C,w){if(w&&(ue(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(C)}function k(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function D(C){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},D(C)}function O(C,w,te){return w in C?Object.defineProperty(C,w,{value:te,enumerable:!0,configurable:!0,writable:!0}):C[w]=te,C}var x=function(C){(function(se,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(A&&A.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),A&&de(se,A)})(ne,C);var w,te,ee,q,L=(ee=ne,q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var se,A=D(ee);if(q){var K=D(this).constructor;se=Reflect.construct(A,arguments,K)}else se=A.apply(this,arguments);return ve(this,se)});function ne(se){var A,K;return function(Z,W){if(!(Z instanceof W))throw new TypeError("Cannot call a class as a function")}(this,ne),O(k(A=L.call(this,se)),"handlePreviousPage",function(Z){var W=A.state.selected;A.handleClick(Z,null,W>0?W-1:void 0,{isPrevious:!0})}),O(k(A),"handleNextPage",function(Z){var W=A.state.selected,he=A.props.pageCount;A.handleClick(Z,null,W<he-1?W+1:void 0,{isNext:!0})}),O(k(A),"handlePageSelected",function(Z,W){if(A.state.selected===Z)return A.callActiveCallback(Z),void A.handleClick(W,null,void 0,{isActive:!0});A.handleClick(W,null,Z)}),O(k(A),"handlePageChange",function(Z){A.state.selected!==Z&&(A.setState({selected:Z}),A.callCallback(Z))}),O(k(A),"getEventListener",function(Z){return O({},A.props.eventListener,Z)}),O(k(A),"handleClick",function(Z,W,he){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ge=_e.isPrevious,Fe=ge!==void 0&&ge,qe=_e.isNext,Yt=qe!==void 0&&qe,$t=_e.isBreak,ft=$t!==void 0&&$t,Xt=_e.isActive,Wt=Xt!==void 0&&Xt;Z.preventDefault?Z.preventDefault():Z.returnValue=!1;var Zt=A.state.selected,tt=A.props.onClick,jt=he;if(tt){var rt=tt({index:W,selected:Zt,nextSelectedPage:he,event:Z,isPrevious:Fe,isNext:Yt,isBreak:ft,isActive:Wt});if(rt===!1)return;Number.isInteger(rt)&&(jt=rt)}jt!==void 0&&A.handlePageChange(jt)}),O(k(A),"handleBreakClick",function(Z,W){var he=A.state.selected;A.handleClick(W,Z,he<Z?A.getForwardJump():A.getBackwardJump(),{isBreak:!0})}),O(k(A),"callCallback",function(Z){A.props.onPageChange!==void 0&&typeof A.props.onPageChange=="function"&&A.props.onPageChange({selected:Z})}),O(k(A),"callActiveCallback",function(Z){A.props.onPageActive!==void 0&&typeof A.props.onPageActive=="function"&&A.props.onPageActive({selected:Z})}),O(k(A),"getElementPageRel",function(Z){var W=A.state.selected,he=A.props,_e=he.nextPageRel,ge=he.prevPageRel,Fe=he.selectedPageRel;return W-1===Z?ge:W===Z?Fe:W+1===Z?_e:void 0}),O(k(A),"pagination",function(){var Z=[],W=A.props,he=W.pageRangeDisplayed,_e=W.pageCount,ge=W.marginPagesDisplayed,Fe=W.breakLabel,qe=W.breakClassName,Yt=W.breakLinkClassName,$t=W.breakAriaLabels,ft=A.state.selected;if(_e<=he)for(var Xt=0;Xt<_e;Xt++)Z.push(A.getPageElement(Xt));else{var Wt=he/2,Zt=he-Wt;ft>_e-he/2?Wt=he-(Zt=_e-ft):ft<he/2&&(Zt=he-(Wt=ft));var tt,jt,rt=function(Jt){return A.getPageElement(Jt)},ut=[];for(tt=0;tt<_e;tt++){var ar=tt+1;if(ar<=ge)ut.push({type:"page",index:tt,display:rt(tt)});else if(ar>_e-ge)ut.push({type:"page",index:tt,display:rt(tt)});else if(tt>=ft-Wt&&tt<=ft+(ft===0&&he>1?Zt-1:Zt))ut.push({type:"page",index:tt,display:rt(tt)});else if(Fe&&ut.length>0&&ut[ut.length-1].display!==jt&&(he>0||ge>0)){var sr=tt<ft?$t.backward:$t.forward;jt=m().createElement(j,{key:tt,breakAriaLabel:sr,breakLabel:Fe,breakClassName:qe,breakLinkClassName:Yt,breakHandler:A.handleBreakClick.bind(null,tt),getEventListener:A.getEventListener}),ut.push({type:"break",index:tt,display:jt})}}ut.forEach(function(Jt,On){var Hn=Jt;Jt.type==="break"&&ut[On-1]&&ut[On-1].type==="page"&&ut[On+1]&&ut[On+1].type==="page"&&ut[On+1].index-ut[On-1].index<=2&&(Hn={type:"page",index:Jt.index,display:rt(Jt.index)}),Z.push(Hn.display)})}return Z}),se.initialPage!==void 0&&se.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(se.initialPage,") and forcePage (").concat(se.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),K=se.initialPage?se.initialPage:se.forcePage?se.forcePage:0,A.state={selected:K},A}return w=ne,(te=[{key:"componentDidMount",value:function(){var se=this.props,A=se.initialPage,K=se.disableInitialCallback,Z=se.extraAriaContext,W=se.pageCount,he=se.forcePage;A===void 0||K||this.callCallback(A),Z&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(W)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(W,"). Did you forget a Math.ceil()?")),A!==void 0&&A>W-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(A," > ").concat(W-1,").")),he!==void 0&&he>W-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(he," > ").concat(W-1,")."))}},{key:"componentDidUpdate",value:function(se){this.props.forcePage!==void 0&&this.props.forcePage!==se.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(se.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var se=this.state.selected,A=this.props,K=A.pageCount,Z=se+A.pageRangeDisplayed;return Z>=K?K-1:Z}},{key:"getBackwardJump",value:function(){var se=this.state.selected-this.props.pageRangeDisplayed;return se<0?0:se}},{key:"getElementHref",value:function(se){var A=this.props,K=A.hrefBuilder,Z=A.pageCount,W=A.hrefAllControls;if(K)return W||se>=0&&se<Z?K(se+1,Z,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(se){var A=se===this.state.selected;if(this.props.ariaLabelBuilder&&se>=0&&se<this.props.pageCount){var K=this.props.ariaLabelBuilder(se+1,A);return this.props.extraAriaContext&&!A&&(K=K+" "+this.props.extraAriaContext),K}}},{key:"getPageElement",value:function(se){var A=this.state.selected,K=this.props,Z=K.pageClassName,W=K.pageLinkClassName,he=K.activeClassName,_e=K.activeLinkClassName,ge=K.extraAriaContext,Fe=K.pageLabelBuilder;return m().createElement(N,{key:se,pageSelectedHandler:this.handlePageSelected.bind(null,se),selected:A===se,rel:this.getElementPageRel(se),pageClassName:Z,pageLinkClassName:W,activeClassName:he,activeLinkClassName:_e,extraAriaContext:ge,href:this.getElementHref(se),ariaLabel:this.ariaLabelBuilder(se),page:se+1,pageLabelBuilder:Fe,getEventListener:this.getEventListener})}},{key:"render",value:function(){var se=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&se!==void 0)return se&&se(this.props);var A=this.props,K=A.disabledClassName,Z=A.disabledLinkClassName,W=A.pageCount,he=A.className,_e=A.containerClassName,ge=A.previousLabel,Fe=A.previousClassName,qe=A.previousLinkClassName,Yt=A.previousAriaLabel,$t=A.prevRel,ft=A.nextLabel,Xt=A.nextClassName,Wt=A.nextLinkClassName,Zt=A.nextAriaLabel,tt=A.nextRel,jt=this.state.selected,rt=jt===0,ut=jt===W-1,ar="".concat(X(Fe)).concat(rt?" ".concat(X(K)):""),sr="".concat(X(Xt)).concat(ut?" ".concat(X(K)):""),Jt="".concat(X(qe)).concat(rt?" ".concat(X(Z)):""),On="".concat(X(Wt)).concat(ut?" ".concat(X(Z)):""),Hn=rt?"true":"false",ha=ut?"true":"false";return m().createElement("ul",{className:he||_e,role:"navigation","aria-label":"Pagination"},m().createElement("li",{className:ar},m().createElement("a",ie({className:Jt,href:this.getElementHref(jt-1),tabIndex:rt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Hn,"aria-label":Yt,rel:$t},this.getEventListener(this.handlePreviousPage)),ge)),this.pagination(),m().createElement("li",{className:sr},m().createElement("a",ie({className:On,href:this.getElementHref(jt+1),tabIndex:ut?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":ha,"aria-label":Zt,rel:tt},this.getEventListener(this.handleNextPage)),ft)))}}])&&pe(w.prototype,te),Object.defineProperty(w,"prototype",{writable:!1}),ne}(d.Component);O(x,"propTypes",{pageCount:v().number.isRequired,pageRangeDisplayed:v().number,marginPagesDisplayed:v().number,previousLabel:v().node,previousAriaLabel:v().string,prevPageRel:v().string,prevRel:v().string,nextLabel:v().node,nextAriaLabel:v().string,nextPageRel:v().string,nextRel:v().string,breakLabel:v().oneOfType([v().string,v().node]),breakAriaLabels:v().shape({forward:v().string,backward:v().string}),hrefBuilder:v().func,hrefAllControls:v().bool,onPageChange:v().func,onPageActive:v().func,onClick:v().func,initialPage:v().number,forcePage:v().number,disableInitialCallback:v().bool,containerClassName:v().string,className:v().string,pageClassName:v().string,pageLinkClassName:v().string,pageLabelBuilder:v().func,activeClassName:v().string,activeLinkClassName:v().string,previousClassName:v().string,nextClassName:v().string,previousLinkClassName:v().string,nextLinkClassName:v().string,disabledClassName:v().string,disabledLinkClassName:v().string,breakClassName:v().string,breakLinkClassName:v().string,extraAriaContext:v().string,ariaLabelBuilder:v().func,eventListener:v().string,renderOnZeroPageCount:v().func,selectedPageRel:v().string}),O(x,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(C){return C},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const I=x})(),f})())}(hh)),hh.exports}var yx=gx();const _S=om(yx);var ES={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A0=$a.createContext&&$a.createContext(ES),vx=["attr","size","title"];function _x(i,e){if(i==null)return{};var n=Ex(i,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(n[a]=i[a])}return n}function Ex(i,e){if(i==null)return{};var n={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function Ph(){return Ph=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},Ph.apply(this,arguments)}function w0(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function Mh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w0(Object(n),!0).forEach(function(a){Tx(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):w0(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function Tx(i,e,n){return e=bx(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function bx(i){var e=Sx(i,"string");return typeof e=="symbol"?e:e+""}function Sx(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function TS(i){return i&&i.map((e,n)=>$a.createElement(e.tag,Mh({key:n},e.attr),TS(e.child)))}function of(i){return e=>$a.createElement(Ax,Ph({attr:Mh({},i.attr)},e),TS(i.child))}function Ax(i){var e=n=>{var{attr:a,size:o,title:u}=i,f=_x(i,vx),d=o||n.size||"1em",m;return n.className&&(m=n.className),i.className&&(m=(m?m+" ":"")+i.className),$a.createElement("svg",Ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:m,style:Mh(Mh({color:i.color||n.color},n.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&$a.createElement("title",null,u),i.children)};return A0!==void 0?$a.createElement(A0.Consumer,null,n=>e(n)):e(ES)}function bS(i){return of({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function SS(i){return of({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function Wn(i){return of({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"},child:[]}]})(i)}function AS(i){return of({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}class wS{constructor(e){this.collectionName=e,this.collectionRef=FN(dx,e)}async create(e){try{return(await cx(this.collectionRef,e)).id}catch(n){throw console.error("Error adding document: ",n),n}}async read(e){try{const n=uh(this.collectionRef,e),a=await sx(n);if(!a.exists())throw new Error("Document does not exist");return a.data()}catch(n){throw console.error("[FirestoreService] Read error:",n),n}}async readAll(){try{return(await ox(this.collectionRef)).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("Error reading documents: ",e),e}}async update(e,n){try{const a=uh(this.collectionRef,e);await lx(a,n)}catch(a){throw console.error("Error updating document: ",a),a}}async delete(e){try{const n=uh(this.collectionRef,e);await ux(n)}catch(n){throw console.error("Error deleting document: ",n),n}}}const Ro=new wS("instruments"),wx=async i=>{try{return!(await Ro.readAll()).some(n=>n.code===i)}catch(e){throw console.error("Error checking code uniqueness:",e),e}},Rx=async i=>{if(!await wx(i.code)){console.error("Code instrument already exists");return}try{const e=await Ro.create(i);return console.log("Instrument created with ID:",e),e}catch(e){throw console.error("Error creating instrument:",e),e}},lf=async i=>{try{return await Ro.read(i)}catch(e){throw console.error("Error reading instrument:",e),e}},uf=async()=>{try{return await Ro.readAll()}catch(i){throw console.error("Error reading instruments:",i),i}},cf=async(i,e)=>{try{await Ro.update(i,e),console.log("Instrument updated")}catch(n){throw console.error("Error updating instrument:",n),n}},Cx=async i=>{try{await Ro.delete(i),console.log("Instrument deleted")}catch(e){throw console.error("Error deleting instrument:",e),e}},Ix=async()=>{try{return(await uf()).filter(e=>e.isFree)}catch(i){throw console.error("Error getting available instruments:",i),i}},RS=async i=>{try{const e=await lf(i);await cf(i,{...e,isFree:!0,playerId:null}),console.log("Instrument libr")}catch(e){throw console.error("Error setting free instrument:",e),e}},CS=async(i,e)=>{try{const n=await lf(i);await cf(i,{...n,isFree:!1,playerId:e}),console.log("Instrument affect au joueur",e)}catch(n){throw console.error("Error affecting instrument : ",n),n}},Co=new wS("players"),sa=i=>typeof i=="string"?i:i==null?void 0:i.id,IS=async(i,e=null)=>{const n=sa(i);return(await Co.readAll()).some(o=>sa(o.instrumentId)===n&&o.id!==e)},Ox=async i=>{if(i.instrumentId&&await IS(i.instrumentId))throw new Error("Instrument is already assigned to another player");try{const e=sa(i.instrumentId),n=await Co.create({...i,instrumentId:e,lastname:i.lastname.toUpperCase()});return e&&n&&await CS(e,n),n}catch(e){throw console.error("[PlayerService] Create error:",e),e}},OS=async i=>{try{const e=await Co.read(i),n=sa(e.instrumentId);return n&&(e.instrument=await lf(n)),e}catch(e){throw console.error("[PlayerService] Read error:",e),e}},hf=async()=>{try{const i=await Co.readAll();return await Promise.all(i.map(async n=>{const a=sa(n.instrumentId);return a&&(n.instrument=await lf(a)),n}))}catch(i){throw console.error("[PlayerService] ReadAll error:",i),i}},Dx=async(i,e)=>{const n=sa(e.instrumentId);if(n&&await IS(n,i))throw new Error("Instrument is already assigned to another player");try{const a=await OS(i),o=sa(a.instrumentId);return o&&o!==n&&await RS(o),n&&o!==n&&await CS(n,i),await Co.update(i,{...e,instrumentId:n,lastname:e.lastname.toUpperCase()}),!0}catch(a){throw console.error("[PlayerService] Update error:",a),a}},Nx=async i=>{try{const e=await OS(i),n=sa(e.instrumentId);n&&await RS(n),await Co.delete(i)}catch(e){throw console.error("[PlayerService] Delete error:",e),e}},xx=({player:i,onChange:e,onSubmit:n,onCancel:a,submitLabel:o,isEditing:u,filterPupitre:f})=>{const[d,m]=Y.useState([]);Y.useEffect(()=>{(async()=>{try{const T=await Ix(),S=f?T.filter(N=>N.pupitre===f):T;m(S)}catch(T){console.error("Erreur chargement instruments disponibles:",T)}})()},[f]);const g=async v=>{v.preventDefault();try{const T=i.nickname&&i.nickname.trim()!==""?i.nickname.trim():null,S={firstname:i.firstname,lastname:i.lastname,nickname:T,pupitre:i.pupitre,instrumentId:i.instrumentId};u?await Dx(i.id,S):await Ox(S),n()}catch(T){console.error("Erreur lors de la soumission du formulaire :",T)}};return z.jsxs("form",{onSubmit:g,className:"formulaire",children:[z.jsx("input",{type:"text",placeholder:"Prnom",value:i.firstname||"",onChange:v=>e(T=>({...T,firstname:v.target.value})),required:!0}),z.jsx("input",{type:"text",placeholder:"Nom",value:i.lastname||"",onChange:v=>e(T=>({...T,lastname:v.target.value.toUpperCase()})),required:!0}),z.jsx("input",{type:"text",placeholder:"Surnom",value:i.nickname||"",onChange:v=>e(T=>({...T,nickname:v.target.value}))}),z.jsxs("div",{className:"form-pupitre",children:[z.jsx("p",{children:"Pupitre"}),z.jsxs("select",{value:i.pupitre,onChange:v=>e(T=>({...T,pupitre:v.target.value,instrumentId:""})),children:[z.jsx("option",{value:"",children:"Slectionnez un pupitre"}),z.jsx("option",{value:"Caixa",children:"Caixa"}),z.jsx("option",{value:"Dobra",children:"Dobra"}),z.jsx("option",{value:"Basse 1",children:"Basse 1"}),z.jsx("option",{value:"Basse 2",children:"Basse 2"}),z.jsx("option",{value:"Repinique",children:"Rpinique"})]})]}),z.jsxs("select",{value:i.instrumentId||"",onChange:v=>e(T=>({...T,instrumentId:v.target.value})),children:[z.jsx("option",{value:"",children:"-- Choisir un instrument --"}),d.map(v=>z.jsx("option",{value:v.id,children:v.code},v.id))]}),z.jsxs("div",{className:"form-actions",children:[z.jsx("button",{type:"submit",children:o}),z.jsx("button",{type:"button",onClick:a,children:"Annuler"})]})]})},Px={firstname:"",lastname:"",nickname:"",pupitre:"",instrumentId:""},Mx=({searchTerm:i})=>{const[e,n]=Y.useState([]),[a,o]=Y.useState(null),[u,f]=Y.useState(!1),[d,m]=Y.useState(!1),[g,v]=Y.useState({key:null,direction:"ascending"}),[T,S]=Y.useState(0),N=10;Y.useEffect(()=>{M()},[]);const M=async()=>{try{const x=await hf();n(x)}catch(x){console.error("Erreur lors du chargement des joueurs :",x)}},G=x=>{S(x.selected)},j=x=>{o(x),m(!0),f(!0)},X=()=>{o(null),m(!1),f(!0)},ue=()=>{f(!1),o(null)},ie=async()=>{ue(),await M()},pe=async x=>{if(window.confirm("tes-vous sr de vouloir supprimer ce joueur?"))try{await Nx(x),n(I=>I.filter(C=>C.id!==x))}catch(I){console.error("Erreur suppression joueur:",I)}},de=x=>{let I="ascending";g.key===x&&g.direction==="ascending"&&(I="descending"),v({key:x,direction:I})},ve=()=>g.key?[...e].sort((x,I)=>{const C=g.key==="instrument"?x.instrument?x.instrument.code:"":x[g.key],w=g.key==="instrument"?I.instrument?I.instrument.code:"":I[g.key];return C<w?g.direction==="ascending"?-1:1:C>w?g.direction==="ascending"?1:-1:0}):e,k=i?i.toLowerCase():"",D=ve().filter(x=>{const I=x.firstname?x.firstname.toLowerCase():"",C=x.lastname?x.lastname.toLowerCase():"",w=x.nickname?x.nickname.toLowerCase():"";return I.includes(k)||C.includes(k)||w.includes(k)}),O=D.slice(T*N,(T+1)*N);return z.jsxs("div",{className:"table-list",children:[z.jsxs("table",{children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsxs("th",{className:"th-order",onClick:()=>de("firstname"),children:["Prnom ",z.jsx(Wn,{})]}),z.jsxs("th",{className:"th-order",onClick:()=>de("lastname"),children:["Nom ",z.jsx(Wn,{})]}),z.jsxs("th",{className:"th-order",onClick:()=>de("nickname"),children:["Surnom ",z.jsx(Wn,{})]}),z.jsxs("th",{className:"th-order",onClick:()=>de("pupitre"),children:["Pupitre ",z.jsx(Wn,{})]}),z.jsxs("th",{className:"th-order",onClick:()=>de("instrument"),children:["Instrument ",z.jsx(Wn,{})]}),z.jsxs("th",{children:["Actions ",z.jsx("button",{className:"create-icon",onClick:X,children:z.jsx(SS,{})})]})]})}),z.jsx("tbody",{children:O.map(x=>z.jsxs("tr",{children:[z.jsx("td",{children:x.firstname}),z.jsx("td",{children:x.lastname}),z.jsx("td",{children:x.nickname}),z.jsx("td",{children:x.pupitre}),z.jsx("td",{children:x.instrument?x.instrument.code:"Aucun"}),z.jsxs("td",{children:[z.jsx("button",{className:"edit-icon",onClick:()=>j(x),children:z.jsx(bS,{})}),z.jsx("button",{className:"trash-icon",onClick:()=>pe(x.id),children:z.jsx(AS,{})})]})]},x.id))})]}),z.jsx(_S,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",pageCount:Math.ceil(D.length/N),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:G,containerClassName:"pagination",activeClassName:"active"}),z.jsxs(gm,{isOpen:u,onRequestClose:ue,contentLabel:"Formulaire Joueur",children:[z.jsx("h2",{children:a?"Modifier un joueur":"Crer un joueur"}),z.jsx(xx,{player:a||Px,onChange:o,onSubmit:ie,onCancel:ue,submitLabel:d?"Mettre  jour":"Crer",isEditing:d})]})]})},DS=Y.createContext(),kx=({children:i})=>{const[e,n]=Y.useState([]),[a,o]=Y.useState([]);return Y.useEffect(()=>{const u=async()=>{const d=await hf();n(d)},f=async()=>{const d=await uf();o(d)};u(),f()},[]),z.jsx(DS.Provider,{value:{players:e,setPlayers:n,instruments:a,setInstruments:o},children:i})},Lx=()=>Y.useContext(DS),Vx=({instrument:i,onChange:e,onSubmit:n,onCancel:a,submitLabel:o,isEditing:u})=>{const f=async d=>{d.preventDefault();try{const m={code:i.code,hasLight:i.hasLight,isFree:i.isFree,isSticked:i.isSticked,observation:i.observation,pupitre:i.pupitre};u?await cf(i.id,m):await Rx(m),n()}catch(m){console.error("Erreur lors de la soumission du formulaire : ",m)}};return z.jsxs("form",{onSubmit:f,className:"formulaire",children:[z.jsx("input",{type:"text",placeholder:"Code",value:i.code||"",onChange:d=>e({...i,code:d.target.value}),required:!0}),z.jsxs("label",{children:[z.jsx("input",{type:"checkbox",checked:i.hasLight,onChange:d=>e({...i,hasLight:d.target.checked})})," Lumire"]}),z.jsxs("label",{children:[z.jsx("input",{type:"checkbox",checked:i.isFree,onChange:d=>e({...i,isFree:d.target.checked})})," Disponible"]}),z.jsxs("label",{children:[z.jsx("input",{type:"checkbox",checked:i.isSticked,onChange:d=>e({...i,isSticked:d.target.checked})})," Stick"]}),z.jsx("input",{type:"text",placeholder:"Observation",value:i.observation||"",onChange:d=>e({...i,observation:d.target.value})}),z.jsxs("select",{value:i.pupitre||"",onChange:d=>e({...i,pupitre:d.target.value}),children:[z.jsx("option",{value:"",children:"Slectionnez un pupitre"}),z.jsx("option",{value:"Caixa",children:"Caixa"}),z.jsx("option",{value:"Dobra",children:"Dobra"}),z.jsx("option",{value:"Basse 1",children:"Basse 1"}),z.jsx("option",{value:"Basse 2",children:"Basse 2"}),z.jsx("option",{value:"Repinique",children:"Rpinique"})]}),z.jsxs("div",{className:"form-actions",children:[z.jsx("button",{type:"submit",children:o}),z.jsx("button",{type:"button",onClick:a,children:"Annuler"})]})]})},Ux={code:"",hasLight:!1,isFree:!0,isSticked:!0,observation:"",playerId:"",pupitre:""},jx=({searchTerm:i})=>{const[e,n]=Y.useState([]),{instruments:a,setInstruments:o}=Lx(),[u,f]=Y.useState(null),[d,m]=Y.useState(!1),[g,v]=Y.useState(!1),[T,S]=Y.useState({key:null,direction:"ascending"}),[N,M]=Y.useState(0),G=10,j=async()=>{try{const I=await uf();o(I)}catch(I){console.error("Erreur lors du chargement des instruments: ",I)}},X=async()=>{try{const I=await hf();n(I)}catch(I){console.error("Erreur lors du chargement des joueurs :",I)}};Y.useEffect(()=>{j(),X()},[]);const ue=I=>{f(I),v(!0),m(!0)},ie=()=>{f(null),v(!1),m(!0)},pe=()=>{m(!1),f(null)},de=async()=>{pe(),await j()},ve=async I=>{if(window.confirm("tes-vous sr de vouloir supprimer cet instrument?"))try{await Cx(I),o(C=>C.filter(w=>w.id!==I))}catch(C){console.error("Erreur  la suppression",C)}},k=I=>{let C="ascending";T.key===I&&T.direction==="ascending"&&(C="descending"),S({key:I,direction:C})},O=[...a].sort((C,w)=>{var q,L;let te,ee;return T.key==="firstname"?(te=((q=e.find(ne=>ne.id===C.playerId))==null?void 0:q.firstname)||"",ee=((L=e.find(ne=>ne.id===w.playerId))==null?void 0:L.firstname)||""):(te=C[T.key],ee=w[T.key]),typeof te=="boolean"&&(te=te?1:0,ee=ee?1:0),te<ee?T.direction==="ascending"?-1:1:te>ee?T.direction==="ascending"?1:-1:0}).filter(I=>{var te;const C=e.find(ee=>ee.id===I.playerId),w=((te=C==null?void 0:C.firstname)==null?void 0:te.toLowerCase())||"";return I.code.toLowerCase().includes(i.toLowerCase())||w.includes(i.toLowerCase())}),x=O.slice(N*G,(N+1)*G);return z.jsxs("div",{className:"table-list",children:[z.jsxs("table",{children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsxs("th",{onClick:()=>k("code"),children:["Instrument ",z.jsx(Wn,{})]}),z.jsxs("th",{onClick:()=>k("hasLight"),children:["Lumire ",z.jsx(Wn,{})]}),z.jsxs("th",{onClick:()=>k("isFree"),children:["Disponible ",z.jsx(Wn,{})]}),z.jsxs("th",{onClick:()=>k("pupitre"),children:["Pupitre ",z.jsx(Wn,{})]}),z.jsxs("th",{onClick:()=>k("isSticked"),children:["Stick ",z.jsx(Wn,{})]}),z.jsx("th",{onClick:()=>k("observation"),children:"Observation"}),z.jsxs("th",{onClick:()=>k("firstname"),children:["Prnom ",z.jsx(Wn,{})]}),z.jsxs("th",{children:["Actions ",z.jsx("button",{className:"create-icon",onClick:ie,children:z.jsx(SS,{})})]})]})}),z.jsx("tbody",{children:x.map(I=>{const C=e.find(w=>w.id===I.playerId);return z.jsxs("tr",{children:[z.jsx("td",{children:I.code}),z.jsx("td",{children:I.hasLight?"Oui":"Non"}),z.jsx("td",{children:I.isFree?"Oui":"Non"}),z.jsx("td",{children:I.pupitre}),z.jsx("td",{children:I.isSticked?"Oui":"Non"}),z.jsx("td",{children:I.observation}),z.jsx("td",{children:C?C.firstname:"Aucun"}),z.jsxs("td",{children:[z.jsx("button",{className:"edit-icon",onClick:()=>ue(I),children:z.jsx(bS,{})}),z.jsx("button",{className:"trash-icon",onClick:()=>ve(I.id),children:z.jsx(AS,{})})]})]},I.id)})})]}),z.jsx(_S,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",pageCount:Math.ceil(O.length/G),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:I=>M(I.selected),containerClassName:"pagination",activeClassName:"active"}),z.jsxs(gm,{isOpen:d,onRequestClose:pe,contentLabel:"Formulaire Instrument",children:[z.jsx("h2",{children:u?"Modifier un instrument":"Crer un instrument"}),z.jsx(Vx,{instrument:u||Ux,onChange:f,onSubmit:de,onCancel:pe,submitLabel:g?"Mettre  jour":"Crer",isEditing:g})]})]})},zx=async()=>{try{const i=await uf(),e=await hf();return i.filter(u=>u.hasLight===!0).map(u=>({...u,player:u.playerId?e.find(f=>f.id===u.playerId):null})).sort((u,f)=>u.isFree===f.isFree?u.code.localeCompare(f.code):u.isFree?1:-1)}catch(i){throw console.error("[LightStockService] Error fetching light instruments:",i),i}},Bx=async(i,e)=>{try{const n=!e.isLightStock;return await cf(i,{...e,isLightStock:n}),n}catch(n){throw console.error("[LightStockService] Error toggling light stock:",n),n}},R0=i=>{const e=i.length,n=i.filter(o=>!o.isFree).length,a=i.filter(o=>o.isLightStock===!0).length;return{totalInstruments:e,totalAssigned:n,totalInStock:a}},qx=i=>{if(!i)return"";const e=i.lastname?i.lastname.charAt(0).toUpperCase():"";return`${i.firstname}${e?" "+e:""}`},Hx=()=>{const[i,e]=Y.useState([]),[n,a]=Y.useState({totalInstruments:0,totalAssigned:0,totalInStock:0}),[o,u]=Y.useState(!0),[f,d]=Y.useState(null);Y.useEffect(()=>{m()},[]);const m=async()=>{u(!0),d(null);try{const v=await zx();e(v),a(R0(v))}catch(v){console.error("Erreur lors du chargement du stock lumires:",v),d("Erreur lors du chargement des donnes")}finally{u(!1)}},g=async v=>{try{const T=i.map(S=>S.id===v.id?{...S,isLightStock:!S.isLightStock}:S);e(T),a(R0(T)),await Bx(v.id,v)}catch(T){console.error("Erreur lors de la mise  jour du stock:",T),await m(),d("Erreur lors de la mise  jour du stock")}};return o?z.jsx("div",{className:"light-stock-container loading",children:"Chargement..."}):f?z.jsxs("div",{className:"light-stock-container error",children:[z.jsx("p",{children:f}),z.jsx("button",{onClick:m,children:"Ressayer"})]}):z.jsxs("div",{className:"light-stock-container",children:[z.jsx("div",{className:"light-stock-header",children:z.jsx("h1",{children:"Stock Lumires"})}),z.jsxs("table",{className:"light-stock-table",children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsx("th",{children:"Instru"}),z.jsx("th",{children:"Joueur"}),z.jsx("th",{children:"Stock"})]})}),z.jsx("tbody",{children:i.map((v,T)=>z.jsxs("tr",{className:T===i.findIndex(S=>S.isFree)?"separator":"",children:[z.jsx("td",{className:"instru-code",children:v.code}),z.jsx("td",{className:"player-name",children:qx(v.player)}),z.jsxs("td",{className:"stock-toggle",children:[z.jsx("input",{type:"checkbox",checked:v.isLightStock===!0,onChange:()=>g(v),className:"stock-checkbox",title:v.isLightStock?"En caisse":"Chez le joueur"}),z.jsx("span",{className:"stock-label",children:v.isLightStock?"Joueur":"Stock"})]})]},v.id))}),z.jsx("tfoot",{children:z.jsxs("tr",{className:"totals-row",children:[z.jsxs("td",{className:"total-label",children:["Total: ",n.totalInstruments]}),z.jsxs("td",{className:"total-label",children:["Attribus: ",n.totalAssigned]}),z.jsxs("td",{className:"total-label",children:["En stock: ",n.totalInStock]})]})})]}),z.jsx("button",{onClick:m,className:"refresh-button",children:" Rafrachir"})]})},Fx=({onSearch:i})=>{const e=Lh(),n=Y.useRef(null),a=Y.useRef(null),[o,u]=Y.useState(!1),[f,d]=Y.useState("");Y.useEffect(()=>{const v=T=>{n.current&&!n.current.contains(T.target)&&a.current&&!a.current.contains(T.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const m=v=>{d(v.target.value),i(v.target.value)},g=async()=>{try{await MI(Fl),e("instrus/")}catch(v){console.error("Error logging out:",v)}};return z.jsxs(z.Fragment,{children:[z.jsx("button",{ref:a,className:"menu-button","aria-label":"Ouvrir le menu","aria-expanded":o,"aria-controls":"nav-menu",onClick:()=>u(v=>!v),children:""}),z.jsx("nav",{className:`nav ${o?"open":""}`,ref:n,id:"nav-menu",role:"navigation","aria-label":"Menu principal",children:z.jsxs("ul",{children:[z.jsx("li",{children:z.jsx(Gl,{to:"instrus/players",children:"Joueurs"})}),z.jsx("li",{children:z.jsx(Gl,{to:"instrus/instruments",children:"Instruments"})}),z.jsx("li",{children:z.jsx(Gl,{to:"instrus/lightstock",children:"Stock Lumires"})}),z.jsx("li",{children:z.jsx("input",{type:"text",placeholder:"Rechercher...",value:f,onChange:m})}),z.jsx("li",{children:z.jsx("button",{onClick:g,children:"Logout"})})]})}),z.jsx(nR,{})]})},Gx=()=>{gm.setAppElement("#root");const[i,e]=Y.useState("");return z.jsx(kx,{children:z.jsx(IR,{children:z.jsxs(iR,{children:[z.jsx(Ka,{path:"/instrus/",element:z.jsx(px,{})}),z.jsxs(Ka,{element:z.jsx(Fx,{onSearch:e}),children:[z.jsx(Ka,{path:"instrus/players",element:z.jsx(Mx,{searchTerm:i})}),z.jsx(Ka,{path:"instrus/instruments",element:z.jsx(jx,{searchTerm:i})}),z.jsx(Ka,{path:"instrus/lightstock",element:z.jsx(Hx,{})})]}),z.jsx(Ka,{path:"/instrus",element:z.jsx(tR,{to:"/instrus/"})})]})})})};cw.createRoot(document.getElementById("root")).render(z.jsx(Y.StrictMode,{children:z.jsx(Gx,{})}));
